const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-BYCUR9qn.js","assets/mermaid-bundle.js"])))=>i.map(i=>d[i]);
var DS=Object.defineProperty;var Ax=e=>{throw TypeError(e)};var FS=(e,t,r)=>t in e?DS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jt=(e,t,r)=>FS(e,typeof t!="symbol"?t+"":t,r),Id=(e,t,r)=>t.has(e)||Ax("Cannot "+r);var P=(e,t,r)=>(Id(e,t,"read from private field"),r?r.call(e):t.get(e)),ye=(e,t,r)=>t.has(e)?Ax("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),le=(e,t,r,n)=>(Id(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pe=(e,t,r)=>(Id(e,t,"access private method"),r);var xo=(e,t,r,n)=>({set _(o){le(e,t,o,r)},get _(){return P(e,t,n)}});import{r as h,b as LS,j as s,R as He,d as BS,c as zS}from"./chunk-Dvw2JwGt.js";import{i as Ui,r as Ef,j as Mf,m as Af,k as Rf,l as Cf,o as Ki,n as ys,q as ga,s as We,t as ur,v as ml,Z as pj,u as Ge,w as mj,x as Cc,y as Of,z as Df,B as Ff,D as Lf,F as hj,H as oe,V as Fe,h as qS,p as US,a as KS,b as WS,M as $S,c as HS,e as VS,f as GS,K as QS,g as YS,G as Oc,I as Va,J as Hs,C as In,A as Bf,L as fj,N as XS,Q as JS,R as xt,S as ZS,O as eT,P as ql,U as uc,W as ze,X as tT,Y as oo,_ as yh,$ as Tt,a0 as ce,a1 as $s,a2 as yt,a3 as Tn,a4 as sT,a5 as rT,a6 as jr,a7 as Ts,d as gj,a8 as nT,a9 as wh,aa as yi,ab as oT,ac as aT,ad as iT,ae as lT,af as cT,ag as dT,ah as uT,ai as pT,aj as mT,ak as pc,al as wi,am as hT,an as Rx,ao as fT,ap as gT,aq as Cx,ar as xT,as as vT,at as Ul,au as hl,av as Pd,aw as fl,ax as kh,ay as bT,az as yT,aA as wT,aB as gl,aC as kT,aD as yn,aE as jn,aF as jT,aG as xl,aH as vl,aI as _T,aJ as Ox,aK as Dx,aL as Fx,aM as NT,aN as ST,aO as TT,aP as IT,E as PT,T as ET}from"./chunk-BLYfPbOs.js";import{v as A}from"./chunk-CdxzjLEs.js";import{J as MT,K as Lx,L as xj,M as vj,N as AT,O as ki,P as Ed,Q as ca,I as RT,U as jh,W as bj,Y as yj,Z as CT,$ as mr,a0 as OT,a1 as zf,a2 as wj,a3 as hs,a4 as DT,a5 as kj,a6 as jj,a7 as qf,a8 as _j,a9 as Nj,e as ee,aa as Sj,c as Ke,ab as _h,ac as Dc,ad as Ls,ae as FT,af as Pn,X as xn,ag as LT,ah as En,ai as ao,B as ae,d as Vo,aj as Mn,g as Wi,h as Fc,i as $i,j as Lc,k as Hi,l as zo,b as Nr,ak as Tj,al as BT,am as zT,an as qT,ao as UT,ap as KT,aq as Ij,ar as WT,as as $T,at as HT,au as VT,av as GT,aw as QT,ax as YT,ay as XT,az as JT,aA as ZT,aB as Bx,aC as eI,f as Bc,p as Re,S as de,aD as mc,u as bt,D as tI,aE as zx,aF as qx,aG as Ux,H as sI,A as rI,x as ri,aH as br,w as Kx,aI as zc,aJ as qc,aK as Uc,C as Uf,aL as Kf,aM as nI,aN as oI,aO as us,aP as Wf,aQ as Rt,aR as aI,aS as iI,aT as Yt,a as $f,aU as lI,T as Vi,aV as _r,aW as cI,aX as dI,aY as uI,aZ as Wx,E as pI,n as mI}from"./chunk-Ce_B3nKE.js";import{g as Zr,_ as Pj,k as $x,m as Nh,a as hI}from"./mermaid-bundle.js";import{s as dr,h as fI,v as gI,j as xI,l as vI,k as bl,m as yo,M as bI,r as yI,n as wI,C as kI,a as Sh,f as jI,i as _I,g as NI,e as SI,U as TI,b as II,L as PI,S as Hx,c as Ej,K as Hf,o as EI,G as Mj,d as Aj,Z as MI,P as Vx,F as AI}from"./chunk-BCDi9JRJ.js";import"./chunk-BKsJxI8c.js";var RI=function(){};function ji(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function _i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var vi=typeof window<"u",Md,Gx;function CI(){return Gx||(Gx=1,Md=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var i=a[o];if(!(i==="_owner"&&t.$$typeof)&&!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}),Md}var OI=CI();const DI=Zr(OI);var FI=["mousedown","touchstart"],Rj=function(e,t,r){r===void 0&&(r=FI);var n=h.useRef(t);h.useEffect(function(){n.current=t},[t]),h.useEffect(function(){for(var o=function(l){var d=e.current;d&&!d.contains(l.target)&&n.current(l)},a=0,i=r;a<i.length;a++){var c=i[a];ji(document,c,o)}return function(){for(var l=0,d=r;l<d.length;l++){var u=d[l];_i(document,u,o)}}},[r,e])},LI=function(e,t,r){var n=h.useRef(void 0);(!n.current||!r(t,n.current))&&(n.current=t),h.useEffect(e,n.current)};function BI(e,t){t===void 0&&(t=0);var r=h.useRef(!1),n=h.useRef(),o=h.useRef(e),a=h.useCallback(function(){return r.current},[]),i=h.useCallback(function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){r.current=!0,o.current()},t)},[t]),c=h.useCallback(function(){r.current=null,n.current&&clearTimeout(n.current)},[]);return h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){return i(),c},[t]),[a,c,i]}function Th(e,t,r){t===void 0&&(t=0),r===void 0&&(r=[]);var n=BI(e,t),o=n[0],a=n[1],i=n[2];return h.useEffect(i,r),[o,a]}var zI=function(e,t){LI(e,t,DI)},qI=vi?window:null,Qx=function(e){return!!e.addEventListener},Yx=function(e){return!!e.on},tr=function(e,t,r,n){r===void 0&&(r=qI),h.useEffect(function(){if(t&&r)return Qx(r)?ji(r,e,t,n):Yx(r)&&r.on(e,t,n),function(){Qx(r)?_i(r,e,t,n):Yx(r)&&r.off(e,t,n)}},[e,t,r,JSON.stringify(n)])},UI=function(e){return function(t){return t.key===e}},Xx=function(e,t,r,n){t===void 0&&(t=RI),r===void 0&&(r={}),n===void 0&&(n=[e]);var o=r.event,a=o===void 0?"keydown":o,i=r.target,c=r.options,l=h.useMemo(function(){var d=UI(e),u=function(p){if(d(p))return t(p)};return u},n);tr(a,l,i,c)},KI=function(e){var t=h.useState([!1,null]),r=t[0],n=t[1];return Xx(e,function(o){return n([!0,o])},{event:"keydown"},[r]),Xx(e,function(o){return n([!1,o])},{event:"keyup"},[r]),r},WI=function(e){var t=h.useRef(e);t.current=e,MT(function(){return function(){return t.current()}})},$I=function(e){var t=h.useRef(0),r=h.useState(e),n=r[0],o=r[1],a=h.useCallback(function(i){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){o(i)})},[]);return WI(function(){cancelAnimationFrame(t.current)}),[n,a]},HI=h.useState,VI=h.useEffect,GI=h.useRef,QI=function(e){return setTimeout(e,35)},YI=function(e,t){var r=t===void 0?{}:t,n=r.width,o=n===void 0?1/0:n,a=r.height,i=a===void 0?1/0:a;if(!vi)return[typeof e=="function"?e({width:o,height:i}):e,{width:o,height:i}];var c=HI({width:o,height:i}),l=c[0],d=c[1];typeof e=="function"&&(e=e(l));var u=e.props.style||{},p=GI(null),m=null,g=function(){var v=p.current,N=v?{width:v.offsetWidth,height:v.offsetHeight}:{width:o,height:i};d(N)},f=function(v){ji(v,"resize",g),QI(g)};VI(function(){var v=p.current;if(v){if(v.contentWindow)m=v.contentWindow,f(m);else{var N=function(){ji(v,"load",N),m=v.contentWindow,f(m)};_i(v,"load",N)}return function(){m&&m.removeEventListener&&_i(m,"resize",g)}}},[]),u.position="relative";var x=h.cloneElement.apply(LS,Lx([e,{style:u}],Lx([h.createElement("iframe",{ref:p,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],h.Children.toArray(e.props.children))));return[x,l]},Vf=function(e){var t={},r=t.initialWidth,n=r===void 0?1/0:r,o=t.initialHeight,a=o===void 0?1/0:o,i=t.onChange,c=$I({width:vi?window.innerWidth:n,height:vi?window.innerHeight:a}),l=c[0],d=c[1];return h.useEffect(function(){if(vi){var u=function(){var p=window.innerWidth,m=window.innerHeight;d({width:p,height:m}),i&&i(p,m)};return ji(window,"resize",u),function(){_i(window,"resize",u)}}},[]),l},Gi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qo=typeof window>"u"||"Deno"in globalThis;function Xs(){}function XI(e,t){return typeof e=="function"?e(t):e}function Ih(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xa(e,t){return typeof e=="function"?e(t):e}function Wr(e,t){return typeof e=="function"?e(t):e}function Jx(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:c}=e;if(i){if(n){if(t.queryHash!==Gf(i,t.options))return!1}else if(!Si(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||o&&o!==t.state.fetchStatus||a&&!a(t))}function Zx(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ni(t.options.mutationKey)!==Ni(a))return!1}else if(!Si(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Gf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ni)(e)}function Ni(e){return JSON.stringify(e,(t,r)=>Eh(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Si(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Si(e[r],t[r])):!1}function Oj(e,t){if(e===t)return e;const r=ev(e)&&ev(t);if(r||Eh(e)&&Eh(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),i=a.length,c=r?[]:{};let l=0;for(let d=0;d<i;d++){const u=r?d:a[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(c[u]=void 0,l++):(c[u]=Oj(e[u],t[u]),c[u]===e[u]&&e[u]!==void 0&&l++)}return o===i&&l===o?e:c}return t}function Ph(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ev(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eh(e){if(!tv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tv(e){return Object.prototype.toString.call(e)==="[object Object]"}function JI(e){return new Promise(t=>{setTimeout(t,e)})}function Mh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Oj(e,t):t}function ZI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function eP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Qf=Symbol();function Dj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tP(e,t){return typeof e=="function"?e(...t):!!e}var So,Vn,ba,ej,sP=(ej=class extends Gi{constructor(){super();ye(this,So);ye(this,Vn);ye(this,ba);le(this,ba,t=>{if(!qo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,Vn)||this.setEventListener(P(this,ba))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Vn))==null||t.call(this),le(this,Vn,void 0))}setEventListener(t){var r;le(this,ba,t),(r=P(this,Vn))==null||r.call(this),le(this,Vn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,So)!==t&&(le(this,So,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,So)=="boolean"?P(this,So):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},So=new WeakMap,Vn=new WeakMap,ba=new WeakMap,ej),Yf=new sP,ya,Gn,wa,tj,rP=(tj=class extends Gi{constructor(){super();ye(this,ya,!0);ye(this,Gn);ye(this,wa);le(this,wa,t=>{if(!qo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,Gn)||this.setEventListener(P(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Gn))==null||t.call(this),le(this,Gn,void 0))}setEventListener(t){var r;le(this,wa,t),(r=P(this,Gn))==null||r.call(this),le(this,Gn,t(this.setOnline.bind(this)))}setOnline(t){P(this,ya)!==t&&(le(this,ya,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,ya)}},ya=new WeakMap,Gn=new WeakMap,wa=new WeakMap,tj),hc=new rP;function Ah(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function nP(e){return Math.min(1e3*2**e,3e4)}function Fj(e){return(e??"online")==="online"?hc.isOnline():!0}var Lj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ad(e){return e instanceof Lj}function Bj(e){let t=!1,r=0,n=!1,o;const a=Ah(),i=x=>{var v;n||(m(new Lj(x)),(v=e.abort)==null||v.call(e))},c=()=>{t=!0},l=()=>{t=!1},d=()=>Yf.isFocused()&&(e.networkMode==="always"||hc.isOnline())&&e.canRun(),u=()=>Fj(e.networkMode)&&e.canRun(),p=x=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,x),o==null||o(),a.resolve(x))},m=x=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,x),o==null||o(),a.reject(x))},g=()=>new Promise(x=>{var v;o=N=>{(n||d())&&x(N)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;o=void 0,n||(x=e.onContinue)==null||x.call(e)}),f=()=>{if(n)return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(p).catch(N=>{var _;if(n)return;const y=e.retry??(qo?0:3),w=e.retryDelay??nP,b=typeof w=="function"?w(r,N):w,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,N);if(t||!k){m(N);return}r++,(_=e.onFail)==null||_.call(e,r,N),JI(b).then(()=>d()?void 0:g()).then(()=>{t?m(N):f()})})};return{promise:a,cancel:i,continue:()=>(o==null||o(),a),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?f():g().then(f),a)}}var oP=e=>setTimeout(e,0);function aP(){let e=[],t=0,r=c=>{c()},n=c=>{c()},o=oP;const a=c=>{t?e.push(c):o(()=>{r(c)})},i=()=>{const c=e;e=[],c.length&&o(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||i()}return l},batchCalls:c=>(...l)=>{a(()=>{c(...l)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{o=c}}}var Ss=aP(),To,sj,zj=(sj=class{constructor(){ye(this,To)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ih(this.gcTime)&&le(this,To,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qo?1/0:300*1e3))}clearGcTimeout(){P(this,To)&&(clearTimeout(P(this,To)),le(this,To,void 0))}},To=new WeakMap,sj),ka,ja,vr,Io,Rs,Di,Po,Cr,kn,rj,iP=(rj=class extends zj{constructor(t){super();ye(this,Cr);ye(this,ka);ye(this,ja);ye(this,vr);ye(this,Io);ye(this,Rs);ye(this,Di);ye(this,Po);le(this,Po,!1),le(this,Di,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Io,t.client),le(this,vr,P(this,Io).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,ka,lP(this.options)),this.state=t.state??P(this,ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Rs))==null?void 0:t.promise}setOptions(t){this.options={...P(this,Di),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,vr).remove(this)}setData(t,r){const n=Mh(this.state.data,t,this.options);return pe(this,Cr,kn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pe(this,Cr,kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=P(this,Rs))==null?void 0:n.promise;return(o=P(this,Rs))==null||o.cancel(t),r?r.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,ka))}isActive(){return this.observers.some(t=>Wr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Cj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Rs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Rs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Rs)&&(P(this,Po)?P(this,Rs).cancel({revert:!0}):P(this,Rs).cancelRetry()),this.scheduleGc()),P(this,vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Cr,kn).call(this,{type:"invalidate"})}fetch(t,r){var l,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Rs))return P(this,Rs).continueRetry(),P(this,Rs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,Po,!0),n.signal)})},a=()=>{const p=Dj(this.options,r),m={client:P(this,Io),queryKey:this.queryKey,meta:this.meta};return o(m),le(this,Po,!1),this.options.persister?this.options.persister(p,m,this):p(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,Io),state:this.state,fetchFn:a};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),le(this,ja,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&pe(this,Cr,kn).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const c=p=>{var m,g,f,x;Ad(p)&&p.silent||pe(this,Cr,kn).call(this,{type:"error",error:p}),Ad(p)||((g=(m=P(this,vr).config).onError)==null||g.call(m,p,this),(x=(f=P(this,vr).config).onSettled)==null||x.call(f,this.state.data,p,this)),this.scheduleGc()};return le(this,Rs,Bj({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,g,f,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(g=(m=P(this,vr).config).onSuccess)==null||g.call(m,p,this),(x=(f=P(this,vr).config).onSettled)==null||x.call(f,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{pe(this,Cr,kn).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{pe(this,Cr,kn).call(this,{type:"pause"})},onContinue:()=>{pe(this,Cr,kn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),P(this,Rs).start()}},ka=new WeakMap,ja=new WeakMap,vr=new WeakMap,Io=new WeakMap,Rs=new WeakMap,Di=new WeakMap,Po=new WeakMap,Cr=new WeakSet,kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qj(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Ad(o)&&o.revert&&P(this,ja)?{...P(this,ja),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ss.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,vr).notify({query:this,type:"updated",action:t})})},rj);function qj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mn,nj,cP=(nj=class extends Gi{constructor(t={}){super();ye(this,mn);this.config=t,le(this,mn,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Gf(o,r);let i=this.get(a);return i||(i=new iP({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){P(this,mn).has(t.queryHash)||(P(this,mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,mn).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ss.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,mn).get(t)}getAll(){return[...P(this,mn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Jx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Jx(t,n)):r}notify(t){Ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ss.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ss.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mn=new WeakMap,nj),hn,qs,Eo,fn,Fn,oj,dP=(oj=class extends zj{constructor(t){super();ye(this,fn);ye(this,hn);ye(this,qs);ye(this,Eo);this.mutationId=t.mutationId,le(this,qs,t.mutationCache),le(this,hn,[]),this.state=t.state||uP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,hn).includes(t)||(P(this,hn).push(t),this.clearGcTimeout(),P(this,qs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,hn,P(this,hn).filter(r=>r!==t)),this.scheduleGc(),P(this,qs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,hn).length||(this.state.status==="pending"?this.scheduleGc():P(this,qs).remove(this))}continue(){var t;return((t=P(this,Eo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,c,l,d,u,p,m,g,f,x,v,N,y,w,b,k,_,j,T;const r=()=>{pe(this,fn,Fn).call(this,{type:"continue"})};le(this,Eo,Bj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,I)=>{pe(this,fn,Fn).call(this,{type:"failed",failureCount:S,error:I})},onPause:()=>{pe(this,fn,Fn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,qs).canRun(this)}));const n=this.state.status==="pending",o=!P(this,Eo).canStart();try{if(n)r();else{pe(this,fn,Fn).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=P(this,qs).config).onMutate)==null?void 0:i.call(a,t,this));const I=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));I!==this.state.context&&pe(this,fn,Fn).call(this,{type:"pending",context:I,variables:t,isPaused:o})}const S=await P(this,Eo).start();return await((u=(d=P(this,qs).config).onSuccess)==null?void 0:u.call(d,S,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,S,t,this.state.context)),await((f=(g=P(this,qs).config).onSettled)==null?void 0:f.call(g,S,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,S,null,t,this.state.context)),pe(this,fn,Fn).call(this,{type:"success",data:S}),S}catch(S){try{throw await((y=(N=P(this,qs).config).onError)==null?void 0:y.call(N,S,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,S,t,this.state.context)),await((_=(k=P(this,qs).config).onSettled)==null?void 0:_.call(k,void 0,S,this.state.variables,this.state.context,this)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,S,t,this.state.context)),S}finally{pe(this,fn,Fn).call(this,{type:"error",error:S})}}finally{P(this,qs).runNext(this)}}},hn=new WeakMap,qs=new WeakMap,Eo=new WeakMap,fn=new WeakSet,Fn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ss.batch(()=>{P(this,hn).forEach(n=>{n.onMutationUpdate(t)}),P(this,qs).notify({mutation:this,type:"updated",action:t})})},oj);function uP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,Or,Fi,aj,pP=(aj=class extends Gi{constructor(t={}){super();ye(this,Nn);ye(this,Or);ye(this,Fi);this.config=t,le(this,Nn,new Set),le(this,Or,new Map),le(this,Fi,0)}build(t,r,n){const o=new dP({mutationCache:this,mutationId:++xo(this,Fi)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){P(this,Nn).add(t);const r=yl(t);if(typeof r=="string"){const n=P(this,Or).get(r);n?n.push(t):P(this,Or).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,Nn).delete(t)){const r=yl(t);if(typeof r=="string"){const n=P(this,Or).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&P(this,Or).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=yl(t);if(typeof r=="string"){const n=P(this,Or).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=yl(t);if(typeof r=="string"){const o=(n=P(this,Or).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ss.batch(()=>{P(this,Nn).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,Nn).clear(),P(this,Or).clear()})}getAll(){return Array.from(P(this,Nn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zx(r,n))}findAll(t={}){return this.getAll().filter(r=>Zx(t,r))}notify(t){Ss.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ss.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xs))))}},Nn=new WeakMap,Or=new WeakMap,Fi=new WeakMap,aj);function yl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sv(e){return{onFetch:(t,r)=>{var u,p,m,g,f;const n=t.options,o=(m=(p=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((f=t.state.data)==null?void 0:f.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let x=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},N=Dj(t.options,t.fetchOptions),y=async(w,b,k)=>{if(x)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _={client:t.client,queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};v(_);const j=await N(_),{maxPages:T}=t.options,S=k?eP:ZI;return{pages:S(w.pages,j,T),pageParams:S(w.pageParams,b,T)}};if(o&&a.length){const w=o==="backward",b=w?mP:rv,k={pages:a,pageParams:i},_=b(n,k);c=await y(k,_,w)}else{const w=e??a.length;do{const b=l===0?i[0]??n.initialPageParam:rv(n,c);if(l>0&&b==null)break;c=await y(c,b),l++}while(l<w)}return c};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function rv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rs,Qn,Yn,_a,Na,Xn,Sa,Ta,ij,hP=(ij=class{constructor(e={}){ye(this,rs);ye(this,Qn);ye(this,Yn);ye(this,_a);ye(this,Na);ye(this,Xn);ye(this,Sa);ye(this,Ta);le(this,rs,e.queryCache||new cP),le(this,Qn,e.mutationCache||new pP),le(this,Yn,e.defaultOptions||{}),le(this,_a,new Map),le(this,Na,new Map),le(this,Xn,0)}mount(){xo(this,Xn)._++,P(this,Xn)===1&&(le(this,Sa,Yf.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rs).onFocus())})),le(this,Ta,hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rs).onOnline())})))}unmount(){var e,t;xo(this,Xn)._--,P(this,Xn)===0&&((e=P(this,Sa))==null||e.call(this),le(this,Sa,void 0),(t=P(this,Ta))==null||t.call(this),le(this,Ta,void 0))}isFetching(e){return P(this,rs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,Qn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,rs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=P(this,rs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(xa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return P(this,rs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=P(this,rs).get(n.queryHash),a=o==null?void 0:o.state.data,i=XI(t,a);if(i!==void 0)return P(this,rs).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ss.batch(()=>P(this,rs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,rs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,rs);Ss.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,rs);return Ss.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ss.batch(()=>P(this,rs).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Xs).catch(Xs)}invalidateQueries(e,t={}){return Ss.batch(()=>(P(this,rs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ss.batch(()=>P(this,rs).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Xs)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,rs).build(this,t);return r.isStaleByTime(xa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xs).catch(Xs)}fetchInfiniteQuery(e){return e.behavior=sv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xs).catch(Xs)}ensureInfiniteQueryData(e){return e.behavior=sv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hc.isOnline()?P(this,Qn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,rs)}getMutationCache(){return P(this,Qn)}getDefaultOptions(){return P(this,Yn)}setDefaultOptions(e){le(this,Yn,e)}setQueryDefaults(e,t){P(this,_a).set(Ni(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,_a).values()],r={};return t.forEach(n=>{Si(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){P(this,Na).set(Ni(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Na).values()],r={};return t.forEach(n=>{Si(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,rs).clear(),P(this,Qn).clear()}},rs=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,_a=new WeakMap,Na=new WeakMap,Xn=new WeakMap,Sa=new WeakMap,Ta=new WeakMap,ij),Qs,gt,Li,Us,Mo,Ia,Jn,Zn,Bi,Pa,Ea,Ao,Ro,eo,Ma,Et,pi,Rh,Ch,Oh,Dh,Fh,Lh,Bh,Uj,lj,fP=(lj=class extends Gi{constructor(t,r){super();ye(this,Et);ye(this,Qs);ye(this,gt);ye(this,Li);ye(this,Us);ye(this,Mo);ye(this,Ia);ye(this,Jn);ye(this,Zn);ye(this,Bi);ye(this,Pa);ye(this,Ea);ye(this,Ao);ye(this,Ro);ye(this,eo);ye(this,Ma,new Set);this.options=r,le(this,Qs,t),le(this,Zn,null),le(this,Jn,Ah()),this.options.experimental_prefetchInRender||P(this,Jn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,gt).addObserver(this),nv(P(this,gt),this.options)?pe(this,Et,pi).call(this):this.updateResult(),pe(this,Et,Dh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zh(P(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zh(P(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Et,Fh).call(this),pe(this,Et,Lh).call(this),P(this,gt).removeObserver(this)}setOptions(t){const r=this.options,n=P(this,gt);if(this.options=P(this,Qs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wr(this.options.enabled,P(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Et,Bh).call(this),P(this,gt).setOptions(this.options),r._defaulted&&!Ph(this.options,r)&&P(this,Qs).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,gt),observer:this});const o=this.hasListeners();o&&ov(P(this,gt),n,this.options,r)&&pe(this,Et,pi).call(this),this.updateResult(),o&&(P(this,gt)!==n||Wr(this.options.enabled,P(this,gt))!==Wr(r.enabled,P(this,gt))||xa(this.options.staleTime,P(this,gt))!==xa(r.staleTime,P(this,gt)))&&pe(this,Et,Rh).call(this);const a=pe(this,Et,Ch).call(this);o&&(P(this,gt)!==n||Wr(this.options.enabled,P(this,gt))!==Wr(r.enabled,P(this,gt))||a!==P(this,eo))&&pe(this,Et,Oh).call(this,a)}getOptimisticResult(t){const r=P(this,Qs).getQueryCache().build(P(this,Qs),t),n=this.createResult(r,t);return xP(this,n)&&(le(this,Us,n),le(this,Ia,this.options),le(this,Mo,P(this,gt).state)),n}getCurrentResult(){return P(this,Us)}trackResult(t,r){return new Proxy(t,{get:(n,o)=>(this.trackProp(o),r==null||r(o),Reflect.get(n,o))})}trackProp(t){P(this,Ma).add(t)}getCurrentQuery(){return P(this,gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,Qs).defaultQueryOptions(t),n=P(this,Qs).getQueryCache().build(P(this,Qs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return pe(this,Et,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Us)))}createResult(t,r){var S;const n=P(this,gt),o=this.options,a=P(this,Us),i=P(this,Mo),c=P(this,Ia),d=t!==n?t.state:P(this,Li),{state:u}=t;let p={...u},m=!1,g;if(r._optimisticResults){const I=this.hasListeners(),E=!I&&nv(t,r),M=I&&ov(t,n,r,o);(E||M)&&(p={...p,...qj(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:f,errorUpdatedAt:x,status:v}=p;g=p.data;let N=!1;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let I;a!=null&&a.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(I=a.data,N=!0):I=typeof r.placeholderData=="function"?r.placeholderData((S=P(this,Ea))==null?void 0:S.state.data,P(this,Ea)):r.placeholderData,I!==void 0&&(v="success",g=Mh(a==null?void 0:a.data,I,r),m=!0)}if(r.select&&g!==void 0&&!N)if(a&&g===(i==null?void 0:i.data)&&r.select===P(this,Bi))g=P(this,Pa);else try{le(this,Bi,r.select),g=r.select(g),g=Mh(a==null?void 0:a.data,g,r),le(this,Pa,g),le(this,Zn,null)}catch(I){le(this,Zn,I)}P(this,Zn)&&(f=P(this,Zn),g=P(this,Pa),x=Date.now(),v="error");const y=p.fetchStatus==="fetching",w=v==="pending",b=v==="error",k=w&&y,_=g!==void 0,T={status:v,fetchStatus:p.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:k,isLoading:k,data:g,dataUpdatedAt:p.dataUpdatedAt,error:f,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:b&&!_,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&_,isStale:Xf(t,r),refetch:this.refetch,promise:P(this,Jn)};if(this.options.experimental_prefetchInRender){const I=R=>{T.status==="error"?R.reject(T.error):T.data!==void 0&&R.resolve(T.data)},E=()=>{const R=le(this,Jn,T.promise=Ah());I(R)},M=P(this,Jn);switch(M.status){case"pending":t.queryHash===n.queryHash&&I(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&E();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&E();break}}return T}updateResult(){const t=P(this,Us),r=this.createResult(P(this,gt),this.options);if(le(this,Mo,P(this,gt).state),le(this,Ia,this.options),P(this,Mo).data!==void 0&&le(this,Ea,P(this,gt)),Ph(r,t))return;le(this,Us,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!P(this,Ma).size)return!0;const i=new Set(a??P(this,Ma));return this.options.throwOnError&&i.add("error"),Object.keys(P(this,Us)).some(c=>{const l=c;return P(this,Us)[l]!==t[l]&&i.has(l)})};pe(this,Et,Uj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Et,Dh).call(this)}},Qs=new WeakMap,gt=new WeakMap,Li=new WeakMap,Us=new WeakMap,Mo=new WeakMap,Ia=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Bi=new WeakMap,Pa=new WeakMap,Ea=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,eo=new WeakMap,Ma=new WeakMap,Et=new WeakSet,pi=function(t){pe(this,Et,Bh).call(this);let r=P(this,gt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xs)),r},Rh=function(){pe(this,Et,Fh).call(this);const t=xa(this.options.staleTime,P(this,gt));if(qo||P(this,Us).isStale||!Ih(t))return;const n=Cj(P(this,Us).dataUpdatedAt,t)+1;le(this,Ao,setTimeout(()=>{P(this,Us).isStale||this.updateResult()},n))},Ch=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,gt)):this.options.refetchInterval)??!1},Oh=function(t){pe(this,Et,Lh).call(this),le(this,eo,t),!(qo||Wr(this.options.enabled,P(this,gt))===!1||!Ih(P(this,eo))||P(this,eo)===0)&&le(this,Ro,setInterval(()=>{(this.options.refetchIntervalInBackground||Yf.isFocused())&&pe(this,Et,pi).call(this)},P(this,eo)))},Dh=function(){pe(this,Et,Rh).call(this),pe(this,Et,Oh).call(this,pe(this,Et,Ch).call(this))},Fh=function(){P(this,Ao)&&(clearTimeout(P(this,Ao)),le(this,Ao,void 0))},Lh=function(){P(this,Ro)&&(clearInterval(P(this,Ro)),le(this,Ro,void 0))},Bh=function(){const t=P(this,Qs).getQueryCache().build(P(this,Qs),this.options);if(t===P(this,gt))return;const r=P(this,gt);le(this,gt,t),le(this,Li,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Uj=function(t){Ss.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,Us))}),P(this,Qs).getQueryCache().notify({query:P(this,gt),type:"observerResultsUpdated"})})},lj);function gP(e,t){return Wr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nv(e,t){return gP(e,t)||e.state.data!==void 0&&zh(e,t,t.refetchOnMount)}function zh(e,t,r){if(Wr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Xf(e,t)}return!1}function ov(e,t,r,n){return(e!==t||Wr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Xf(e,r)}function Xf(e,t){return Wr(t.enabled,e)!==!1&&e.isStaleByTime(xa(t.staleTime,e))}function xP(e,t){return!Ph(e.getCurrentResult(),t)}var Kj=h.createContext(void 0),Wj=e=>{const t=h.useContext(Kj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vP=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Kj.Provider,{value:e,children:t})),$j=h.createContext(!1),bP=()=>h.useContext($j);$j.Provider;function yP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wP=h.createContext(yP()),kP=()=>h.useContext(wP),jP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},_P=e=>{h.useEffect(()=>{e.clearReset()},[e])},NP=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(o&&e.data===void 0||tP(r,[e.error,n])),SP=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},TP=(e,t)=>e.isLoading&&e.isFetching&&!t,IP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,av=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function PP(e,t,r){var p,m,g,f,x;const n=Wj(),o=bP(),a=kP(),i=n.defaultQueryOptions(e);(m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,i),i._optimisticResults=o?"isRestoring":"optimistic",SP(i),jP(i,a),_P(a);const c=!n.getQueryCache().get(i.queryHash),[l]=h.useState(()=>new t(n,i)),d=l.getOptimisticResult(i),u=!o&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(v=>{const N=u?l.subscribe(Ss.batchCalls(v)):Xs;return l.updateResult(),N},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),h.useEffect(()=>{l.setOptions(i)},[i,l]),IP(i,d))throw av(i,l,a);if(NP({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((f=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||f.call(g,i,d),i.experimental_prefetchInRender&&!qo&&TP(d,o)){const v=c?av(i,l,a):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(Xs).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?d:l.trackResult(d)}function An(e,t){return PP(e,fP)}var Rd,iv;function EP(){return iv||(iv=1,Rd={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Rd}var MP=EP();const AP=Zr(MP);var RP=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function lv(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(AP[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var o=new RegExp(RP),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var i=a[1].trim(),c=[i,""];i.indexOf("=")>-1&&(c=i.split("=")),t.attrs[c[0]]=c[1],o.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var CP=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,OP=/^\s*$/,DP=Object.create(null);function Hj(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(r){var n=[];for(var o in r)n.push(o+'="'+r[o]+'"');return n.length?" "+n.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Hj,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var FP={parse:function(e,t){t||(t={}),t.components||(t.components=DP);var r,n=[],o=[],a=-1,i=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");n.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(CP,function(l,d){if(i){if(l!=="</"+r.name+">")return;i=!1}var u,p=l.charAt(1)!=="/",m=l.startsWith("<!--"),g=d+l.length,f=e.charAt(g);if(m){var x=lv(l);return a<0?(n.push(x),n):((u=o[a]).children.push(x),n)}if(p&&(a++,(r=lv(l)).type==="tag"&&t.components[r.name]&&(r.type="component",i=!0),r.voidElement||i||!f||f==="<"||r.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),a===0&&n.push(r),(u=o[a-1])&&u.children.push(r),o[a]=r),(!p||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:o[a]),!i&&f!=="<"&&f)){u=a===-1?n:o[a].children;var v=e.indexOf("<",g),N=e.slice(g,v===-1?void 0:v);OP.test(N)&&(N=" "),(v>-1&&a+u.length>=0||N!==" ")&&u.push({type:"text",content:N})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Hj("",r)},"")}};const Cd=(e,t)=>{var n;if(!e)return!1;const r=((n=e.props)==null?void 0:n.children)??e.children;return t?r.length>0:!!r},Od=e=>{var r,n;if(!e)return[];const t=((r=e.props)==null?void 0:r.children)??e.children;return(n=e.props)!=null&&n.i18nIsDynamicList?da(t):t},LP=e=>Array.isArray(e)&&e.every(h.isValidElement),da=e=>Array.isArray(e)?e:[e],BP=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},Vj=(e,t,r,n)=>{if(!e)return"";let o="";const a=da(e),i=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((c,l)=>{if(ki(c)){o+=`${c}`;return}if(h.isValidElement(c)){const{props:d,type:u}=c,p=Object.keys(d).length,m=i.indexOf(u)>-1,g=d.children;if(!g&&m&&!p){o+=`<${u}/>`;return}if(!g&&(!m||p)||d.i18nIsDynamicList){o+=`<${l}></${l}>`;return}if(m&&p===1&&ki(g)){o+=`<${u}>${g}</${u}>`;return}const f=Vj(g,t,r,n);o+=`<${l}>${f}</${l}>`;return}if(c===null){Ed(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(ca(c)){const{format:d,...u}=c,p=Object.keys(u);if(p.length===1){const m=d?`${p[0]}, ${d}`:p[0];o+=`{{${m}}}`;return}Ed(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:c});return}Ed(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:c})}),o},zP=(e,t,r,n,o,a)=>{if(t==="")return[];const i=n.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(i.map(v=>`<${v}`).join("|")).test(t);if(!e&&!c&&!a)return[t];const l={},d=v=>{da(v).forEach(y=>{ki(y)||(Cd(y)?d(Od(y)):ca(y)&&!h.isValidElement(y)&&Object.assign(l,y))})};d(e);const u=FP.parse(`<0>${t}</0>`),p={...l,...o},m=(v,N,y)=>{var k;const w=Od(v),b=f(w,N.children,y);return LP(w)&&b.length===0||(k=v.props)!=null&&k.i18nIsDynamicList?w:b},g=(v,N,y,w,b)=>{v.dummy?(v.children=N,y.push(h.cloneElement(v,{key:w},b?void 0:N))):y.push(...h.Children.map([v],k=>{const _={...k.props};return delete _.i18nIsDynamicList,h.createElement(k.type,{..._,key:w,ref:k.ref},b?null:N)}))},f=(v,N,y)=>{const w=da(v);return da(N).reduce((k,_,j)=>{var S,I;const T=((I=(S=_.children)==null?void 0:S[0])==null?void 0:I.content)&&r.services.interpolator.interpolate(_.children[0].content,p,r.language);if(_.type==="tag"){let E=w[parseInt(_.name,10)];y.length===1&&!E&&(E=y[0][_.name]),E||(E={});const M=Object.keys(_.attrs).length!==0?BP({props:_.attrs},E):E,R=h.isValidElement(M),C=R&&Cd(_,!0)&&!_.voidElement,q=c&&ca(M)&&M.dummy&&!R,B=ca(e)&&Object.hasOwnProperty.call(e,_.name);if(ki(M)){const U=r.services.interpolator.interpolate(M,p,r.language);k.push(U)}else if(Cd(M)||C){const U=m(M,_,y);g(M,U,k,j)}else if(q){const U=f(w,_.children,y);g(M,U,k,j)}else if(Number.isNaN(parseFloat(_.name)))if(B){const U=m(M,_,y);g(M,U,k,j,_.voidElement)}else if(n.transSupportBasicHtmlNodes&&i.indexOf(_.name)>-1)if(_.voidElement)k.push(h.createElement(_.name,{key:`${_.name}-${j}`}));else{const U=f(w,_.children,y);k.push(h.createElement(_.name,{key:`${_.name}-${j}`},U))}else if(_.voidElement)k.push(`<${_.name} />`);else{const U=f(w,_.children,y);k.push(`<${_.name}>${U}</${_.name}>`)}else if(ca(M)&&!R){const U=_.children[0]?T:null;U&&k.push(U)}else g(M,T,k,j,_.children.length!==1||!T)}else if(_.type==="text"){const E=n.transWrapTextNodes,M=a?n.unescape(r.services.interpolator.interpolate(_.content,p,r.language)):r.services.interpolator.interpolate(_.content,p,r.language);E?k.push(h.createElement(E,{key:`${_.name}-${j}`},M)):k.push(M)}return k},[])},x=f([{dummy:!0,children:e||[]}],u,da(e||[]));return Od(x[0])},Gj=(e,t,r)=>{const n=e.key||t,o=h.cloneElement(e,{key:n});if(!o.props||!o.props.children||r.indexOf(`${t}/>`)<0&&r.indexOf(`${t} />`)<0)return o;function a(){return h.createElement(h.Fragment,null,o)}return h.createElement(a,{key:n})},qP=(e,t)=>e.map((r,n)=>Gj(r,n,t)),UP=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:Gj(e[n],n,t)})}),r},KP=(e,t,r,n)=>e?Array.isArray(e)?qP(e,t):ca(e)?UP(e,t):(xj(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null;function WP({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:i,defaults:c,components:l,ns:d,i18n:u,t:p,shouldUnescape:m,...g}){var M,R,C,q,B,U;const f=u||vj();if(!f)return xj(f,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const x=p||f.t.bind(f)||(te=>te),v={...AT(),...(M=f.options)==null?void 0:M.react};let N=d||x.ns||((R=f.options)==null?void 0:R.defaultNS);N=ki(N)?[N]:N||["translation"];const y=Vj(e,v,f,n),w=c||y||v.transEmptyNodeValue||n,{hashTransKey:b}=v,k=n||(b?b(y||w):y||w);(q=(C=f.options)==null?void 0:C.interpolation)!=null&&q.defaultVariables&&(i=i&&Object.keys(i).length>0?{...i,...f.options.interpolation.defaultVariables}:{...f.options.interpolation.defaultVariables});const _=i||t!==void 0&&!((U=(B=f.options)==null?void 0:B.interpolation)!=null&&U.alwaysFormat)||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},j={...a,context:o||a.context,count:t,...i,..._,defaultValue:w,ns:N},T=k?x(k,j):w,S=KP(l,T,f,n),I=zP(S||e,T,f,v,j,m),E=r??v.defaultTransParent;return E?h.createElement(E,g,I):I}function je({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:i,defaults:c,components:l,ns:d,i18n:u,t:p,shouldUnescape:m,...g}){var y;const{i18n:f,defaultNS:x}=h.useContext(RT)||{},v=u||f||vj(),N=p||(v==null?void 0:v.t.bind(v));return WP({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a,values:i,defaults:c,components:l,ns:d||(N==null?void 0:N.ns)||x||((y=v==null?void 0:v.options)==null?void 0:y.defaultNS),i18n:v,t:p,shouldUnescape:m,...g})}const Jf={"moonshotai/Kimi-K2-Thinking":{maxTokens:16384,contextWindow:262e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Kimi K2 Thinking - A model with enhanced reasoning capabilities from Kimi K2"},"zai-org/GLM-4.6":{maxTokens:16384,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:0,description:"Frontier open model with advanced agentic, reasoning and coding capabilities"},"deepseek-ai/DeepSeek-R1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:2.55,outputPrice:5.95,cacheWritesPrice:0,cacheReadsPrice:0,description:"DeepSeek's first-generation reasoning model"},"deepseek-ai/DeepSeek-R1-0528":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:2.55,outputPrice:5.95,cacheWritesPrice:0,cacheReadsPrice:0,description:"The latest revision of DeepSeek's first-generation reasoning model"},"deepseek-ai/DeepSeek-V3-0324":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:.77,outputPrice:.77,cacheWritesPrice:0,cacheReadsPrice:0,description:"Fast general-purpose LLM with enhanced reasoning capabilities"},"deepseek-ai/DeepSeek-V3.1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:.5,outputPrice:1.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Extremely capable general-purpose LLM with hybrid reasoning capabilities and advanced tool calling"},"deepseek-ai/DeepSeek-V3.2":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.3,outputPrice:.45,cacheWritesPrice:0,cacheReadsPrice:0,description:"DeepSeek's hybrid reasoning model with efficient long context scaling with GPT-5 level performance"},"Qwen/Qwen3-235B-A22B-Instruct-2507":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:.22,outputPrice:.8,cacheWritesPrice:0,cacheReadsPrice:0,description:"Mixture-of-experts LLM with math and reasoning capabilities"},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:.38,outputPrice:1.53,cacheWritesPrice:0,cacheReadsPrice:0,description:"Mixture-of-experts LLM with advanced coding and reasoning capabilities"},"openai/gpt-oss-120b":{maxTokens:16384,contextWindow:128072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Extremely capable general-purpose LLM with strong, controllable reasoning capabilities"},"moonshotai/Kimi-K2-Instruct-0905":{maxTokens:16384,contextWindow:262e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"State of the art language model for agentic and coding tasks. September Update."}},Zf="zai-org/GLM-4.6",eg="gpt-oss-120b",tg={"zai-glm-4.6":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Highly intelligent general purpose model with up to 1,000 tokens/s"},"qwen-3-235b-a22b-instruct-2507":{maxTokens:8192,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Intelligent model with ~1400 tokens/s"},"llama-3.3-70b":{maxTokens:8192,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Powerful model with ~2600 tokens/s"},"qwen-3-32b":{maxTokens:8192,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"SOTA coding performance with ~2500 tokens/s"},"gpt-oss-120b":{maxTokens:8192,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:`OpenAI GPT OSS model with ~2800 tokens/s

 64K context window
 Excels at efficient reasoning across science, math, and coding`}},Kc="deepseek-ai/DeepSeek-R1-0528",sg="deepseek-chat",rg={"deepseek-chat":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.28,outputPrice:.42,cacheWritesPrice:.28,cacheReadsPrice:.028,description:"DeepSeek-V3.2 (Non-thinking Mode) achieves a significant breakthrough in inference speed over previous models. It tops the leaderboard among open-source models and rivals the most advanced closed-source models globally. Supports JSON output, tool calls, chat prefix completion (beta), and FIM completion (beta)."},"deepseek-reasoner":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.28,outputPrice:.42,cacheWritesPrice:.28,cacheReadsPrice:.028,description:"DeepSeek-V3.2 (Thinking Mode) achieves performance comparable to OpenAI-o1 across math, code, and reasoning tasks. Supports Chain of Thought reasoning with up to 8K output tokens. Supports JSON output, tool calls, and chat prefix completion (beta)."}},ng={"deepseek-ai/DeepSeek-V3-0324":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,description:"DeepSeek V3 0324 model."},"deepseek-ai/DeepSeek-R1-0528":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,description:"DeepSeek R1 0528 model."},"moonshotai/Kimi-K2-Instruct":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Kimi K2 Instruct model."},"openai/gpt-oss-120b":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,description:"GPT-OSS 120B model."},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Qwen3 Coder 480B A35B Instruct model."}},og="deepseek-ai/DeepSeek-R1-0528",ag="accounts/fireworks/models/kimi-k2-instruct-0905",ig={"accounts/fireworks/models/kimi-k2-thinking":{maxTokens:4096,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:.6,outputPrice:2.5,description:"Kimi K2 Thinking is the latest, most capable version of open-source thinking model. Starting with Kimi K2, we built it as a thinking agent that reasons step-by-step while dynamically invoking tools."},"accounts/fireworks/models/kimi-k2-instruct-0905":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"accounts/fireworks/models/kimi-k2-instruct":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,description:"Kimi K2 is a state-of-the-art mixture-of-experts (MoE) language model with 32 billion activated parameters and 1 trillion total parameters. Trained with the Muon optimizer, Kimi K2 achieves exceptional performance across frontier knowledge, reasoning, and coding tasks while being meticulously optimized for agentic capabilities."},"accounts/fireworks/models/minimax-m2":{maxTokens:4096,contextWindow:204800,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.3,outputPrice:1.2,description:"MiniMax M2 is a high-performance language model with 204.8K context window, optimized for long-context understanding and generation tasks."},"accounts/fireworks/models/qwen3-235b-a22b-instruct-2507":{maxTokens:32768,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.22,outputPrice:.88,description:"Latest Qwen3 thinking model, competitive against the best closed source models in Jul 2025."},"accounts/fireworks/models/qwen3-coder-480b-a35b-instruct":{maxTokens:32768,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.45,outputPrice:1.8,description:"Qwen3's most agentic code model to date."},"accounts/fireworks/models/deepseek-r1-0528":{maxTokens:20480,contextWindow:16e4,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:3,outputPrice:8,description:"05/28 updated checkpoint of Deepseek R1. Its overall performance is now approaching that of leading models, such as O3 and Gemini 2.5 Pro. Compared to the previous version, the upgraded model shows significant improvements in handling complex reasoning tasks, and this version also offers a reduced hallucination rate, enhanced support for function calling, and better experience for vibe coding. Note that fine-tuning for this model is only available through contacting fireworks at https://fireworks.ai/company/contact-us."},"accounts/fireworks/models/deepseek-v3":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.9,outputPrice:.9,description:"A strong Mixture-of-Experts (MoE) language model with 671B total parameters with 37B activated for each token from Deepseek. Note that fine-tuning for this model is only available through contacting fireworks at https://fireworks.ai/company/contact-us."},"accounts/fireworks/models/deepseek-v3p1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.56,outputPrice:1.68,description:"DeepSeek v3.1 is an improved version of the v3 model with enhanced performance, better reasoning capabilities, and improved code generation. This Mixture-of-Experts (MoE) model maintains the same 671B total parameters with 37B activated per token."},"accounts/fireworks/models/glm-4p5":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.5 with 355B total parameters and 32B active parameters. Features unified reasoning, coding, and intelligent agent capabilities."},"accounts/fireworks/models/glm-4p5-air":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.5-Air with 106B total parameters and 12B active parameters. Features unified reasoning, coding, and intelligent agent capabilities."},"accounts/fireworks/models/glm-4p6":{maxTokens:25344,contextWindow:198e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.6 is an advanced coding model with exceptional performance on complex programming tasks. Features improved reasoning capabilities and enhanced code generation quality, making it ideal for software development workflows."},"accounts/fireworks/models/gpt-oss-20b":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.07,outputPrice:.3,description:"OpenAI gpt-oss-20b: Compact model for local/edge deployments. Optimized for low-latency and resource-constrained environments with chain-of-thought output, adjustable reasoning, and agentic workflows."},"accounts/fireworks/models/gpt-oss-120b":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.15,outputPrice:.6,description:"OpenAI gpt-oss-120b: Production-grade, general-purpose model that fits on a single H100 GPU. Features complex reasoning, configurable effort, full chain-of-thought transparency, and supports function calling, tool use, and structured outputs."}},Fa="gemini-3-pro-preview",Qj={"gemini-3-pro-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,supportsReasoningEffort:["low","high"],reasoningEffort:"low",supportsTemperature:!0,defaultTemperature:1,inputPrice:4,outputPrice:18,tiers:[{contextWindow:2e5,inputPrice:2,outputPrice:12},{contextWindow:1/0,inputPrice:4,outputPrice:18}]},"gemini-3-flash-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",supportsTemperature:!0,defaultTemperature:1,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-06-05":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-05-06":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-flash-latest":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash-preview-09-2025":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-flash-lite-latest":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,supportsReasoningBudget:!0,maxThinkingTokens:24576},"gemini-2.5-flash-lite-preview-09-2025":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,supportsReasoningBudget:!0,maxThinkingTokens:24576}},Yj="gemini-2.5-flash",lg={"gemini-3-pro-preview":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsReasoningBudget:!0,maxThinkingTokens:32768},"gemini-3-flash-preview":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsReasoningBudget:!0,maxThinkingTokens:32768},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,maxThinkingTokens:24576,supportsReasoningBudget:!0}},Wc="gpt-oss-120b",$c="hf:zai-org/GLM-4.6",Hc="mercury-coder",Vc="anthropic/claude-3-7-sonnet",cg="moonshotai/kimi-k2-instruct-0905",dg={"llama-3.1-8b-instant":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.05,outputPrice:.08,description:"Meta Llama 3.1 8B Instant model, 128K context."},"llama-3.3-70b-versatile":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.59,outputPrice:.79,description:"Meta Llama 3.3 70B Versatile model, 128K context."},"meta-llama/llama-4-scout-17b-16e-instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.11,outputPrice:.34,description:"Meta Llama 4 Scout 17B Instruct model, 128K context."},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.2,outputPrice:.6,description:"Meta Llama 4 Maverick 17B Instruct model, 128K context."},"mistral-saba-24b":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,inputPrice:.79,outputPrice:.79,description:"Mistral Saba 24B model, 32K context."},"qwen-qwq-32b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.29,outputPrice:.39,description:"Alibaba Qwen QwQ 32B model, 128K context."},"qwen/qwen3-32b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.29,outputPrice:.59,description:"Alibaba Qwen 3 32B model, 128K context."},"deepseek-r1-distill-llama-70b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.75,outputPrice:.99,description:"DeepSeek R1 Distill Llama 70B model, 128K context."},"moonshotai/kimi-k2-instruct":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,inputPrice:1,outputPrice:3,cacheReadsPrice:.5,description:"Moonshot AI Kimi K2 Instruct 1T model, 128K context."},"moonshotai/kimi-k2-instruct-0905":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"openai/gpt-oss-120b":{maxTokens:32766,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.15,outputPrice:.75,description:"GPT-OSS 120B is OpenAI's flagship open source model, built on a Mixture-of-Experts (MoE) architecture with 20 billion parameters and 128 experts."},"openai/gpt-oss-20b":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.1,outputPrice:.5,description:"GPT-OSS 20B is OpenAI's flagship open source model, built on a Mixture-of-Experts (MoE) architecture with 20 billion parameters and 32 experts."}},Gc="meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8",Xj={"deepseek-ai/DeepSeek-R1-0528":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"DeepSeek R1 reasoning model"},"meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8":{maxTokens:8192,contextWindow:43e4,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,description:"Llama 4 Maverick 17B model"},"Intel/Qwen3-Coder-480B-A35B-Instruct-int4-mixed-ar":{maxTokens:8192,contextWindow:106e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"Qwen3 Coder 480B specialized for coding"},"openai/gpt-oss-120b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"OpenAI GPT-OSS 120B model"}},Ti="claude-3-7-sonnet-20250219",$P={maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},Qc="codestral-latest",ug={"magistral-medium-latest":{maxTokens:8192,contextWindow:128e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:2,outputPrice:5},"devstral-medium-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.4,outputPrice:2},"mistral-medium-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.4,outputPrice:2},"codestral-latest":{maxTokens:8192,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.3,outputPrice:.9},"mistral-large-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:2,outputPrice:6},"ministral-8b-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.1},"ministral-3b-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.04,outputPrice:.04},"mistral-small-latest":{maxTokens:8192,contextWindow:32e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.2,outputPrice:.6},"magistral-small-latest":{maxTokens:40960,contextWindow:40960,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.5,outputPrice:1.5},"devstral-small-latest":{maxTokens:131e3,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.3},"pixtral-large-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:2,outputPrice:6}},pg="kimi-k2-thinking",mg={"kimi-k2-0711-preview":{maxTokens:32e3,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:.15,description:"Kimi K2 is a state-of-the-art mixture-of-experts (MoE) language model with 32 billion activated parameters and 1 trillion total parameters."},"kimi-k2-0905-preview":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"kimi-k2-turbo-preview":{maxTokens:32e3,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:2.4,outputPrice:10,cacheWritesPrice:0,cacheReadsPrice:.6,description:"Kimi K2 Turbo is a high-speed version of the state-of-the-art Kimi K2 mixture-of-experts (MoE) language model, with the same 32 billion activated parameters and 1 trillion total parameters, optimized for output speeds of up to 60 tokens per second, peaking at 100 tokens per second."},"kimi-k2-thinking":{maxTokens:16e3,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:.15,supportsTemperature:!0,preserveReasoning:!0,defaultTemperature:1,description:"The kimi-k2-thinking model is a general-purpose agentic reasoning model developed by Moonshot AI. Thanks to its strength in deep reasoning and multi-turn tool use, it can solve even the hardest problems."}},hg="chatgpt-4o-latest",Jj="gpt-5.1-codex-max",fg={"gpt-5.1-codex-max":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high","xhigh"],reasoningEffort:"xhigh",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1 Codex Max: Our most intelligent coding model optimized for long-horizon, agentic coding tasks"},"gpt-5.2":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["none","low","medium","high","xhigh"],reasoningEffort:"medium",inputPrice:1.75,outputPrice:14,cacheReadsPrice:.175,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.875,outputPrice:7,cacheReadsPrice:.0875},{name:"priority",contextWindow:4e5,inputPrice:3.5,outputPrice:28,cacheReadsPrice:.35}],description:"GPT-5.2: Our flagship model for coding and agentic tasks across industries"},"gpt-5.2-chat-latest":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:1.75,outputPrice:14,cacheReadsPrice:.175,description:"GPT-5.2 Chat: Optimized for conversational AI and chat use cases"},"gpt-5.1":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["none","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1: The best model for coding and agentic tasks across domains"},"gpt-5.1-codex":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1 Codex: A version of GPT-5.1 optimized for agentic coding in Codex"},"gpt-5.1-codex-mini":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsTemperature:!1,description:"GPT-5.1 Codex mini: A version of GPT-5.1 optimized for agentic coding in Codex"},"gpt-5":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5: The best model for coding and agentic tasks across domains"},"gpt-5-mini":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.125,outputPrice:1,cacheReadsPrice:.0125},{name:"priority",contextWindow:4e5,inputPrice:.45,outputPrice:3.6,cacheReadsPrice:.045}],description:"GPT-5 Mini: A faster, more cost-efficient version of GPT-5 for well-defined tasks"},"gpt-5-codex":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5-Codex: A version of GPT-5 optimized for agentic coding in Codex"},"gpt-5-nano":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.05,outputPrice:.4,cacheReadsPrice:.005,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.025,outputPrice:.2,cacheReadsPrice:.0025}],description:"GPT-5 Nano: Fastest, most cost-efficient version of GPT-5"},"gpt-5-chat-latest":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,description:"GPT-5 Chat: Optimized for conversational AI and non-reasoning tasks"},"gpt-4.1":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:3.5,outputPrice:14,cacheReadsPrice:.875}]},"gpt-4.1-mini":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:.4,outputPrice:1.6,cacheReadsPrice:.1,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:.7,outputPrice:2.8,cacheReadsPrice:.175}]},"gpt-4.1-nano":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:.2,outputPrice:.8,cacheReadsPrice:.05}]},o3:{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1,tiers:[{name:"flex",contextWindow:2e5,inputPrice:1,outputPrice:4,cacheReadsPrice:.25},{name:"priority",contextWindow:2e5,inputPrice:3.5,outputPrice:14,cacheReadsPrice:.875}]},"o3-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,reasoningEffort:"high",supportsTemperature:!1},"o3-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,reasoningEffort:"low",supportsTemperature:!1},"o4-mini":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1,tiers:[{name:"flex",contextWindow:2e5,inputPrice:.55,outputPrice:2.2,cacheReadsPrice:.138},{name:"priority",contextWindow:2e5,inputPrice:2,outputPrice:8,cacheReadsPrice:.5}]},"o4-mini-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,reasoningEffort:"high",supportsTemperature:!1},"o4-mini-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,reasoningEffort:"low",supportsTemperature:!1},"o3-mini":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1},"o3-mini-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,reasoningEffort:"high",supportsTemperature:!1},"o3-mini-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,reasoningEffort:"low",supportsTemperature:!1},o1:{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:60,cacheReadsPrice:7.5,supportsTemperature:!1},"o1-preview":{maxTokens:32768,contextWindow:128e3,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:60,cacheReadsPrice:7.5,supportsTemperature:!1},"o1-mini":{maxTokens:65536,contextWindow:128e3,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,supportsTemperature:!1},"gpt-4o":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:10,cacheReadsPrice:1.25,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:128e3,inputPrice:4.25,outputPrice:17,cacheReadsPrice:2.125}]},"gpt-4o-mini":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,supportsImages:!0,supportsPromptCache:!0,inputPrice:.15,outputPrice:.6,cacheReadsPrice:.075,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:128e3,inputPrice:.25,outputPrice:1,cacheReadsPrice:.125}]},"codex-mini-latest":{maxTokens:16384,contextWindow:2e5,supportsNativeTools:!0,supportsImages:!1,supportsPromptCache:!1,inputPrice:1.5,outputPrice:6,cacheReadsPrice:.375,supportsTemperature:!1,description:"Codex Mini: Cloud-based software engineering agent powered by codex-1, a version of o3 optimized for coding tasks. Trained with reinforcement learning to generate human-style code, adhere to instructions, and iteratively run tests."},"gpt-5-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5: The best model for coding and agentic tasks across domains"},"gpt-5-mini-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.125,outputPrice:1,cacheReadsPrice:.0125},{name:"priority",contextWindow:4e5,inputPrice:.45,outputPrice:3.6,cacheReadsPrice:.045}],description:"GPT-5 Mini: A faster, more cost-efficient version of GPT-5 for well-defined tasks"},"gpt-5-nano-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.05,outputPrice:.4,cacheReadsPrice:.005,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.025,outputPrice:.2,cacheReadsPrice:.0025}],description:"GPT-5 Nano: Fastest, most cost-efficient version of GPT-5"}},Wt={maxTokens:-1,contextWindow:128e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsNativeTools:!0},HP="2024-08-01-preview",gg="qwen3-coder-plus",xg={"qwen3-coder-plus":{maxTokens:65536,contextWindow:1e6,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"Qwen3 Coder Plus - High-performance coding model with 1M context window for large codebases"},"qwen3-coder-flash":{maxTokens:65536,contextWindow:1e6,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"Qwen3 Coder Flash - Fast coding model with 1M context window optimized for speed"}},Yc="coding/claude-4-sonnet",vg="Meta-Llama-3.3-70B-Instruct",bg={"Meta-Llama-3.1-8B-Instruct":{maxTokens:8192,contextWindow:16384,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.2,description:"Meta Llama 3.1 8B Instruct model with 16K context window."},"Meta-Llama-3.3-70B-Instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:1.2,description:"Meta Llama 3.3 70B Instruct model with 128K context window."},"DeepSeek-R1":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsReasoningBudget:!0,supportsNativeTools:!0,inputPrice:5,outputPrice:7,description:"DeepSeek R1 reasoning model with 32K context window."},"DeepSeek-V3-0324":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:3,outputPrice:4.5,description:"DeepSeek V3 model with 32K context window."},"DeepSeek-V3.1":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:3,outputPrice:4.5,description:"DeepSeek V3.1 model with 32K context window."},"DeepSeek-R1-Distill-Llama-70B":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.7,outputPrice:1.4,description:"DeepSeek R1 distilled Llama 70B model with 128K context window."},"Llama-4-Maverick-17B-128E-Instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.63,outputPrice:1.8,description:"Meta Llama 4 Maverick 17B 128E Instruct model with 128K context window."},"Llama-3.3-Swallow-70B-Instruct-v0.4":{maxTokens:8192,contextWindow:16384,supportsImages:!1,supportsPromptCache:!1,inputPrice:.6,outputPrice:1.2,description:"Tokyotech Llama 3.3 Swallow 70B Instruct v0.4 model with 16K context window."},"Qwen3-32B":{maxTokens:8192,contextWindow:8192,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.4,outputPrice:.8,description:"Alibaba Qwen 3 32B model with 8K context window."},"gpt-oss-120b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.22,outputPrice:.59,description:"OpenAI gpt oss 120b model with 128k context window."}},Xc="anthropic/claude-sonnet-4-5",yg="claude-sonnet-4-5@20250929",wg={"gemini-3-pro-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,supportsReasoningEffort:["low","high"],reasoningEffort:"low",supportsTemperature:!0,defaultTemperature:1,inputPrice:4,outputPrice:18,tiers:[{contextWindow:2e5,inputPrice:2,outputPrice:12},{contextWindow:1/0,inputPrice:4,outputPrice:18}]},"gemini-3-flash-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",supportsTemperature:!0,defaultTemperature:1,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1},"gemini-2.5-flash-preview-05-20:thinking":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.15,outputPrice:3.5,maxThinkingTokens:24576,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash-preview-05-20":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.15,outputPrice:.6},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash-preview-04-17:thinking":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:.15,outputPrice:3.5,maxThinkingTokens:24576,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash-preview-04-17":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:.15,outputPrice:.6},"gemini-2.5-pro-preview-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15},"gemini-2.5-pro-preview-05-06":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15},"gemini-2.5-pro-preview-06-05":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,maxThinkingTokens:32768,supportsReasoningBudget:!0},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:15,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-exp-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0},"gemini-2.0-pro-exp-02-05":{maxTokens:8192,contextWindow:2097152,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0},"gemini-2.0-flash-001":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.15,outputPrice:.6},"gemini-2.0-flash-lite-001":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:.075,outputPrice:.3},"gemini-2.0-flash-thinking-exp-01-21":{maxTokens:8192,contextWindow:32768,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0},"gemini-1.5-flash-002":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.075,outputPrice:.3},"gemini-1.5-pro-002":{maxTokens:8192,contextWindow:2097152,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!1,inputPrice:1.25,outputPrice:5},"claude-sonnet-4@20250514":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0},"claude-sonnet-4-5@20250929":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0},"claude-haiku-4-5@20251001":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1,supportsReasoningBudget:!0},"claude-opus-4-5@20251101":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:5,outputPrice:25,cacheWritesPrice:6.25,cacheReadsPrice:.5,supportsReasoningBudget:!0},"claude-opus-4-1@20250805":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5,supportsReasoningBudget:!0},"claude-opus-4@20250514":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5},"claude-3-7-sonnet@20250219:thinking":{maxTokens:64e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"claude-3-7-sonnet@20250219":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-sonnet-v2@20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-sonnet@20240620":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-haiku@20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1},"claude-3-opus@20240229":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5},"claude-3-haiku@20240307":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,inputPrice:.25,outputPrice:1.25,cacheWritesPrice:.3,cacheReadsPrice:.03},"gemini-2.5-flash-lite-preview-06-17":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,supportsPromptCache:!0,inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"llama-4-maverick-17b-128e-instruct-maas":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.35,outputPrice:1.15,description:"Meta Llama 4 Maverick 17B Instruct model, 128K context."},"deepseek-r1-0528-maas":{maxTokens:32768,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:1.35,outputPrice:5.4,description:"DeepSeek R1 (0528). Available in us-central1"},"deepseek-v3.1-maas":{maxTokens:32768,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,inputPrice:.6,outputPrice:1.7,description:"DeepSeek V3.1. Available in us-west2"},"gpt-oss-120b-maas":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.15,outputPrice:.6,description:"OpenAI gpt-oss 120B. Available in us-central1"},"gpt-oss-20b-maas":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,inputPrice:.075,outputPrice:.3,description:"OpenAI gpt-oss 20B. Available in us-central1"},"qwen3-coder-480b-a35b-instruct-maas":{maxTokens:32768,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:1,outputPrice:4,description:"Qwen3 Coder 480B A35B Instruct. Available in us-south1"},"qwen3-235b-a22b-instruct-2507-maas":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:.25,outputPrice:1,description:"Qwen3 235B A22B Instruct. Available in us-south1"}},VP=[{value:"global",label:"global"},{value:"us-central1",label:"us-central1"},{value:"us-east1",label:"us-east1"},{value:"us-east4",label:"us-east4"},{value:"us-east5",label:"us-east5"},{value:"us-south1",label:"us-south1"},{value:"us-west1",label:"us-west1"},{value:"us-west2",label:"us-west2"},{value:"us-west3",label:"us-west3"},{value:"us-west4",label:"us-west4"},{value:"northamerica-northeast1",label:"northamerica-northeast1"},{value:"northamerica-northeast2",label:"northamerica-northeast2"},{value:"southamerica-east1",label:"southamerica-east1"},{value:"europe-west1",label:"europe-west1"},{value:"europe-west2",label:"europe-west2"},{value:"europe-west3",label:"europe-west3"},{value:"europe-west4",label:"europe-west4"},{value:"europe-west6",label:"europe-west6"},{value:"europe-central2",label:"europe-central2"},{value:"asia-east1",label:"asia-east1"},{value:"asia-east2",label:"asia-east2"},{value:"asia-northeast1",label:"asia-northeast1"},{value:"asia-northeast2",label:"asia-northeast2"},{value:"asia-northeast3",label:"asia-northeast3"},{value:"asia-south1",label:"asia-south1"},{value:"asia-south2",label:"asia-south2"},{value:"asia-southeast1",label:"asia-southeast1"},{value:"asia-southeast2",label:"asia-southeast2"},{value:"australia-southeast1",label:"australia-southeast1"},{value:"australia-southeast2",label:"australia-southeast2"},{value:"me-west1",label:"me-west1"},{value:"me-central1",label:"me-central1"},{value:"africa-south1",label:"africa-south1"}],qh="claude-4-sonnet",Zj={"gpt-3.5-turbo":{contextWindow:16384,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-3.5-turbo",version:"gpt-3.5-turbo-0613",name:"GPT 3.5 Turbo",supportsToolCalling:!0,maxInputTokens:12288},"gpt-4o-mini":{contextWindow:128e3,maxTokens:4096,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4o-mini",version:"gpt-4o-mini-2024-07-18",name:"GPT-4o mini",supportsToolCalling:!0,maxInputTokens:12288},"gpt-4":{contextWindow:32768,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4",version:"gpt-4-0613",name:"GPT 4",supportsToolCalling:!0,maxInputTokens:32768},"gpt-4-0125-preview":{contextWindow:128e3,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4-turbo",version:"gpt-4-0125-preview",name:"GPT 4 Turbo",supportsToolCalling:!0,maxInputTokens:64e3},"gpt-4o":{contextWindow:128e3,maxTokens:16384,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4o",version:"gpt-4o-2024-11-20",name:"GPT-4o",supportsToolCalling:!0,maxInputTokens:64e3},o1:{contextWindow:19827,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o1-ga",version:"o1-2024-12-17",name:"o1 (Preview)",supportsToolCalling:!0,maxInputTokens:19827},"o3-mini":{contextWindow:2e5,maxTokens:1e5,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o3-mini",version:"o3-mini-2025-01-31",name:"o3-mini",supportsToolCalling:!0,maxInputTokens:64e3},"claude-3.5-sonnet":{contextWindow:9e4,maxTokens:8192,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"claude-3.5-sonnet",version:"claude-3.5-sonnet",name:"Claude 3.5 Sonnet",supportsToolCalling:!0,maxInputTokens:9e4},"claude-4-sonnet":{contextWindow:216e3,maxTokens:16e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"claude-sonnet-4",version:"claude-sonnet-4",name:"Claude Sonnet 4",supportsToolCalling:!0,maxInputTokens:128e3},"gemini-2.0-flash-001":{contextWindow:1e6,maxTokens:8192,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gemini-2.0-flash",version:"gemini-2.0-flash-001",name:"Gemini 2.0 Flash",supportsToolCalling:!1,maxInputTokens:128e3},"gemini-2.5-pro":{contextWindow:128e3,maxTokens:64e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gemini-2.5-pro",version:"gemini-2.5-pro",name:"Gemini 2.5 Pro",supportsToolCalling:!0,maxInputTokens:128e3},"o4-mini":{contextWindow:2e5,maxTokens:1e5,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o4-mini",version:"o4-mini-2025-04-16",name:"o4-mini (Preview)",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-4.1":{contextWindow:128e3,maxTokens:16384,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4.1",version:"gpt-4.1-2025-04-14",name:"GPT-4.1",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-5-mini":{contextWindow:264e3,maxTokens:127805,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-5-mini",version:"gpt-5-mini",name:"GPT-5 mini",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-5":{contextWindow:264e3,maxTokens:64e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-5",version:"gpt-5",name:"GPT-5",supportsToolCalling:!0,maxInputTokens:128e3}},kg="grok-code-fast-1",jg={"grok-code-fast-1":{maxTokens:16384,contextWindow:256e3,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.2,outputPrice:1.5,cacheWritesPrice:.02,cacheReadsPrice:.02,description:"xAI's Grok Code Fast model with 256K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-1-fast-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4.1 Fast model with 2M context window, optimized for high-performance agentic tool calling with reasoning",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-1-fast-non-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4.1 Fast model with 2M context window, optimized for high-performance agentic tool calling",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4 Fast model with 2M context window, optimized for high-performance agentic tool calling with reasoning",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast-non-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4 Fast model with 2M context window, optimized for high-performance agentic tool calling",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-0709":{maxTokens:8192,contextWindow:256e3,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:.75,cacheReadsPrice:.75,description:"xAI's Grok-4 model with 256K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast":{maxTokens:3e4,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.4,outputPrice:1,cacheReadsPrice:.05,description:"xAI's Grok-4-Fast model with reasonning and a 2M context window",tiers:[{contextWindow:128e3,inputPrice:.2,outputPrice:.5,cacheReadsPrice:.05},{contextWindow:1/0,inputPrice:.4,outputPrice:1,cacheReadsPrice:.05}],includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-3-mini":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.3,outputPrice:.5,cacheWritesPrice:.07,cacheReadsPrice:.07,description:"xAI's Grok-3 mini model with 128K context window",supportsReasoningEffort:["low","high"],reasoningEffort:"low",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-3":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:3,outputPrice:15,cacheWritesPrice:.75,cacheReadsPrice:.75,description:"xAI's Grok-3 model with 128K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]}},_g="anthropic/claude-sonnet-4",Ng="glm-4.7",Sg={"glm-4.5":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.5 is Zhipu's latest featured model. Its comprehensive capabilities in reasoning, coding, and agent reach the state-of-the-art (SOTA) level among open-source models, with a context length of up to 128k."},"glm-4.5-air":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:1.1,cacheWritesPrice:0,cacheReadsPrice:.03,description:"GLM-4.5-Air is the lightweight version of GLM-4.5. It balances performance and cost-effectiveness, and can flexibly switch to hybrid thinking models."},"glm-4.5-x":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2.2,outputPrice:8.9,cacheWritesPrice:0,cacheReadsPrice:.45,description:"GLM-4.5-X is a high-performance variant optimized for strong reasoning with ultra-fast responses."},"glm-4.5-airx":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1.1,outputPrice:4.5,cacheWritesPrice:0,cacheReadsPrice:.22,description:"GLM-4.5-AirX is a lightweight, ultra-fast variant delivering strong performance with lower cost."},"glm-4.5-flash":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.5-Flash is a free, high-speed model excellent for reasoning, coding, and agentic tasks."},"glm-4.5v":{maxTokens:16384,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:1.8,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.5V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, and document/video understanding."},"glm-4.6":{maxTokens:98304,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.6 is Zhipu's newest model with an extended context window of up to 200k tokens, providing enhanced capabilities for processing longer documents and conversations."},"glm-4.6v":{maxTokens:98304,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.3,outputPrice:.9,cacheWritesPrice:0,cacheReadsPrice:.05,description:"GLM-4.6V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, document/video understanding, native function calling capabilities."},"glm-4.6v-flash":{maxTokens:98304,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.6V-Flash is a free, high-speed multimodal model with visual reasoning capabilities, excellent for reasoning, coding, and agentic tasks."},"glm-4.7":{maxTokens:98304,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.7 is Zhipu's latest model with enhanced capabilities for reasoning, coding, and agent tasks, building upon the GLM-4.6 foundation with improved performance."},"glm-4-32b-0414-128k":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.1,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4-32B is a 32 billion parameter model with 128k context length, optimized for efficiency."}},Tg="glm-4.7",e1={"glm-4.5":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5 is Zhipu's latest featured model. Its comprehensive capabilities in reasoning, coding, and agent reach the state-of-the-art (SOTA) level among open-source models, with a context length of up to 128k."},"glm-4.5-air":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.6,cacheWritesPrice:0,cacheReadsPrice:.02,description:"GLM-4.5-Air is the lightweight version of GLM-4.5. It balances performance and cost-effectiveness, and can flexibly switch to hybrid thinking models."},"glm-4.5-x":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5-X is a high-performance variant optimized for strong reasoning with ultra-fast responses."},"glm-4.5-airx":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.6,cacheWritesPrice:0,cacheReadsPrice:.02,description:"GLM-4.5-AirX is a lightweight, ultra-fast variant delivering strong performance with lower cost."},"glm-4.5-flash":{maxTokens:98304,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.5-Flash is a free, high-speed model excellent for reasoning, coding, and agentic tasks."},"glm-4.5v":{maxTokens:16384,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:.93,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, and document/video understanding."},"glm-4.6":{maxTokens:98304,contextWindow:204800,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.6 is Zhipu's newest model with an extended context window of up to 200k tokens, providing enhanced capabilities for processing longer documents and conversations."},"glm-4.7":{maxTokens:98304,contextWindow:204800,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.7 is Zhipu's latest model with enhanced capabilities for reasoning, coding, and agent tasks, building upon the GLM-4.6 foundation with improved performance."}},cv={international_coding:{name:"International Coding",baseUrl:"https://api.z.ai/api/coding/paas/v4",isChina:!1},china_coding:{name:"China Coding",baseUrl:"https://open.bigmodel.cn/api/coding/paas/v4",isChina:!0},international_api:{name:"International API",baseUrl:"https://api.z.ai/api/paas/v4",isChina:!1},china_api:{name:"China API",baseUrl:"https://open.bigmodel.cn/api/paas/v4",isChina:!0}},Jc="Qwen/Qwen3-Coder-480B-A35B-Instruct-Turbo",GP="claude-3.5-sonnet";function Uh(e,t={isChina:!1}){switch(e){case"openrouter":return Ki;case"requesty":return Yc;case"glama":return Vc;case"unbound":return Xc;case"litellm":return Ti;case"xai":return kg;case"groq":return cg;case"huggingface":return"meta-llama/Llama-3.3-70B-Instruct";case"chutes":return Kc;case"baseten":return Zf;case"bedrock":return Cf;case"vertex":return yg;case"gemini":return Fa;case"deepseek":return sg;case"doubao":return Rf;case"moonshot":return pg;case"minimax":return Af;case"zai":return t!=null&&t.isChina?Tg:Ng;case"openai-native":return"gpt-4o";case"mistral":return Qc;case"openai":return"";case"ollama":return"";case"lmstudio":return"";case"deepinfra":return Jc;case"vscode-lm":return GP;case"claude-code":return Mf;case"cerebras":return eg;case"sambanova":return vg;case"fireworks":return ag;case"featherless":return og;case"io-intelligence":return Gc;case"roo":return Ef;case"qwen-code":return gg;case"vercel-ai-gateway":return _g;case"anthropic":case"gemini-cli":case"human-relay":case"fake-ai":default:return Ui}}const Ig=!1,QP=!1,YP={},XP=Object.freeze(Object.defineProperty({__proto__:null,default:YP},Symbol.toStringTag,{value:"Module"})),JP={ar:" ()",cs:"etina",fa:"",th:"",uk:""},ZP={...JP,ca:"Catal",de:"Deutsch",en:"English",es:"Espaol",fr:"Franais",hi:"",id:"Bahasa Indonesia",it:"Italiano",ja:"",ko:"",nl:"Nederlands",pl:"Polski","pt-BR":"Portugus",ru:"",tr:"Trke",vi:"Ting Vit","zh-CN":"","zh-TW":""},dv={read:{tools:["read_file","fetch_instructions","search_files","list_files","codebase_search"]},edit:{tools:["apply_diff","edit_file","write_to_file","delete_file","new_rule","generate_image"],customTools:["search_and_replace","search_replace","apply_patch"]},browser:{tools:["browser_action"]},command:{tools:["execute_command"]},mcp:{tools:["use_mcp_tool","access_mcp_resource"]},modes:{tools:["switch_mode","new_task"],alwaysAvailable:!0}};class Pg{constructor(){jt(this,"state",this.loadInitialState());jt(this,"stateChangeHandlers",new Set)}loadInitialState(){return this.getDefaultState()}getDefaultState(){return{allItems:[],organizationMcps:[],displayItems:[],displayOrganizationMcps:[],isFetching:!0,activeTab:"mcp",filters:{type:"",search:"",tags:[],installed:"all"}}}initialize(){this.state=this.getDefaultState()}onStateChange(t){return this.stateChangeHandlers.add(t),()=>this.stateChangeHandlers.delete(t)}cleanup(){this.state.isFetching&&(this.state.isFetching=!1,this.notifyStateChange()),this.stateChangeHandlers.clear()}getState(){const t=this.state.allItems.length?[...this.state.allItems]:[],r=this.state.organizationMcps.length?[...this.state.organizationMcps]:[],n=this.state.displayItems?[...this.state.displayItems]:[...t],o=this.state.displayOrganizationMcps?[...this.state.displayOrganizationMcps]:[...r],a=this.state.filters.tags.length?[...this.state.filters.tags]:[];return{...this.state,allItems:t,organizationMcps:r,displayItems:n,displayOrganizationMcps:o,filters:{...this.state.filters,tags:a}}}notifyStateChange(t=!1){const r=this.getState();t?this.stateChangeHandlers.forEach(n=>{const o=r.activeTab,a={...r,activeTab:o};n(a)}):this.stateChangeHandlers.forEach(n=>{n(r)})}async transition(t){switch(t.type){case"FETCH_ITEMS":{this.state={...this.state,isFetching:!0},this.notifyStateChange();break}case"FETCH_COMPLETE":{const{items:r}=t.payload;if(JSON.stringify(r)===JSON.stringify(this.state.allItems)){this.state.isFetching=!1,this.stateChangeHandlers.forEach(a=>{a({...this.getState(),isFetching:!1})});break}let n,o;this.isFilterActive()?(n=this.filterItems([...r],this.state.installedMetadata),o=this.filterItems([...this.state.organizationMcps],this.state.installedMetadata)):(n=[...r],o=[...this.state.organizationMcps]),this.state={...this.state,allItems:[...r],displayItems:n,displayOrganizationMcps:o,isFetching:!1},this.notifyStateChange();break}case"FETCH_ERROR":{const{filters:r,activeTab:n,allItems:o,displayItems:a}=this.state;this.state={...this.getDefaultState(),filters:r,activeTab:n,allItems:o,displayItems:a,isFetching:!1},this.notifyStateChange();break}case"SET_ACTIVE_TAB":{const{tab:r}=t.payload;this.state={...this.state,activeTab:r},this.notifyStateChange();break}case"UPDATE_FILTERS":{const{filters:r={}}=t.payload||{},n={type:r.type!==void 0?r.type:this.state.filters.type,search:r.search!==void 0?r.search:this.state.filters.search,tags:r.tags!==void 0?r.tags:this.state.filters.tags,installed:r.installed!==void 0?r.installed:this.state.filters.installed};this.state={...this.state,filters:n};const o=this.filterItems(this.state.allItems,this.state.installedMetadata),a=this.filterItems(this.state.organizationMcps,this.state.installedMetadata);this.state={...this.state,displayItems:o,displayOrganizationMcps:a},A.postMessage({type:"filterMarketplaceItems",filters:n}),this.notifyStateChange();break}}}isFilterActive(){return!!(this.state.filters.type||this.state.filters.search||this.state.filters.tags.length>0||this.state.filters.installed!=="all")}filterItems(t,r){const{type:n,search:o,tags:a,installed:i}=this.state.filters,c=o==null?void 0:o.toLowerCase();return t.filter(l=>{var d,u,p;if(n&&l.type!==n)return!1;if(c){const m=l.name.toLowerCase().includes(c),g=(l.description||"").toLowerCase().includes(c);if(!m&&!g)return!1}if(a.length>0&&!((d=l.tags)!=null&&d.some(m=>a.includes(m))))return!1;if(i!=="all"&&r){const m=!!((u=r==null?void 0:r.global)!=null&&u[l.id]),g=!!((p=r==null?void 0:r.project)!=null&&p[l.id]),f=m||g;if(i==="installed"&&!f||i==="not_installed"&&f)return!1}return!0})}async handleMessage(t){var r;if(!t||!t.type||t.type==="invalidType"){this.state={...this.getDefaultState()},this.notifyStateChange();return}if(t.type==="state"){if(!t.state){this.state={...this.getDefaultState()},this.notifyStateChange();return}const n=t.state.marketplaceItems,o=t.state.marketplaceInstalledMetadata;if(n!==void 0){const l=[...n];o!==void 0&&(this.state.installedMetadata=o);let d,u;this.isFilterActive()?(d=this.filterItems(l,this.state.installedMetadata),u=this.filterItems(this.state.organizationMcps,this.state.installedMetadata)):(d=l,u=this.state.organizationMcps),this.state={...this.state,isFetching:!1,allItems:l,displayItems:d,displayOrganizationMcps:u,installedMetadata:o||this.state.installedMetadata}}const a=this.state.activeTab==="mcp",i=(this.state.allItems||[]).length>0,c=!a&&i;this.notifyStateChange(c)}if(t.type==="marketplaceButtonClicked"&&(t.text?this.transition({type:"FETCH_ERROR"}):((r=t.values)!=null&&r.marketplaceTab&&(t.values.marketplaceTab==="mcp"||t.values.marketplaceTab==="mode")&&this.transition({type:"SET_ACTIVE_TAB",payload:{tab:t.values.marketplaceTab}}),this.transition({type:"FETCH_ITEMS"}))),t.type==="marketplaceData"){const n=t.marketplaceItems,o=t.organizationMcps||[],a=t.marketplaceInstalledMetadata;if(n!==void 0){const i=[...n],c=[...o];a!==void 0&&(this.state.installedMetadata=a);const l=this.isFilterActive()?this.filterItems(i,this.state.installedMetadata):i,d=this.isFilterActive()?this.filterItems(c,this.state.installedMetadata):c;this.state={...this.state,isFetching:!1,allItems:i,organizationMcps:c,displayItems:l,displayOrganizationMcps:d,installedMetadata:a||this.state.installedMetadata}}this.notifyStateChange()}}}function eE(){console.debug("Initializing CSP-compatible source map support for production build"),window.addEventListener("error",async e=>{if(e.error&&e.error instanceof Error)try{const t=await jh(e.error);console.error("Source mapped error:",t)}catch(t){console.error("Error enhancing error with source maps:",t)}}),window.addEventListener("unhandledrejection",async e=>{if(e.reason&&e.reason instanceof Error)try{const t=await jh(e.reason);console.error("Source mapped rejection:",t)}catch(t){console.error("Error enhancing rejection with source maps:",t)}});try{const e=document.getElementsByTagName("script");for(let t=0;t<e.length;t++){const r=e[t];if(r.src){const n=[`${r.src}.map`,`${r.src}?source-map=true`,r.src.replace(/\.js$/,".js.map"),r.src.replace(/\.js$/,".map.json"),r.src.replace(/\.js$/,".sourcemap")];for(const o of n){const a=document.createElement("link");a.rel="preload",a.as="fetch",a.href=o,a.crossOrigin="anonymous",document.head.appendChild(a)}fetch(r.src).then(o=>o.text()).then(o=>{const a=o.match(/\/\/[#@]\s*sourceMappingURL=([^\s]+)/);if(a&&a[1]){const i=a[1];if(!i.startsWith("data:")){const c=new URL(r.src),l=c.href.substring(0,c.href.lastIndexOf("/")+1),d=new URL(i,l).href,u=document.createElement("link");u.rel="preload",u.as="fetch",u.href=d,u.crossOrigin="anonymous",document.head.appendChild(u)}}}).catch(o=>console.debug("Error checking for inline sourceMappingURL:",o))}}}catch(e){console.error("Error preloading source maps:",e)}}function tE(){try{window.__applySourceMaps=async e=>e instanceof Error?await jh(e):(console.error("Not an Error object:",e),e),window.__testSourceMaps=()=>{try{(void 0).nonExistentMethod()}catch(e){e instanceof Error&&(console.log("Original error:",e),window.__applySourceMaps(e).then(t=>{console.log("Enhanced error:",t),"sourceMappedStack"in t&&console.log("Source mapped stack:",t.sourceMappedStack),"sourceMappedComponentStack"in t&&console.log("Source mapped component stack:",t.sourceMappedComponentStack)}))}},window.__checkSourceMap=async e=>{try{const t=await fetch(`${e}.map`);if(t.ok){const r=await t.json(),n=r.sources&&r.sources.length>0?r.sources[0]:"unknown";return console.log(`Source map found for ${e}. Original file: ${n}`),!0}else return console.log(`No source map found for ${e}`),!1}catch(t){return console.error(`Error checking source map for ${e}:`,t),!1}},console.debug("Source map debugging utilities exposed on window object")}catch(e){console.error("Error exposing source maps for debugging:",e)}}var wl={exports:{}},uv;function sE(){if(uv)return wl.exports;uv=1;function e(t,r=100,n={}){if(typeof t!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(r<0)throw new RangeError("`wait` must not be negative.");const{immediate:o}=typeof n=="boolean"?{immediate:n}:n;let a,i,c,l,d;function u(){const g=a,f=i;return a=void 0,i=void 0,d=t.apply(g,f),d}function p(){const g=Date.now()-l;g<r&&g>=0?c=setTimeout(p,r-g):(c=void 0,o||(d=u()))}const m=function(...g){if(a&&this!==a&&Object.getPrototypeOf(this)===Object.getPrototypeOf(a))throw new Error("Debounced method called with different contexts of the same prototype.");a=this,i=g,l=Date.now();const f=o&&!c;return c||(c=setTimeout(p,r)),f&&(d=u()),d};return Object.defineProperty(m,"isPending",{get(){return c!==void 0}}),m.clear=()=>{c&&(clearTimeout(c),c=void 0)},m.flush=()=>{c&&m.trigger()},m.trigger=()=>{d=u(),m.clear()},m}return wl.exports.debounce=e,wl.exports=e,wl.exports}var rE=sE();const t1=Zr(rE);var Dd,pv;function nE(){return pv||(pv=1,Dd=function(e,t){t=t||{},t.listUnicodeChar=t.hasOwnProperty("listUnicodeChar")?t.listUnicodeChar:!1,t.stripListLeaders=t.hasOwnProperty("stripListLeaders")?t.stripListLeaders:!0,t.gfm=t.hasOwnProperty("gfm")?t.gfm:!0,t.useImgAltText=t.hasOwnProperty("useImgAltText")?t.useImgAltText:!0,t.abbr=t.hasOwnProperty("abbr")?t.abbr:!1,t.replaceLinksWithURL=t.hasOwnProperty("replaceLinksWithURL")?t.replaceLinksWithURL:!1,t.htmlTagsToSkip=t.hasOwnProperty("htmlTagsToSkip")?t.htmlTagsToSkip:[],t.throwError=t.hasOwnProperty("throwError")?t.throwError:!1;var r=e||"";r=r.replace(/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/gm,"");try{t.stripListLeaders&&(t.listUnicodeChar?r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(r=r.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/```(?:.*)\n([\s\S]*?)```/g,(o,a)=>a.trim())),t.abbr&&(r=r.replace(/\*\[.*\]:.*\n/,""));let n=/<[^>]*>/g;if(t.htmlTagsToSkip&&t.htmlTagsToSkip.length>0){const o=t.htmlTagsToSkip.join("|");n=new RegExp(`<(?!/?(${o})(?=>|s[^>]*>))[^>]*>`,"g")}r=r.replace(n,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[([\s\S]*?)\]\s*[\(\[].*?[\)\]]/g,t.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(n){if(t.throwError)throw n;return console.error("remove-markdown encountered error: %s",n),e}return r}),Dd}var oE=nE();const aE=Zr(oE);function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(null,arguments)}function iE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lE(e){h.useEffect(e,[])}var cE=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Fd(e,t){var r=t===void 0?{}:t,n=r.volume,o=n===void 0?1:n,a=r.playbackRate,i=a===void 0?1:a,c=r.soundEnabled,l=c===void 0?!0:c,d=r.interrupt,u=d===void 0?!1:d,p=r.onload,m=iE(r,cE),g=He.useRef(null),f=He.useRef(!1),x=He.useState(null),v=x[0],N=x[1],y=He.useState(null),w=y[0],b=y[1],k=function(){typeof p=="function"&&p.call(this),f.current&&N(this.duration()*1e3),b(this)};lE(function(){return Pj(()=>import("./chunk-BYCUR9qn.js").then(I=>I.h),__vite__mapDeps([0,1])).then(function(I){if(!f.current){var E;g.current=(E=I.Howl)!==null&&E!==void 0?E:I.default.Howl,f.current=!0,new g.current(fc({src:Array.isArray(e)?e:[e],volume:o,rate:i,onload:k},m))}}),function(){f.current=!1}}),He.useEffect(function(){g.current&&w&&b(new g.current(fc({src:Array.isArray(e)?e:[e],volume:o,onload:k},m)))},[JSON.stringify(e)]),He.useEffect(function(){w&&(w.volume(o),m.sprite||w.rate(i))},[w,o,i]);var _=He.useCallback(function(I){typeof I>"u"&&(I={}),!(!w||!l&&!I.forceSoundEnabled)&&(u&&w.stop(),I.playbackRate&&w.rate(I.playbackRate),w.play(I.id))},[w,l,u]),j=He.useCallback(function(I){w&&w.stop(I)},[w]),T=He.useCallback(function(I){w&&w.pause(I)},[w]),S=[_,{sound:w,stop:j,pause:T,duration:v}];return S}const ta=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s1=new Set,Kh=typeof process=="object"&&process?process:{},r1=(e,t,r,n)=>{typeof Kh.emitWarning=="function"?Kh.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)};let gc=globalThis.AbortController,mv=globalThis.AbortSignal;var cj;if(typeof gc>"u"){mv=class{constructor(){jt(this,"onabort");jt(this,"_onabort",[]);jt(this,"reason");jt(this,"aborted",!1)}addEventListener(n,o){this._onabort.push(o)}},gc=class{constructor(){jt(this,"signal",new mv);t()}abort(n){var o,a;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const i of this.signal._onabort)i(n);(a=(o=this.signal).onabort)==null||a.call(o,n)}}};let e=((cj=Kh.env)==null?void 0:cj.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,r1("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const dE=e=>!s1.has(e),Ln=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),n1=e=>Ln(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Kl:null:null;class Kl extends Array{constructor(t){super(t),this.fill(0)}}var Aa;const ko=class ko{constructor(t,r){jt(this,"heap");jt(this,"length");if(!P(ko,Aa))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}static create(t){const r=n1(t);if(!r)return[];le(ko,Aa,!0);const n=new ko(t,r);return le(ko,Aa,!1),n}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Aa=new WeakMap,ye(ko,Aa,!1);let Wh=ko;var dj,uj,Dr,ar,Fr,Co,Lr,Ra,Ca,ms,Br,ds,Ut,Ye,Ks,ir,Cs,xs,zr,vs,qr,Ur,lr,Kr,to,Ws,Oa,Ne,$h,Oo,Sn,zi,cr,o1,Do,Da,qi,Bn,zn,Hh,Wl,$l,zt,Vh,mi,qn,Gh;const Sx=class Sx{constructor(t){ye(this,Ne);ye(this,Dr);ye(this,ar);ye(this,Fr);ye(this,Co);ye(this,Lr);ye(this,Ra);ye(this,Ca);jt(this,"ttl");jt(this,"ttlResolution");jt(this,"ttlAutopurge");jt(this,"updateAgeOnGet");jt(this,"updateAgeOnHas");jt(this,"allowStale");jt(this,"noDisposeOnSet");jt(this,"noUpdateTTL");jt(this,"maxEntrySize");jt(this,"sizeCalculation");jt(this,"noDeleteOnFetchRejection");jt(this,"noDeleteOnStaleGet");jt(this,"allowStaleOnFetchAbort");jt(this,"allowStaleOnFetchRejection");jt(this,"ignoreFetchAbort");ye(this,ms);ye(this,Br);ye(this,ds);ye(this,Ut);ye(this,Ye);ye(this,Ks);ye(this,ir);ye(this,Cs);ye(this,xs);ye(this,zr);ye(this,vs);ye(this,qr);ye(this,Ur);ye(this,lr);ye(this,Kr);ye(this,to);ye(this,Ws);ye(this,Oa);ye(this,Oo,()=>{});ye(this,Sn,()=>{});ye(this,zi,()=>{});ye(this,cr,()=>!1);ye(this,Do,t=>{});ye(this,Da,(t,r,n)=>{});ye(this,qi,(t,r,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});jt(this,dj,"LRUCache");const{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:i,updateAgeOnHas:c,allowStale:l,dispose:d,onInsert:u,disposeAfter:p,noDisposeOnSet:m,noUpdateTTL:g,maxSize:f=0,maxEntrySize:x=0,sizeCalculation:v,fetchMethod:N,memoMethod:y,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:_,ignoreFetchAbort:j}=t;if(r!==0&&!Ln(r))throw new TypeError("max option must be a nonnegative integer");const T=r?n1(r):Array;if(!T)throw new Error("invalid max value: "+r);if(le(this,Dr,r),le(this,ar,f),this.maxEntrySize=x||P(this,ar),this.sizeCalculation=v,this.sizeCalculation){if(!P(this,ar)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("memoMethod must be a function if defined");if(le(this,Ca,y),N!==void 0&&typeof N!="function")throw new TypeError("fetchMethod must be a function if specified");if(le(this,Ra,N),le(this,to,!!N),le(this,ds,new Map),le(this,Ut,new Array(r).fill(void 0)),le(this,Ye,new Array(r).fill(void 0)),le(this,Ks,new T(r)),le(this,ir,new T(r)),le(this,Cs,0),le(this,xs,0),le(this,zr,Wh.create(r)),le(this,ms,0),le(this,Br,0),typeof d=="function"&&le(this,Fr,d),typeof u=="function"&&le(this,Co,u),typeof p=="function"?(le(this,Lr,p),le(this,vs,[])):(le(this,Lr,void 0),le(this,vs,void 0)),le(this,Kr,!!P(this,Fr)),le(this,Oa,!!P(this,Co)),le(this,Ws,!!P(this,Lr)),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!k,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!j,this.maxEntrySize!==0){if(P(this,ar)!==0&&!Ln(P(this,ar)))throw new TypeError("maxSize must be a positive integer if specified");if(!Ln(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");pe(this,Ne,o1).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!c,this.ttlResolution=Ln(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!Ln(this.ttl))throw new TypeError("ttl must be a positive integer if specified");pe(this,Ne,$h).call(this)}if(P(this,Dr)===0&&this.ttl===0&&P(this,ar)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!P(this,Dr)&&!P(this,ar)){const S="LRU_CACHE_UNBOUNDED";dE(S)&&(s1.add(S),r1("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",S,Sx))}}static unsafeExposeInternals(t){return{starts:P(t,Ur),ttls:P(t,lr),sizes:P(t,qr),keyMap:P(t,ds),keyList:P(t,Ut),valList:P(t,Ye),next:P(t,Ks),prev:P(t,ir),get head(){return P(t,Cs)},get tail(){return P(t,xs)},free:P(t,zr),isBackgroundFetch:r=>{var n;return pe(n=t,Ne,zt).call(n,r)},backgroundFetch:(r,n,o,a)=>{var i;return pe(i=t,Ne,$l).call(i,r,n,o,a)},moveToTail:r=>{var n;return pe(n=t,Ne,mi).call(n,r)},indexes:r=>{var n;return pe(n=t,Ne,Bn).call(n,r)},rindexes:r=>{var n;return pe(n=t,Ne,zn).call(n,r)},isStale:r=>{var n;return P(n=t,cr).call(n,r)}}}get max(){return P(this,Dr)}get maxSize(){return P(this,ar)}get calculatedSize(){return P(this,Br)}get size(){return P(this,ms)}get fetchMethod(){return P(this,Ra)}get memoMethod(){return P(this,Ca)}get dispose(){return P(this,Fr)}get onInsert(){return P(this,Co)}get disposeAfter(){return P(this,Lr)}getRemainingTTL(t){return P(this,ds).has(t)?1/0:0}*entries(){for(const t of pe(this,Ne,Bn).call(this))P(this,Ye)[t]!==void 0&&P(this,Ut)[t]!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield[P(this,Ut)[t],P(this,Ye)[t]])}*rentries(){for(const t of pe(this,Ne,zn).call(this))P(this,Ye)[t]!==void 0&&P(this,Ut)[t]!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield[P(this,Ut)[t],P(this,Ye)[t]])}*keys(){for(const t of pe(this,Ne,Bn).call(this)){const r=P(this,Ut)[t];r!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield r)}}*rkeys(){for(const t of pe(this,Ne,zn).call(this)){const r=P(this,Ut)[t];r!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield r)}}*values(){for(const t of pe(this,Ne,Bn).call(this))P(this,Ye)[t]!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield P(this,Ye)[t])}*rvalues(){for(const t of pe(this,Ne,zn).call(this))P(this,Ye)[t]!==void 0&&!pe(this,Ne,zt).call(this,P(this,Ye)[t])&&(yield P(this,Ye)[t])}[(uj=Symbol.iterator,dj=Symbol.toStringTag,uj)](){return this.entries()}find(t,r={}){for(const n of pe(this,Ne,Bn).call(this)){const o=P(this,Ye)[n],a=pe(this,Ne,zt).call(this,o)?o.__staleWhileFetching:o;if(a!==void 0&&t(a,P(this,Ut)[n],this))return this.get(P(this,Ut)[n],r)}}forEach(t,r=this){for(const n of pe(this,Ne,Bn).call(this)){const o=P(this,Ye)[n],a=pe(this,Ne,zt).call(this,o)?o.__staleWhileFetching:o;a!==void 0&&t.call(r,a,P(this,Ut)[n],this)}}rforEach(t,r=this){for(const n of pe(this,Ne,zn).call(this)){const o=P(this,Ye)[n],a=pe(this,Ne,zt).call(this,o)?o.__staleWhileFetching:o;a!==void 0&&t.call(r,a,P(this,Ut)[n],this)}}purgeStale(){let t=!1;for(const r of pe(this,Ne,zn).call(this,{allowStale:!0}))P(this,cr).call(this,r)&&(pe(this,Ne,qn).call(this,P(this,Ut)[r],"expire"),t=!0);return t}info(t){const r=P(this,ds).get(t);if(r===void 0)return;const n=P(this,Ye)[r],o=pe(this,Ne,zt).call(this,n)?n.__staleWhileFetching:n;if(o===void 0)return;const a={value:o};if(P(this,lr)&&P(this,Ur)){const i=P(this,lr)[r],c=P(this,Ur)[r];if(i&&c){const l=i-(ta.now()-c);a.ttl=l,a.start=Date.now()}}return P(this,qr)&&(a.size=P(this,qr)[r]),a}dump(){const t=[];for(const r of pe(this,Ne,Bn).call(this,{allowStale:!0})){const n=P(this,Ut)[r],o=P(this,Ye)[r],a=pe(this,Ne,zt).call(this,o)?o.__staleWhileFetching:o;if(a===void 0||n===void 0)continue;const i={value:a};if(P(this,lr)&&P(this,Ur)){i.ttl=P(this,lr)[r];const c=ta.now()-P(this,Ur)[r];i.start=Math.floor(Date.now()-c)}P(this,qr)&&(i.size=P(this,qr)[r]),t.unshift([n,i])}return t}load(t){this.clear();for(const[r,n]of t){if(n.start){const o=Date.now()-n.start;n.start=ta.now()-o}this.set(r,n.value,n)}}set(t,r,n={}){var m,g,f,x,v,N,y;if(r===void 0)return this.delete(t),this;const{ttl:o=this.ttl,start:a,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:l}=n;let{noUpdateTTL:d=this.noUpdateTTL}=n;const u=P(this,qi).call(this,t,r,n.size||0,c);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),pe(this,Ne,qn).call(this,t,"set"),this;let p=P(this,ms)===0?void 0:P(this,ds).get(t);if(p===void 0)p=P(this,ms)===0?P(this,xs):P(this,zr).length!==0?P(this,zr).pop():P(this,ms)===P(this,Dr)?pe(this,Ne,Wl).call(this,!1):P(this,ms),P(this,Ut)[p]=t,P(this,Ye)[p]=r,P(this,ds).set(t,p),P(this,Ks)[P(this,xs)]=p,P(this,ir)[p]=P(this,xs),le(this,xs,p),xo(this,ms)._++,P(this,Da).call(this,p,u,l),l&&(l.set="add"),d=!1,P(this,Oa)&&((m=P(this,Co))==null||m.call(this,r,t,"add"));else{pe(this,Ne,mi).call(this,p);const w=P(this,Ye)[p];if(r!==w){if(P(this,to)&&pe(this,Ne,zt).call(this,w)){w.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:b}=w;b!==void 0&&!i&&(P(this,Kr)&&((g=P(this,Fr))==null||g.call(this,b,t,"set")),P(this,Ws)&&((f=P(this,vs))==null||f.push([b,t,"set"])))}else i||(P(this,Kr)&&((x=P(this,Fr))==null||x.call(this,w,t,"set")),P(this,Ws)&&((v=P(this,vs))==null||v.push([w,t,"set"])));if(P(this,Do).call(this,p),P(this,Da).call(this,p,u,l),P(this,Ye)[p]=r,l){l.set="replace";const b=w&&pe(this,Ne,zt).call(this,w)?w.__staleWhileFetching:w;b!==void 0&&(l.oldValue=b)}}else l&&(l.set="update");P(this,Oa)&&((N=this.onInsert)==null||N.call(this,r,t,r===w?"update":"replace"))}if(o!==0&&!P(this,lr)&&pe(this,Ne,$h).call(this),P(this,lr)&&(d||P(this,zi).call(this,p,o,a),l&&P(this,Sn).call(this,l,p)),!i&&P(this,Ws)&&P(this,vs)){const w=P(this,vs);let b;for(;b=w==null?void 0:w.shift();)(y=P(this,Lr))==null||y.call(this,...b)}return this}pop(){var t;try{for(;P(this,ms);){const r=P(this,Ye)[P(this,Cs)];if(pe(this,Ne,Wl).call(this,!0),pe(this,Ne,zt).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(P(this,Ws)&&P(this,vs)){const r=P(this,vs);let n;for(;n=r==null?void 0:r.shift();)(t=P(this,Lr))==null||t.call(this,...n)}}}has(t,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=r,a=P(this,ds).get(t);if(a!==void 0){const i=P(this,Ye)[a];if(pe(this,Ne,zt).call(this,i)&&i.__staleWhileFetching===void 0)return!1;if(P(this,cr).call(this,a))o&&(o.has="stale",P(this,Sn).call(this,o,a));else return n&&P(this,Oo).call(this,a),o&&(o.has="hit",P(this,Sn).call(this,o,a)),!0}else o&&(o.has="miss");return!1}peek(t,r={}){const{allowStale:n=this.allowStale}=r,o=P(this,ds).get(t);if(o===void 0||!n&&P(this,cr).call(this,o))return;const a=P(this,Ye)[o];return pe(this,Ne,zt).call(this,a)?a.__staleWhileFetching:a}async fetch(t,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:p=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:m=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:x,forceRefresh:v=!1,status:N,signal:y}=r;if(!P(this,to))return N&&(N.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:N});const w={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:i,noDisposeOnSet:c,size:l,sizeCalculation:d,noUpdateTTL:u,noDeleteOnFetchRejection:p,allowStaleOnFetchRejection:m,allowStaleOnFetchAbort:f,ignoreFetchAbort:g,status:N,signal:y};let b=P(this,ds).get(t);if(b===void 0){N&&(N.fetch="miss");const k=pe(this,Ne,$l).call(this,t,b,w,x);return k.__returned=k}else{const k=P(this,Ye)[b];if(pe(this,Ne,zt).call(this,k)){const I=n&&k.__staleWhileFetching!==void 0;return N&&(N.fetch="inflight",I&&(N.returnedStale=!0)),I?k.__staleWhileFetching:k.__returned=k}const _=P(this,cr).call(this,b);if(!v&&!_)return N&&(N.fetch="hit"),pe(this,Ne,mi).call(this,b),o&&P(this,Oo).call(this,b),N&&P(this,Sn).call(this,N,b),k;const j=pe(this,Ne,$l).call(this,t,b,w,x),S=j.__staleWhileFetching!==void 0&&n;return N&&(N.fetch=_?"stale":"refresh",S&&_&&(N.returnedStale=!0)),S?j.__staleWhileFetching:j.__returned=j}}async forceFetch(t,r={}){const n=await this.fetch(t,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(t,r={}){const n=P(this,Ca);if(!n)throw new Error("no memoMethod provided to constructor");const{context:o,forceRefresh:a,...i}=r,c=this.get(t,i);if(!a&&c!==void 0)return c;const l=n(t,c,{options:i,context:o});return this.set(t,l,i),l}get(t,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:i}=r,c=P(this,ds).get(t);if(c!==void 0){const l=P(this,Ye)[c],d=pe(this,Ne,zt).call(this,l);return i&&P(this,Sn).call(this,i,c),P(this,cr).call(this,c)?(i&&(i.get="stale"),d?(i&&n&&l.__staleWhileFetching!==void 0&&(i.returnedStale=!0),n?l.__staleWhileFetching:void 0):(a||pe(this,Ne,qn).call(this,t,"expire"),i&&n&&(i.returnedStale=!0),n?l:void 0)):(i&&(i.get="hit"),d?l.__staleWhileFetching:(pe(this,Ne,mi).call(this,c),o&&P(this,Oo).call(this,c),l))}else i&&(i.get="miss")}delete(t){return pe(this,Ne,qn).call(this,t,"delete")}clear(){return pe(this,Ne,Gh).call(this,"delete")}};Dr=new WeakMap,ar=new WeakMap,Fr=new WeakMap,Co=new WeakMap,Lr=new WeakMap,Ra=new WeakMap,Ca=new WeakMap,ms=new WeakMap,Br=new WeakMap,ds=new WeakMap,Ut=new WeakMap,Ye=new WeakMap,Ks=new WeakMap,ir=new WeakMap,Cs=new WeakMap,xs=new WeakMap,zr=new WeakMap,vs=new WeakMap,qr=new WeakMap,Ur=new WeakMap,lr=new WeakMap,Kr=new WeakMap,to=new WeakMap,Ws=new WeakMap,Oa=new WeakMap,Ne=new WeakSet,$h=function(){const t=new Kl(P(this,Dr)),r=new Kl(P(this,Dr));le(this,lr,t),le(this,Ur,r),le(this,zi,(a,i,c=ta.now())=>{if(r[a]=i!==0?c:0,t[a]=i,i!==0&&this.ttlAutopurge){const l=setTimeout(()=>{P(this,cr).call(this,a)&&pe(this,Ne,qn).call(this,P(this,Ut)[a],"expire")},i+1);l.unref&&l.unref()}}),le(this,Oo,a=>{r[a]=t[a]!==0?ta.now():0}),le(this,Sn,(a,i)=>{if(t[i]){const c=t[i],l=r[i];if(!c||!l)return;a.ttl=c,a.start=l,a.now=n||o();const d=a.now-l;a.remainingTTL=c-d}});let n=0;const o=()=>{const a=ta.now();if(this.ttlResolution>0){n=a;const i=setTimeout(()=>n=0,this.ttlResolution);i.unref&&i.unref()}return a};this.getRemainingTTL=a=>{const i=P(this,ds).get(a);if(i===void 0)return 0;const c=t[i],l=r[i];if(!c||!l)return 1/0;const d=(n||o())-l;return c-d},le(this,cr,a=>{const i=r[a],c=t[a];return!!c&&!!i&&(n||o())-i>c})},Oo=new WeakMap,Sn=new WeakMap,zi=new WeakMap,cr=new WeakMap,o1=function(){const t=new Kl(P(this,Dr));le(this,Br,0),le(this,qr,t),le(this,Do,r=>{le(this,Br,P(this,Br)-t[r]),t[r]=0}),le(this,qi,(r,n,o,a)=>{if(pe(this,Ne,zt).call(this,n))return 0;if(!Ln(o))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(o=a(n,r),!Ln(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o}),le(this,Da,(r,n,o)=>{if(t[r]=n,P(this,ar)){const a=P(this,ar)-t[r];for(;P(this,Br)>a;)pe(this,Ne,Wl).call(this,!0)}le(this,Br,P(this,Br)+t[r]),o&&(o.entrySize=n,o.totalCalculatedSize=P(this,Br))})},Do=new WeakMap,Da=new WeakMap,qi=new WeakMap,Bn=function*({allowStale:t=this.allowStale}={}){if(P(this,ms))for(let r=P(this,xs);!(!pe(this,Ne,Hh).call(this,r)||((t||!P(this,cr).call(this,r))&&(yield r),r===P(this,Cs)));)r=P(this,ir)[r]},zn=function*({allowStale:t=this.allowStale}={}){if(P(this,ms))for(let r=P(this,Cs);!(!pe(this,Ne,Hh).call(this,r)||((t||!P(this,cr).call(this,r))&&(yield r),r===P(this,xs)));)r=P(this,Ks)[r]},Hh=function(t){return t!==void 0&&P(this,ds).get(P(this,Ut)[t])===t},Wl=function(t){var a,i;const r=P(this,Cs),n=P(this,Ut)[r],o=P(this,Ye)[r];return P(this,to)&&pe(this,Ne,zt).call(this,o)?o.__abortController.abort(new Error("evicted")):(P(this,Kr)||P(this,Ws))&&(P(this,Kr)&&((a=P(this,Fr))==null||a.call(this,o,n,"evict")),P(this,Ws)&&((i=P(this,vs))==null||i.push([o,n,"evict"]))),P(this,Do).call(this,r),t&&(P(this,Ut)[r]=void 0,P(this,Ye)[r]=void 0,P(this,zr).push(r)),P(this,ms)===1?(le(this,Cs,le(this,xs,0)),P(this,zr).length=0):le(this,Cs,P(this,Ks)[r]),P(this,ds).delete(n),xo(this,ms)._--,r},$l=function(t,r,n,o){const a=r===void 0?void 0:P(this,Ye)[r];if(pe(this,Ne,zt).call(this,a))return a;const i=new gc,{signal:c}=n;c==null||c.addEventListener("abort",()=>i.abort(c.reason),{signal:i.signal});const l={signal:i.signal,options:n,context:o},d=(x,v=!1)=>{const{aborted:N}=i.signal,y=n.ignoreFetchAbort&&x!==void 0;if(n.status&&(N&&!v?(n.status.fetchAborted=!0,n.status.fetchError=i.signal.reason,y&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),N&&!y&&!v)return p(i.signal.reason);const w=g;return P(this,Ye)[r]===g&&(x===void 0?w.__staleWhileFetching?P(this,Ye)[r]=w.__staleWhileFetching:pe(this,Ne,qn).call(this,t,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(t,x,l.options))),x},u=x=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=x),p(x)),p=x=>{const{aborted:v}=i.signal,N=v&&n.allowStaleOnFetchAbort,y=N||n.allowStaleOnFetchRejection,w=y||n.noDeleteOnFetchRejection,b=g;if(P(this,Ye)[r]===g&&(!w||b.__staleWhileFetching===void 0?pe(this,Ne,qn).call(this,t,"fetch"):N||(P(this,Ye)[r]=b.__staleWhileFetching)),y)return n.status&&b.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),b.__staleWhileFetching;if(b.__returned===b)throw x},m=(x,v)=>{var y;const N=(y=P(this,Ra))==null?void 0:y.call(this,t,a,l);N&&N instanceof Promise&&N.then(w=>x(w===void 0?void 0:w),v),i.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(x(void 0),n.allowStaleOnFetchAbort&&(x=w=>d(w,!0)))})};n.status&&(n.status.fetchDispatched=!0);const g=new Promise(m).then(d,u),f=Object.assign(g,{__abortController:i,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(t,f,{...l.options,status:void 0}),r=P(this,ds).get(t)):P(this,Ye)[r]=f,f},zt=function(t){if(!P(this,to))return!1;const r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof gc},Vh=function(t,r){P(this,ir)[r]=t,P(this,Ks)[t]=r},mi=function(t){t!==P(this,xs)&&(t===P(this,Cs)?le(this,Cs,P(this,Ks)[t]):pe(this,Ne,Vh).call(this,P(this,ir)[t],P(this,Ks)[t]),pe(this,Ne,Vh).call(this,P(this,xs),t),le(this,xs,t))},qn=function(t,r){var o,a,i,c;let n=!1;if(P(this,ms)!==0){const l=P(this,ds).get(t);if(l!==void 0)if(n=!0,P(this,ms)===1)pe(this,Ne,Gh).call(this,r);else{P(this,Do).call(this,l);const d=P(this,Ye)[l];if(pe(this,Ne,zt).call(this,d)?d.__abortController.abort(new Error("deleted")):(P(this,Kr)||P(this,Ws))&&(P(this,Kr)&&((o=P(this,Fr))==null||o.call(this,d,t,r)),P(this,Ws)&&((a=P(this,vs))==null||a.push([d,t,r]))),P(this,ds).delete(t),P(this,Ut)[l]=void 0,P(this,Ye)[l]=void 0,l===P(this,xs))le(this,xs,P(this,ir)[l]);else if(l===P(this,Cs))le(this,Cs,P(this,Ks)[l]);else{const u=P(this,ir)[l];P(this,Ks)[u]=P(this,Ks)[l];const p=P(this,Ks)[l];P(this,ir)[p]=P(this,ir)[l]}xo(this,ms)._--,P(this,zr).push(l)}}if(P(this,Ws)&&((i=P(this,vs))!=null&&i.length)){const l=P(this,vs);let d;for(;d=l==null?void 0:l.shift();)(c=P(this,Lr))==null||c.call(this,...d)}return n},Gh=function(t){var r,n,o;for(const a of pe(this,Ne,zn).call(this,{allowStale:!0})){const i=P(this,Ye)[a];if(pe(this,Ne,zt).call(this,i))i.__abortController.abort(new Error("deleted"));else{const c=P(this,Ut)[a];P(this,Kr)&&((r=P(this,Fr))==null||r.call(this,i,c,t)),P(this,Ws)&&((n=P(this,vs))==null||n.push([i,c,t]))}}if(P(this,ds).clear(),P(this,Ye).fill(void 0),P(this,Ut).fill(void 0),P(this,lr)&&P(this,Ur)&&(P(this,lr).fill(0),P(this,Ur).fill(0)),P(this,qr)&&P(this,qr).fill(0),le(this,Cs,0),le(this,xs,0),P(this,zr).length=0,le(this,Br,0),le(this,ms,0),P(this,Ws)&&P(this,vs)){const a=P(this,vs);let i;for(;i=a==null?void 0:a.shift();)(o=P(this,Lr))==null||o.call(this,...i)}};let xc=Sx;function a1(e,t,r){const n=h.useRef(e),o=h.useRef(null);h.useEffect(()=>{n.current=e},[e]),h.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{n.current()},t),()=>{o.current&&clearTimeout(o.current)}),[t,...r])}function i1(e,t,r){const n=t??[];return n.length===0?e:[...e,...n].slice(0,r)}function l1(e){if(e.length===0)return[];if(e.length===1)return e;let t=!1;for(const o of e)if(o.type==="say"&&(o.say==="api_req_started"||o.say==="api_req_finished")){t=!0;break}if(!t)return e;const r=[],n=[];for(const o of e){if(o.type!=="say"||o.say!=="api_req_started"&&o.say!=="api_req_finished"){r.push(o);continue}if(o.say==="api_req_started"){r.push(o),n.push(r.length-1);continue}const a=n.length>0?n.pop():void 0;if(a!==void 0){const i=r[a];let c={},l={};try{i.text&&(c=JSON.parse(i.text))}catch{}try{o.text&&(l=JSON.parse(o.text))}catch{}r[a]={...i,text:JSON.stringify({...c,...l})}}}return r}function uE(e){var r;const t={totalTokensIn:0,totalTokensOut:0,totalCacheWrites:void 0,totalCacheReads:void 0,totalCost:0,contextTokens:0};e.forEach(n=>{var o,a;if(n.type==="say"&&n.say==="api_req_started"&&n.text)try{const i=JSON.parse(n.text),{tokensIn:c,tokensOut:l,cacheWrites:d,cacheReads:u,cost:p}=i;typeof c=="number"&&(t.totalTokensIn+=c),typeof l=="number"&&(t.totalTokensOut+=l),typeof d=="number"&&(t.totalCacheWrites=(t.totalCacheWrites??0)+d),typeof u=="number"&&(t.totalCacheReads=(t.totalCacheReads??0)+u),typeof p=="number"&&(t.totalCost+=p)}catch(i){console.error("Error parsing JSON:",i)}else if(n.type==="say"&&n.say==="condense_context")t.totalCost+=((o=n.contextCondense)==null?void 0:o.cost)??0;else if(n.type==="ask"&&n.ask==="tool"&&n.text){const i=(a=dr(n.text))==null?void 0:a.fastApplyResult;t.totalTokensIn+=(i==null?void 0:i.tokensIn)??0,t.totalTokensOut+=(i==null?void 0:i.tokensOut)??0,t.totalCost+=(i==null?void 0:i.cost)??0}}),t.contextTokens=0;for(let n=e.length-1;n>=0;n--){const o=e[n];if(o.type==="say"&&o.say==="api_req_started"&&o.text)try{const a=JSON.parse(o.text),{tokensIn:i,tokensOut:c}=a;t.contextTokens=(i||0)+(c||0)}catch(a){console.error("Error parsing JSON:",a);continue}else o.type==="say"&&o.say==="condense_context"&&(t.contextTokens=((r=o.contextCondense)==null?void 0:r.newContextTokens)??0);if(t.contextTokens)break}return t}class pE{static isProfileAllowed(t,r){var o;if(r.allowAll)return!0;if(!t.apiProvider||!this.isProviderAllowed(t.apiProvider,r))return!1;if(t.apiProvider==="human-relay")return!0;const n=this.getModelIdFromProfile(t);return n?this.isModelAllowed(t.apiProvider,n,r):((o=r.providers[t.apiProvider])==null?void 0:o.allowAll)===!0}static isProviderAllowed(t,r){return r.allowAll?!0:t in r.providers}static isModelAllowed(t,r,n){var a;if(n.allowAll)return!0;const o=n.providers[t];return o?o.allowAll?!0:((a=o.models)==null?void 0:a.includes(r))??!1:!1}static getModelIdFromProfile(t){var r;switch(t.apiProvider){case"openai":return t.openAiModelId;case"anthropic":case"openai-native":case"bedrock":case"vertex":case"gemini":case"mistral":case"deepseek":case"xai":case"zai":case"minimax":case"groq":case"sambanova":case"chutes":case"fireworks":case"synthetic":case"featherless":return t.apiModelId;case"litellm":return t.litellmModelId;case"unbound":return t.unboundModelId;case"lmstudio":return t.lmStudioModelId;case"vscode-lm":return(r=t.vsCodeLmModelSelector)==null?void 0:r.id;case"openrouter":return t.openRouterModelId;case"glama":return t.glamaModelId;case"ollama":return t.ollamaModelId;case"requesty":return t.requestyModelId;case"io-intelligence":return t.ioIntelligenceModelId;case"deepinfra":return t.deepInfraModelId;case"ovhcloud":return t.ovhCloudAiEndpointsModelId;case"inception":return t.inceptionLabsModelId;case"human-relay":case"fake-ai":default:return}}}function hv(e){const t=e.filter(r=>r.type==="ask"&&r.ask==="tool"||r.type==="say"&&r.say==="user_edit_todos").map(r=>{try{return JSON.parse(r.text??"{}")}catch{return null}}).filter(r=>r&&r.tool==="updateTodoList"&&Array.isArray(r.todos)).map(r=>r.todos).pop();return t||[]}const mE=async e=>new Promise((t,r)=>{const n=()=>{window.removeEventListener("message",a)},o=setTimeout(()=>{n(),r(new Error("Router models request timed out"))},1e4),a=i=>{var l;const c=i.data;if(c.type==="routerModels"){const d=(l=c==null?void 0:c.values)==null?void 0:l.provider;if(e!==d)return;clearTimeout(o),n(),c.routerModels?t(c.routerModels):r(new Error("No router models in response"))}};window.addEventListener("message",a),e?A.postMessage({type:"requestRouterModels",values:{provider:e}}):A.postMessage({type:"requestRouterModels"})}),Qi=(e,t={})=>{const r=t.provider||void 0;return An({queryKey:["routerModels",r||"all",e],queryFn:()=>mE(r),enabled:t.enabled!==!1})};function c1(e,t){return function(){return e.apply(t,arguments)}}const{toString:hE}=Object.prototype,{getPrototypeOf:Eg}=Object,{iterator:Zc,toStringTag:d1}=Symbol,ed=(e=>t=>{const r=hE.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),en=e=>(e=e.toLowerCase(),t=>ed(t)===e),td=e=>t=>typeof t===e,{isArray:Ga}=Array,La=td("undefined");function Yi(e){return e!==null&&!La(e)&&e.constructor!==null&&!La(e.constructor)&&Zs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const u1=en("ArrayBuffer");function fE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&u1(e.buffer),t}const gE=td("string"),Zs=td("function"),p1=td("number"),Xi=e=>e!==null&&typeof e=="object",xE=e=>e===!0||e===!1,Hl=e=>{if(ed(e)!=="object")return!1;const t=Eg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(d1 in e)&&!(Zc in e)},vE=e=>{if(!Xi(e)||Yi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bE=en("Date"),yE=en("File"),wE=en("Blob"),kE=en("FileList"),jE=e=>Xi(e)&&Zs(e.pipe),_E=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zs(e.append)&&((t=ed(e))==="formdata"||t==="object"&&Zs(e.toString)&&e.toString()==="[object FormData]"))},NE=en("URLSearchParams"),[SE,TE,IE,PE]=["ReadableStream","Request","Response","Headers"].map(en),EE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Ga(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Yi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let c;for(n=0;n<i;n++)c=a[n],t.call(null,e[c],c,e)}}function m1(e,t){if(Yi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h1=e=>!La(e)&&e!==jo;function Qh(){const{caseless:e,skipUndefined:t}=h1(this)&&this||{},r={},n=(o,a)=>{const i=e&&m1(r,a)||a;Hl(r[i])&&Hl(o)?r[i]=Qh(r[i],o):Hl(o)?r[i]=Qh({},o):Ga(o)?r[i]=o.slice():(!t||!La(o))&&(r[i]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Ji(arguments[o],n);return r}const ME=(e,t,r,{allOwnKeys:n}={})=>(Ji(t,(o,a)=>{r&&Zs(o)?e[a]=c1(o,r):e[a]=o},{allOwnKeys:n}),e),AE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),RE=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},CE=(e,t,r,n)=>{let o,a,i;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!n||n(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=r!==!1&&Eg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},OE=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},DE=e=>{if(!e)return null;if(Ga(e))return e;let t=e.length;if(!p1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},FE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Eg(Uint8Array)),LE=(e,t)=>{const n=(e&&e[Zc]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},BE=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},zE=en("HTMLFormElement"),qE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),fv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),UE=en("RegExp"),f1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ji(r,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(n[a]=i||o)}),Object.defineProperties(e,n)},KE=e=>{f1(e,(t,r)=>{if(Zs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WE=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Ga(e)?n(e):n(String(e).split(t)),r},$E=()=>{},HE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function VE(e){return!!(e&&Zs(e.append)&&e[d1]==="FormData"&&e[Zc])}const GE=e=>{const t=new Array(10),r=(n,o)=>{if(Xi(n)){if(t.indexOf(n)>=0)return;if(Yi(n))return n;if(!("toJSON"in n)){t[o]=n;const a=Ga(n)?[]:{};return Ji(n,(i,c)=>{const l=r(i,o+1);!La(l)&&(a[c]=l)}),t[o]=void 0,a}}return n};return r(e,0)},QE=en("AsyncFunction"),YE=e=>e&&(Xi(e)||Zs(e))&&Zs(e.then)&&Zs(e.catch),g1=((e,t)=>e?setImmediate:t?((r,n)=>(jo.addEventListener("message",({source:o,data:a})=>{o===jo&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),jo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zs(jo.postMessage)),XE=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||g1,JE=e=>e!=null&&Zs(e[Zc]),ne={isArray:Ga,isArrayBuffer:u1,isBuffer:Yi,isFormData:_E,isArrayBufferView:fE,isString:gE,isNumber:p1,isBoolean:xE,isObject:Xi,isPlainObject:Hl,isEmptyObject:vE,isReadableStream:SE,isRequest:TE,isResponse:IE,isHeaders:PE,isUndefined:La,isDate:bE,isFile:yE,isBlob:wE,isRegExp:UE,isFunction:Zs,isStream:jE,isURLSearchParams:NE,isTypedArray:FE,isFileList:kE,forEach:Ji,merge:Qh,extend:ME,trim:EE,stripBOM:AE,inherits:RE,toFlatObject:CE,kindOf:ed,kindOfTest:en,endsWith:OE,toArray:DE,forEachEntry:LE,matchAll:BE,isHTMLForm:zE,hasOwnProperty:fv,hasOwnProp:fv,reduceDescriptors:f1,freezeMethods:KE,toObjectSet:WE,toCamelCase:qE,noop:$E,toFiniteNumber:HE,findKey:m1,global:jo,isContextDefined:h1,isSpecCompliantForm:VE,toJSONObject:GE,isAsyncFn:QE,isThenable:YE,setImmediate:g1,asap:XE,isIterable:JE};function Xe(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}ne.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const x1=Xe.prototype,v1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{v1[e]={value:e}});Object.defineProperties(Xe,v1);Object.defineProperty(x1,"isAxiosError",{value:!0});Xe.from=(e,t,r,n,o,a)=>{const i=Object.create(x1);ne.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Xe.call(i,c,l,r,n,o),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const ZE=null;function Yh(e){return ne.isPlainObject(e)||ne.isArray(e)}function b1(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function gv(e,t,r){return e?e.concat(t).map(function(o,a){return o=b1(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function eM(e){return ne.isArray(e)&&!e.some(Yh)}const tM=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function sd(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!ne.isUndefined(v[x])});const n=r.metaTokens,o=r.visitor||u,a=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(o))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(ne.isDate(f))return f.toISOString();if(ne.isBoolean(f))return f.toString();if(!l&&ne.isBlob(f))throw new Xe("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(f)||ne.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,x,v){let N=f;if(f&&!v&&typeof f=="object"){if(ne.endsWith(x,"{}"))x=n?x:x.slice(0,-2),f=JSON.stringify(f);else if(ne.isArray(f)&&eM(f)||(ne.isFileList(f)||ne.endsWith(x,"[]"))&&(N=ne.toArray(f)))return x=b1(x),N.forEach(function(w,b){!(ne.isUndefined(w)||w===null)&&t.append(i===!0?gv([x],b,a):i===null?x:x+"[]",d(w))}),!1}return Yh(f)?!0:(t.append(gv(v,x,a),d(f)),!1)}const p=[],m=Object.assign(tM,{defaultVisitor:u,convertValue:d,isVisitable:Yh});function g(f,x){if(!ne.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(f),ne.forEach(f,function(N,y){(!(ne.isUndefined(N)||N===null)&&o.call(t,N,ne.isString(y)?y.trim():y,x,m))===!0&&g(N,x?x.concat(y):[y])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return g(e),t}function xv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Mg(e,t){this._pairs=[],e&&sd(e,this,t)}const y1=Mg.prototype;y1.append=function(t,r){this._pairs.push([t,r])};y1.toString=function(t){const r=t?function(n){return t.call(this,n,xv)}:xv;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function sM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function w1(e,t,r){if(!t)return e;const n=r&&r.encode||sM;ne.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=ne.isURLSearchParams(t)?t.toString():new Mg(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class vv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const k1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rM=typeof URLSearchParams<"u"?URLSearchParams:Mg,nM=typeof FormData<"u"?FormData:null,oM=typeof Blob<"u"?Blob:null,aM={isBrowser:!0,classes:{URLSearchParams:rM,FormData:nM,Blob:oM},protocols:["http","https","file","blob","url","data"]},Ag=typeof window<"u"&&typeof document<"u",Xh=typeof navigator=="object"&&navigator||void 0,iM=Ag&&(!Xh||["ReactNative","NativeScript","NS"].indexOf(Xh.product)<0),lM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cM=Ag&&window.location.href||"http://localhost",dM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ag,hasStandardBrowserEnv:iM,hasStandardBrowserWebWorkerEnv:lM,navigator:Xh,origin:cM},Symbol.toStringTag,{value:"Module"})),Ds={...dM,...aM};function uM(e,t){return sd(e,new Ds.classes.URLSearchParams,{visitor:function(r,n,o,a){return Ds.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function pM(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mM(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function j1(e){function t(r,n,o,a){let i=r[a++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),l=a>=r.length;return i=!i&&ne.isArray(o)?o.length:i,l?(ne.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!c):((!o[i]||!ne.isObject(o[i]))&&(o[i]=[]),t(r,n,o[i],a)&&ne.isArray(o[i])&&(o[i]=mM(o[i])),!c)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,o)=>{t(pM(n),o,r,0)}),r}return null}function hM(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Zi={transitional:k1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=ne.isObject(t);if(a&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return o?JSON.stringify(j1(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return uM(t,this.formSerializer).toString();if((c=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sd(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),hM(t)):t}],transformResponse:[function(t){const r=this.transitional||Zi.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?Xe.from(c,Xe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ds.classes.FormData,Blob:Ds.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{Zi.headers[e]={}});const fM=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gM=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||t[r]&&fM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},bv=Symbol("internals");function ni(e){return e&&String(e).trim().toLowerCase()}function Vl(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Vl):String(e)}function xM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const vM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ld(e,t,r,n,o){if(ne.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function bM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function yM(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,i){return this[n].call(this,t,o,a,i)},configurable:!0})})}let er=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(c,l,d){const u=ni(l);if(!u)throw new Error("header name must be a non-empty string");const p=ne.findKey(o,u);(!p||o[p]===void 0||d===!0||d===void 0&&o[p]!==!1)&&(o[p||l]=Vl(c))}const i=(c,l)=>ne.forEach(c,(d,u)=>a(d,u,l));if(ne.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(ne.isString(t)&&(t=t.trim())&&!vM(t))i(gM(t),r);else if(ne.isObject(t)&&ne.isIterable(t)){let c={},l,d;for(const u of t){if(!ne.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[d=u[0]]=(l=c[d])?ne.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(c,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=ni(t),t){const n=ne.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return xM(o);if(ne.isFunction(r))return r.call(this,o,n);if(ne.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ni(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ld(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(i){if(i=ni(i),i){const c=ne.findKey(n,i);c&&(!r||Ld(n,n[c],c,r))&&(delete n[c],o=!0)}}return ne.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||Ld(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return ne.forEach(this,(o,a)=>{const i=ne.findKey(n,a);if(i){r[i]=Vl(o),delete r[a];return}const c=t?bM(a):String(a).trim();c!==a&&delete r[a],r[c]=Vl(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[bv]=this[bv]={accessors:{}}).accessors,o=this.prototype;function a(i){const c=ni(i);n[c]||(yM(o,i),n[c]=!0)}return ne.isArray(t)?t.forEach(a):a(t),this}};er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(er.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(er);function Bd(e,t){const r=this||Zi,n=t||r,o=er.from(n.headers);let a=n.data;return ne.forEach(e,function(c){a=c.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function _1(e){return!!(e&&e.__CANCEL__)}function Qa(e,t,r){Xe.call(this,e??"canceled",Xe.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(Qa,Xe,{__CANCEL__:!0});function N1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Xe("Request failed with status code "+r.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function kM(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),u=n[a];i||(i=d),r[o]=l,n[o]=d;let p=a,m=0;for(;p!==o;)m+=r[p++],p=p%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),d-i<t)return;const g=u&&d-u;return g?Math.round(m*1e3/g):void 0}}function jM(e,t){let r=0,n=1e3/t,o,a;const i=(d,u=Date.now())=>{r=u,o=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=n?i(d,u):(o=d,a||(a=setTimeout(()=>{a=null,i(o)},n-p)))},()=>o&&i(o)]}const vc=(e,t,r=3)=>{let n=0;const o=kM(50,250);return jM(a=>{const i=a.loaded,c=a.lengthComputable?a.total:void 0,l=i-n,d=o(l),u=i<=c;n=i;const p={loaded:i,total:c,progress:c?i/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u?(c-i)/d:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},r)},yv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},wv=e=>(...t)=>ne.asap(()=>e(...t)),_M=Ds.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ds.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ds.origin),Ds.navigator&&/(msie|trident)/i.test(Ds.navigator.userAgent)):()=>!0,NM=Ds.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const i=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&i.push("path="+n),ne.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function S1(e,t,r){let n=!SM(t);return e&&(n||r==!1)?TM(e,t):t}const kv=e=>e instanceof er?{...e}:e;function Uo(e,t){t=t||{};const r={};function n(d,u,p,m){return ne.isPlainObject(d)&&ne.isPlainObject(u)?ne.merge.call({caseless:m},d,u):ne.isPlainObject(u)?ne.merge({},u):ne.isArray(u)?u.slice():u}function o(d,u,p,m){if(ne.isUndefined(u)){if(!ne.isUndefined(d))return n(void 0,d,p,m)}else return n(d,u,p,m)}function a(d,u){if(!ne.isUndefined(u))return n(void 0,u)}function i(d,u){if(ne.isUndefined(u)){if(!ne.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function c(d,u,p){if(p in t)return n(d,u);if(p in e)return n(void 0,d)}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,u,p)=>o(kv(d),kv(u),p,!0)};return ne.forEach(Object.keys({...e,...t}),function(u){const p=l[u]||o,m=p(e[u],t[u],u);ne.isUndefined(m)&&p!==c||(r[u]=m)}),r}const T1=e=>{const t=Uo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:c}=t;if(t.headers=i=er.from(i),t.url=w1(S1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ne.isFormData(r)){if(Ds.hasStandardBrowserEnv||Ds.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ne.isFunction(r.getHeaders)){const l=r.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([u,p])=>{d.includes(u.toLowerCase())&&i.set(u,p)})}}if(Ds.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&_M(t.url))){const l=o&&a&&NM.read(a);l&&i.set(o,l)}return t},IM=typeof XMLHttpRequest<"u",PM=IM&&function(e){return new Promise(function(r,n){const o=T1(e);let a=o.data;const i=er.from(o.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=o,u,p,m,g,f;function x(){g&&g(),f&&f(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function N(){if(!v)return;const w=er.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};N1(function(j){r(j),x()},function(j){n(j),x()},k),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(n(new Xe("Request aborted",Xe.ECONNABORTED,e,v)),v=null)},v.onerror=function(b){const k=b&&b.message?b.message:"Network Error",_=new Xe(k,Xe.ERR_NETWORK,e,v);_.event=b||null,n(_),v=null},v.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||k1;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),n(new Xe(b,k.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,v)),v=null},a===void 0&&i.setContentType(null),"setRequestHeader"in v&&ne.forEach(i.toJSON(),function(b,k){v.setRequestHeader(k,b)}),ne.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),c&&c!=="json"&&(v.responseType=o.responseType),d&&([m,f]=vc(d,!0),v.addEventListener("progress",m)),l&&v.upload&&([p,g]=vc(l),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(u=w=>{v&&(n(!w||w.type?new Qa(null,e,v):w),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const y=wM(o.url);if(y&&Ds.protocols.indexOf(y)===-1){n(new Xe("Unsupported protocol "+y+":",Xe.ERR_BAD_REQUEST,e));return}v.send(a||null)})},EM=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(d){if(!o){o=!0,c();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Xe?u:new Qa(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new Xe(`timeout ${t} of ms exceeded`,Xe.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(c),l}},MM=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},AM=async function*(e,t){for await(const r of RM(e))yield*MM(r,t)},RM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},jv=(e,t,r,n)=>{const o=AM(e,t);let a=0,i,c=l=>{i||(i=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await o.next();if(d){c(),l.close();return}let p=u.byteLength;if(r){let m=a+=p;r(m)}l.enqueue(new Uint8Array(u))}catch(d){throw c(d),d}},cancel(l){return c(l),o.return()}},{highWaterMark:2})},_v=64*1024,{isFunction:kl}=ne,I1=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(ne.global),{ReadableStream:Nv,TextEncoder:Sv}=ne.global,Tv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},CM=e=>{const{fetch:t,Request:r,Response:n}=Object.assign({},I1,e),o=kl(t),a=kl(r),i=kl(n);if(!o)return!1;const c=o&&kl(Nv),l=o&&(typeof Sv=="function"?(f=>x=>f.encode(x))(new Sv):async f=>new Uint8Array(await new r(f).arrayBuffer())),d=a&&c&&Tv(()=>{let f=!1;const x=new r(Ds.origin,{body:new Nv,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!x}),u=i&&c&&Tv(()=>ne.isReadableStream(new n("").body)),p={stream:u&&(f=>f.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!p[f]&&(p[f]=(x,v)=>{let N=x&&x[f];if(N)return N.call(x);throw new Xe(`Response type '${f}' is not supported`,Xe.ERR_NOT_SUPPORT,v)})});const m=async f=>{if(f==null)return 0;if(ne.isBlob(f))return f.size;if(ne.isSpecCompliantForm(f))return(await new r(Ds.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(f)||ne.isArrayBuffer(f))return f.byteLength;if(ne.isURLSearchParams(f)&&(f=f+""),ne.isString(f))return(await l(f)).byteLength},g=async(f,x)=>{const v=ne.toFiniteNumber(f.getContentLength());return v??m(x)};return async f=>{let{url:x,method:v,data:N,signal:y,cancelToken:w,timeout:b,onDownloadProgress:k,onUploadProgress:_,responseType:j,headers:T,withCredentials:S="same-origin",fetchOptions:I}=T1(f);j=j?(j+"").toLowerCase():"text";let E=EM([y,w&&w.toAbortSignal()],b),M=null;const R=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let C;try{if(_&&d&&v!=="get"&&v!=="head"&&(C=await g(T,N))!==0){let O=new r(x,{method:"POST",body:N,duplex:"half"}),F;if(ne.isFormData(N)&&(F=O.headers.get("content-type"))&&T.setContentType(F),O.body){const[W,re]=yv(C,vc(wv(_)));N=jv(O.body,_v,W,re)}}ne.isString(S)||(S=S?"include":"omit");const q=a&&"credentials"in r.prototype,B={...I,signal:E,method:v.toUpperCase(),headers:T.normalize().toJSON(),body:N,duplex:"half",credentials:q?S:void 0};M=a&&new r(x,B);let U=await(a?t(M,I):t(x,B));const te=u&&(j==="stream"||j==="response");if(u&&(k||te&&R)){const O={};["status","statusText","headers"].forEach(H=>{O[H]=U[H]});const F=ne.toFiniteNumber(U.headers.get("content-length")),[W,re]=k&&yv(F,vc(wv(k),!0))||[];U=new n(jv(U.body,_v,W,()=>{re&&re(),R&&R()}),O)}j=j||"text";let Q=await p[ne.findKey(p,j)||"text"](U,f);return!te&&R&&R(),await new Promise((O,F)=>{N1(O,F,{data:Q,headers:er.from(U.headers),status:U.status,statusText:U.statusText,config:f,request:M})})}catch(q){throw R&&R(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,f,M),{cause:q.cause||q}):Xe.from(q,q&&q.code,f,M)}}},OM=new Map,P1=e=>{let t=ne.merge.call({skipUndefined:!0},I1,e?e.env:null);const{fetch:r,Request:n,Response:o}=t,a=[n,o,r];let i=a.length,c=i,l,d,u=OM;for(;c--;)l=a[c],d=u.get(l),d===void 0&&u.set(l,d=c?new Map:CM(t)),u=d;return d};P1();const Jh={http:ZE,xhr:PM,fetch:{get:P1}};ne.forEach(Jh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Iv=e=>`- ${e}`,DM=e=>ne.isFunction(e)||e===null||e===!1,E1={getAdapter:(e,t)=>{e=ne.isArray(e)?e:[e];const{length:r}=e;let n,o;const a={};for(let i=0;i<r;i++){n=e[i];let c;if(o=n,!DM(n)&&(o=Jh[(c=String(n)).toLowerCase()],o===void 0))throw new Xe(`Unknown adapter '${c}'`);if(o&&(ne.isFunction(o)||(o=o.get(t))))break;a[c||"#"+i]=o}if(!o){const i=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=r?i.length>1?`since :
`+i.map(Iv).join(`
`):" "+Iv(i[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:Jh};function zd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qa(null,e)}function Pv(e){return zd(e),e.headers=er.from(e.headers),e.data=Bd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E1.getAdapter(e.adapter||Zi.adapter,e)(e).then(function(n){return zd(e),n.data=Bd.call(e,e.transformResponse,n),n.headers=er.from(n.headers),n},function(n){return _1(n)||(zd(e),n&&n.response&&(n.response.data=Bd.call(e,e.transformResponse,n.response),n.response.headers=er.from(n.response.headers))),Promise.reject(n)})}const M1="1.12.0",rd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ev={};rd.transitional=function(t,r,n){function o(a,i){return"[Axios v"+M1+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,c)=>{if(t===!1)throw new Xe(o(i," has been removed"+(r?" in "+r:"")),Xe.ERR_DEPRECATED);return r&&!Ev[i]&&(Ev[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,c):!0}};rd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function FM(e,t,r){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const c=e[a],l=c===void 0||i(c,a,e);if(l!==!0)throw new Xe("option "+a+" must be "+l,Xe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xe("Unknown option "+a,Xe.ERR_BAD_OPTION)}}const Gl={assertOptions:FM,validators:rd},cn=Gl.validators;let Fo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vv,response:new vv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Uo(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Gl.assertOptions(n,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),o!=null&&(ne.isFunction(o)?r.paramsSerializer={serialize:o}:Gl.assertOptions(o,{encode:cn.function,serialize:cn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gl.assertOptions(r,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&ne.merge(a.common,a[r.method]);a&&ne.forEach(["delete","get","head","post","put","patch","common"],f=>{delete a[f]}),r.headers=er.concat(i,a);const c=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,p=0,m;if(!l){const f=[Pv.bind(this),void 0];for(f.unshift(...c),f.push(...d),m=f.length,u=Promise.resolve(r);p<m;)u=u.then(f[p++],f[p++]);return u}m=c.length;let g=r;for(p=0;p<m;){const f=c[p++],x=c[p++];try{g=f(g)}catch(v){x.call(this,v);break}}try{u=Pv.call(this,g)}catch(f){return Promise.reject(f)}for(p=0,m=d.length;p<m;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=Uo(this.defaults,t);const r=S1(t.baseURL,t.url,t.allowAbsoluteUrls);return w1(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){Fo.prototype[t]=function(r,n){return this.request(Uo(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,c){return this.request(Uo(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Fo.prototype[t]=r(),Fo.prototype[t+"Form"]=r(!0)});let LM=class A1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(c=>{n.subscribe(c),a=c}).then(o);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,c){n.reason||(n.reason=new Qa(a,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new A1(function(o){t=o}),cancel:t}}};function BM(e){return function(r){return e.apply(null,r)}}function zM(e){return ne.isObject(e)&&e.isAxiosError===!0}const Zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zh).forEach(([e,t])=>{Zh[t]=e});function R1(e){const t=new Fo(e),r=c1(Fo.prototype.request,t);return ne.extend(r,Fo.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return R1(Uo(e,o))},r}const Jt=R1(Zi);Jt.Axios=Fo;Jt.CanceledError=Qa;Jt.CancelToken=LM;Jt.isCancel=_1;Jt.VERSION=M1;Jt.toFormData=sd;Jt.AxiosError=Xe;Jt.Cancel=Jt.CanceledError;Jt.all=function(t){return Promise.all(t)};Jt.spread=BM;Jt.isAxiosError=zM;Jt.mergeConfig=Uo;Jt.AxiosHeaders=er;Jt.formToJSON=e=>j1(ne.isHTMLForm(e)?new FormData(e):e);Jt.getAdapter=E1.getAdapter;Jt.HttpStatusCode=Zh;Jt.default=Jt;const{Axios:$K,AxiosError:HK,CanceledError:VK,isCancel:GK,CancelToken:QK,VERSION:YK,all:XK,Cancel:JK,isAxiosError:ZK,spread:eW,toFormData:tW,AxiosHeaders:sW,HttpStatusCode:rW,formToJSON:nW,getAdapter:oW,mergeConfig:aW}=Jt,jl=e=>e?parseFloat(e)*1e6:void 0,qd="[default]",qM=ys({data:ys({id:We(),name:We(),description:We().optional(),architecture:ys({input_modalities:ga(We()).nullish(),output_modalities:ga(We()).nullish(),tokenizer:We().nullish()}).nullish(),endpoints:ga(ys({name:We(),provider_name:We(),tag:We().optional(),context_length:ur(),max_completion_tokens:ur().nullish(),pricing:ys({prompt:ml([We(),ur()]).optional(),completion:ml([We(),ur()]).optional(),input_cache_read:ml([We(),ur()]).optional(),input_cache_write:ml([We(),ur()]).optional()}).optional()}))})});async function UM(e,t,r){var o,a,i,c,l,d;const n={};try{const u=await Jt.get(`${(t==null?void 0:t.trim())||"https://openrouter.ai/api/v1"}/models/${e}/endpoints`,r?{headers:{Authorization:`Bearer ${r}`}}:void 0),p=qM.safeParse(u.data);if(!p.success)return console.error("OpenRouter API response validation failed:",p.error),n;const{description:m,architecture:g,endpoints:f}=p.data.data;if((o=g==null?void 0:g.output_modalities)!=null&&o.includes("image"))return n;for(const x of f){const v=x.tag??x.provider_name,N=jl((a=x.pricing)==null?void 0:a.prompt),y=jl((i=x.pricing)==null?void 0:i.completion),w=jl((c=x.pricing)==null?void 0:c.input_cache_read),b=jl((l=x.pricing)==null?void 0:l.input_cache_write),k={maxTokens:x.max_completion_tokens||x.context_length,contextWindow:x.context_length,supportsImages:((d=g==null?void 0:g.input_modalities)==null?void 0:d.includes("image"))??!1,supportsPromptCache:typeof w<"u",cacheReadsPrice:w,cacheWritesPrice:b,inputPrice:N,outputPrice:y,description:m,label:v};n[v]=k}}catch(u){u instanceof pj?console.error("OpenRouter API response validation failed:",u.errors):console.error("Error fetching OpenRouter providers:",u)}return n}const C1=(e,t,r,n,o)=>An({queryKey:["openrouter-model-providers",e,t,r,n],queryFn:()=>e?UM(e,t,r):{},...o}),KM=async()=>new Promise((e,t)=>{const r=()=>{window.removeEventListener("message",o)},n=setTimeout(()=>{r(),t(new Error("LM Studio models request timed out"))},1e4),o=a=>{const i=a.data;i.type==="lmStudioModels"&&(clearTimeout(n),r(),i.lmStudioModels?e(i.lmStudioModels):t(new Error("No LMStudio models in response")))};window.addEventListener("message",o),A.postMessage({type:"requestLmStudioModels"})}),WM=e=>An({queryKey:["lmStudioModels"],queryFn:()=>e?KM():{}}),$M=async()=>new Promise((e,t)=>{const r=()=>{window.removeEventListener("message",o)},n=setTimeout(()=>{r(),t(new Error("Ollama models request timed out"))},1e4),o=a=>{const i=a.data;i.type==="ollamaModels"&&(clearTimeout(n),r(),i.ollamaModels?e(i.ollamaModels):t(new Error("No Ollama models in response")))};window.addEventListener("message",o),A.postMessage({type:"requestOllamaModels"})}),HM=e=>An({queryKey:["ollamaModels"],queryFn:()=>e?$M():{}}),Rg=(e,t)=>{const r=t==null?void 0:t.apiProvider;return C1(r==="kilocode"?(t==null?void 0:t.kilocodeModel)??e:r==="openrouter"?(t==null?void 0:t.openRouterModelId)??Ki:void 0,r==="openrouter"?t==null?void 0:t.openRouterBaseUrl:void 0,t==null?void 0:t.apiKey,(t==null?void 0:t.kilocodeOrganizationId)??"personal")};function dn(e,t,r){return e&&(t!=null&&t[e])?e:r}const lo=e=>{const t=(e==null?void 0:e.apiProvider)||"anthropic",{kilocodeDefaultModel:r,virtualQuotaActiveModel:n}=Ge(),o=t==="lmstudio"?e==null?void 0:e.lmStudioModelId:void 0,a=t==="ollama"?e==null?void 0:e.ollamaModelId:void 0,i=mj(t),c=Qi({openRouterBaseUrl:e==null?void 0:e.openRouterBaseUrl,openRouterApiKey:e==null?void 0:e.apiKey,kilocodeOrganizationId:e==null?void 0:e.kilocodeOrganizationId,geminiApiKey:e==null?void 0:e.geminiApiKey,googleGeminiBaseUrl:e==null?void 0:e.googleGeminiBaseUrl,syntheticApiKey:e==null?void 0:e.syntheticApiKey},{provider:i?t:void 0,enabled:i}),l=Rg(r,e),d=WM(o),u=HM(a),p=i,m=t==="openrouter",g=typeof o<"u",f=typeof a<"u",x=p?c.data&&c.data[t]!==void 0&&typeof c.data[t]=="object"&&!c.isLoading:!0,v=(!g||typeof d.data<"u")&&(!f||typeof u.data<"u")&&x&&(!m||typeof l.data<"u"),{id:N,info:y}=e&&v?VM({provider:t,apiConfiguration:e,routerModels:c.data||{},openRouterModelProviders:l.data||{},lmStudioModels:d.data||void 0,kilocodeDefaultModel:r,ollamaModels:u.data||void 0,virtualQuotaActiveModel:n}):{id:Uh(t),info:void 0};return{provider:t,id:N,info:y,isLoading:p&&c.isLoading||m&&l.isLoading||g&&d.isLoading||f&&u.isLoading,isError:p&&c.isError||m&&l.isError||g&&d.isError||f&&u.isError}};function VM({provider:e,apiConfiguration:t,routerModels:r,openRouterModelProviders:n,lmStudioModels:o,kilocodeDefaultModel:a,ollamaModels:i,virtualQuotaActiveModel:c}){var d,u,p,m,g,f,x,v,N,y,w,b,k,_;const l=Uh(e);switch(e){case"openrouter":{const j=dn(t.openRouterModelId,r.openrouter,l);let T=(d=r.openrouter)==null?void 0:d[j];const S=t.openRouterSpecificProvider;return S&&n[S]&&(T=T?{...T,...n[S]}:n[S]),{id:j,info:T}}case"requesty":{const j=dn(t.requestyModelId,r.requesty,l),T=(u=r.requesty)==null?void 0:u[j];return{id:j,info:T}}case"glama":{const j=dn(t.glamaModelId,r.glama,l),T=(p=r.glama)==null?void 0:p[j];return{id:j,info:T}}case"unbound":{const j=dn(t.unboundModelId,r.unbound,l),T=(m=r.unbound)==null?void 0:m[j];return{id:j,info:T}}case"litellm":{const j=dn(t.litellmModelId,r.litellm,l),T=((g=r.litellm)==null?void 0:g[j])??$P;return{id:j,info:T}}case"xai":{const j=t.apiModelId??l,T=jg[j];return T?{id:j,info:T}:{id:j,info:void 0}}case"groq":{const j=t.apiModelId??l,T=dg[j];return{id:j,info:T}}case"huggingface":return{id:t.huggingFaceModelId??"meta-llama/Llama-3.3-70B-Instruct",info:{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1}};case"chutes":{const j=dn(t.apiModelId,r.chutes,l),T=(f=r.chutes)==null?void 0:f[j];return{id:j,info:T}}case"baseten":{const j=t.apiModelId??l,T=Jf[j];return{id:j,info:T}}case"bedrock":{const j=t.apiModelId??l,T=Lf[j];if(j==="custom-arn")return{id:j,info:{maxTokens:5e3,contextWindow:128e3,supportsPromptCache:!1,supportsImages:!0}};if(hj.includes(j)&&t.awsBedrock1MContext&&T){const S={...T,contextWindow:1e6};return{id:j,info:S}}return{id:j,info:T}}case"vertex":{const j=t.apiModelId??l,T=wg[j];return{id:j,info:T}}case"gemini":{const j=t.apiModelId??Fa,T=(x=r.gemini)==null?void 0:x[j],S=Qj[j];return{id:j,info:T??S}}case"deepseek":{const j=t.apiModelId??l,T=rg[j];return{id:j,info:T}}case"doubao":{const j=t.apiModelId??l,T=Ff[j];return{id:j,info:T}}case"moonshot":{const j=t.apiModelId??l,T=mg[j];return{id:j,info:T}}case"minimax":{const j=t.apiModelId??l,T=Df[j];return{id:j,info:T}}case"zai":{const j=t.zaiApiLine==="china_coding",T=j?e1:Sg,S=Uh(e,{isChina:j}),I=t.apiModelId??S,E=T[I];return{id:I,info:E}}case"openai-native":{const j=t.apiModelId??l,T=fg[j];return{id:j,info:T}}case"mistral":{const j=t.apiModelId??l,T=ug[j];return{id:j,info:T}}case"openai":{const j=t.openAiModelId??"",T=(t==null?void 0:t.openAiCustomModelInfo)??Wt;return{id:j,info:T}}case"ollama":{const j=t.ollamaModelId??"",T=i&&i[t.ollamaModelId],S=t==null?void 0:t.ollamaNumCtx;let I;return T?I=S?{...T,contextWindow:S}:T:S&&(I={maxTokens:S,contextWindow:S,supportsImages:!0,supportsPromptCache:!0}),{id:j,info:I||void 0}}case"lmstudio":{const j=t.lmStudioModelId??"",T=o&&o[t.lmStudioModelId];return{id:j,info:T||void 0}}case"deepinfra":{const j=dn(t.deepInfraModelId,r.deepinfra,l),T=(v=r.deepinfra)==null?void 0:v[j];return{id:j,info:T}}case"vscode-lm":{const j=t!=null&&t.vsCodeLmModelSelector?`${t.vsCodeLmModelSelector.vendor}/${t.vsCodeLmModelSelector.family}`:qh,T=((N=t==null?void 0:t.vsCodeLmModelSelector)==null?void 0:N.family)??qh,S=Zj[T];return{id:j,info:{...Wt,...S,supportsImages:!1}}}case"kilocode":{if(r.kilocode&&t.kilocodeModel){const T=Object.entries(r.kilocode),S=t.kilocodeModel.toLowerCase(),I=T.find(E=>E[0].toLowerCase()===S)??T.find(E=>E[0].toLowerCase().includes(S));if(I){const E=I[0];let M=I[1];const R=t.openRouterSpecificProvider;return R&&n[R]&&(M=M?{...M,...n[R]}:n[R]),{id:E,info:M}}}const j=t.kilocodeModel??a;return{id:j,info:r.kilocode[j]}}case"gemini-cli":{const j=t.apiModelId??Yj,T=lg[j];return{id:j,info:T}}case"virtual-quota-fallback":return c||{id:"",info:{maxTokens:1,contextWindow:1,supportsPromptCache:!1}};case"claude-code":{const j=t.apiModelId??l,T=Of[j];return{id:j,info:{...Wt,...T}}}case"cerebras":{const j=t.apiModelId??l,T=tg[j];return{id:j,info:T}}case"sambanova":{const j=t.apiModelId??l,T=bg[j];return{id:j,info:T}}case"fireworks":{const j=t.apiModelId??l,T=ig[j];return{id:j,info:T}}case"synthetic":{const j=t.apiModelId??$c,T=r.synthetic[j];return{id:j,info:T}}case"featherless":{const j=t.apiModelId??l,T=ng[j];return{id:j,info:T}}case"io-intelligence":{const j=dn(t.ioIntelligenceModelId,r["io-intelligence"],l),T=((y=r["io-intelligence"])==null?void 0:y[j])??Xj[j];return{id:j,info:T}}case"roo":{const j=dn(t.apiModelId,r.roo,l),T=(w=r.roo)==null?void 0:w[j];return{id:j,info:T}}case"qwen-code":{const j=t.apiModelId??l,T=xg[j];return{id:j,info:T}}case"vercel-ai-gateway":{const j=dn(t.vercelAiGatewayModelId,r["vercel-ai-gateway"],l),T=(b=r["vercel-ai-gateway"])==null?void 0:b[j];return{id:j,info:T}}case"nano-gpt":{const j=t.nanoGptModelId??"chatgpt-4o-latest",T=(k=r["nano-gpt"])==null?void 0:k[j];return{id:j,info:T}}case"ovhcloud":{const j=t.ovhCloudAiEndpointsModelId??Wc,T=r.ovhcloud[j];return{id:j,info:T}}case"inception":{const j=t.inceptionLabsModelId??Hc,T=r.inception[j];return{id:j,info:T}}case"sap-ai-core":return{id:t.sapAiCoreModelId??"gpt-5",info:{maxTokens:128e3,contextWindow:4e5,supportsImages:!0,supportsPromptCache:!0,description:"GPT-5: The best model for coding and agentic tasks across domains"}};default:{const j=t.apiModelId??Ui,T=Cc[j];if(e==="anthropic"&&(j==="claude-sonnet-4-20250514"||j==="claude-sonnet-4-5")&&t.anthropicBeta1MContext&&T){const I=(_=T.tiers)==null?void 0:_[0];if(I){const E={...T,contextWindow:I.contextWindow,inputPrice:I.inputPrice??T.inputPrice,outputPrice:I.outputPrice??T.outputPrice,cacheWritesPrice:I.cacheWritesPrice??T.cacheWritesPrice,cacheReadsPrice:I.cacheReadsPrice??T.cacheReadsPrice};return{id:j,info:E}}}return{id:j,info:T}}}}var O1="AlertDialog",[GM,iW]=zf(O1,[bj]),Rn=bj(),D1=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rn(t);return s.jsx(yj,{...n,...r,modal:!0})};D1.displayName=O1;var QM="AlertDialogTrigger",F1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Rn(r);return s.jsx(CT,{...o,...n,ref:t})});F1.displayName=QM;var YM="AlertDialogPortal",L1=e=>{const{__scopeAlertDialog:t,...r}=e,n=Rn(t);return s.jsx(_j,{...n,...r})};L1.displayName=YM;var XM="AlertDialogOverlay",B1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Rn(r);return s.jsx(Nj,{...o,...n,ref:t})});B1.displayName=XM;var va="AlertDialogContent",[JM,ZM]=GM(va),eA=DT("AlertDialogContent"),z1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,a=Rn(r),i=h.useRef(null),c=mr(t,i),l=h.useRef(null);return s.jsx(OT,{contentName:va,titleName:q1,docsSlug:"alert-dialog",children:s.jsx(JM,{scope:r,cancelRef:l,children:s.jsxs(wj,{role:"alertdialog",...a,...o,ref:c,onOpenAutoFocus:hs(o.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(eA,{children:n}),s.jsx(sA,{contentRef:i})]})})})});z1.displayName=va;var q1="AlertDialogTitle",U1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Rn(r);return s.jsx(kj,{...o,...n,ref:t})});U1.displayName=q1;var K1="AlertDialogDescription",W1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Rn(r);return s.jsx(jj,{...o,...n,ref:t})});W1.displayName=K1;var tA="AlertDialogAction",$1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Rn(r);return s.jsx(qf,{...o,...n,ref:t})});$1.displayName=tA;var H1="AlertDialogCancel",V1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=ZM(H1,r),a=Rn(r),i=mr(t,o);return s.jsx(qf,{...a,...n,ref:i})});V1.displayName=H1;var sA=({contentRef:e})=>{const t=`\`${va}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${va}\` by passing a \`${K1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${va}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},rA=D1,nA=F1,oA=L1,aA=B1,iA=z1,lA=$1,cA=V1,dA=U1,uA=W1;function Hr({...e}){return s.jsx(rA,{"data-slot":"alert-dialog",...e})}function pA({...e}){return s.jsx(nA,{"data-slot":"alert-dialog-trigger",...e})}function mA({...e}){return s.jsx(oA,{"data-slot":"alert-dialog-portal",...e})}function hA({className:e,...t}){return s.jsx(aA,{"data-slot":"alert-dialog-overlay",className:ee("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Vr({className:e,...t}){return s.jsxs(mA,{children:[s.jsx(hA,{}),s.jsx(iA,{"data-slot":"alert-dialog-content",className:ee("bg-vscode-editor-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-3 rounded-sm border border-vscode-panel-border p-4 shadow-lg duration-200 sm:max-w-md",e),...t})]})}function Gr({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:ee("flex flex-col gap-1 text-left",e),...t})}function Qr({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:ee("flex flex-row justify-end gap-2 mt-4",e),...t})}function Yr({className:e,...t}){return s.jsx(dA,{"data-slot":"alert-dialog-title",className:ee("text-base font-medium text-vscode-editor-foreground flex items-center gap-2 text-left",e),...t})}function Xr({className:e,...t}){return s.jsx(uA,{"data-slot":"alert-dialog-description",className:ee("text-vscode-descriptionForeground text-sm text-left",e),...t})}function Sr({className:e,...t}){return s.jsx(lA,{className:ee(Sj(),"bg-vscode-button-background text-vscode-button-foreground hover:bg-vscode-button-hoverBackground h-6 px-3 py-1 border",e),...t})}function Jr({className:e,...t}){return s.jsx(cA,{className:ee(Sj({variant:"outline"}),"bg-vscode-button-secondaryBackground text-vscode-button-secondaryForeground hover:bg-vscode-button-secondaryHoverBackground h-6 px-3 py-1 border",e),...t})}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],G1=Ke("bell",fA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],Q1=Ke("book-open-text",gA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ef=Ke("bot",xA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],bA=Ke("brain",vA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]],wA=Ke("cable",yA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Cg=Ke("check-check",kA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Y1=Ke("chevron-right",jA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],X1=Ke("chevrons-up-down",_A);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],SA=Ke("circle-dollar-sign",NA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],IA=Ke("cloud-download",TA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],EA=Ke("cloud-upload",PA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Og=Ke("database",MA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dg=Ke("download",AA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CA=Ke("eye",RA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],DA=Ke("file-code-2",OA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 17h6",key:"r8uit2"}]],LA=Ke("file-diff",FA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],zA=Ke("file-json",BA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],UA=Ke("file-stack",qA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],J1=Ke("flask-conical",KA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M12 22v-6",key:"6o8u61"}],["path",{d:"M12 8V2",key:"1wkif3"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}],["path",{d:"m15 19-3-3-3 3",key:"e37ymu"}],["path",{d:"m15 5-3 3-3-3",key:"19d6lf"}]],nd=Ke("fold-vertical",WA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],HA=Ke("folder-tree",$A);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]],GA=Ke("git-commit-vertical",VA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],YA=Ke("glasses",QA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],od=Ke("info",XA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ZA=Ke("lightbulb",JA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Z1=Ke("list-checks",eR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],sR=Ke("list-tree",tR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Mv=Ke("message-circle-warning",rR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],oR=Ke("message-square-code",nR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"m14.5 7.5-5 5",key:"3lb6iw"}],["path",{d:"m9.5 7.5 5 5",key:"ko136h"}]],iR=Ke("message-square-x",aR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Fg=Ke("message-square",lR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],dR=Ke("mic",cR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],e_=Ke("monitor",uR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],mR=Ke("paperclip",pR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],t_=Ke("pin",hR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],gR=Ke("plug",fR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M3 2v1c0 1 2 1 2 2S3 6 3 7s2 1 2 2-2 1-2 2 2 1 2 2",key:"19w3oe"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M20.83 8.83a4 4 0 0 0-5.66-5.66l-12 12a4 4 0 1 0 5.66 5.66Z",key:"6fykxj"}],["path",{d:"M18 11.66V22a4 4 0 0 0 4-4V6",key:"1utzek"}]],vR=Ke("pocket-knife",xR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],yR=Ke("repeat-2",bR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]],kR=Ke("router",wR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Lg=Ke("server",jR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s_=Ke("settings",_R);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],SR=Ke("square-arrow-out-up-right",NR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],r_=Ke("square-dashed",TR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]],n_=Ke("square-mouse-pointer",IR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],o_=Ke("square-pen",PR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]],MR=Ke("square-slash",ER);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],RR=Ke("timer",AR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ii=Ke("trash-2",CR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],el=Ke("triangle-alert",OR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],a_=Ke("upload",DR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],i_=Ke("users-round",FR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BR=Ke("volume-x",LR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],qR=Ke("wand-sparkles",zR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],l_=Ke("webhook",UR);var ad="Collapsible",[KR,lW]=zf(ad),[WR,Bg]=KR(ad),c_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:a,onOpenChange:i,...c}=e,[l,d]=_h({prop:n,defaultProp:o??!1,onChange:i,caller:ad});return s.jsx(WR,{scope:r,disabled:a,contentId:Dc(),open:l,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Ls.div,{"data-state":qg(l),"data-disabled":a?"":void 0,...c,ref:t})})});c_.displayName=ad;var d_="CollapsibleTrigger",u_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=Bg(d_,r);return s.jsx(Ls.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":qg(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:hs(e.onClick,o.onOpenToggle)})});u_.displayName=d_;var zg="CollapsibleContent",p_=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Bg(zg,e.__scopeCollapsible);return s.jsx(FT,{present:r||o.open,children:({present:a})=>s.jsx($R,{...n,ref:t,present:a})})});p_.displayName=zg;var $R=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...a}=e,i=Bg(zg,r),[c,l]=h.useState(n),d=h.useRef(null),u=mr(t,d),p=h.useRef(0),m=p.current,g=h.useRef(0),f=g.current,x=i.open||c,v=h.useRef(x),N=h.useRef(void 0);return h.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),Pn(()=>{const y=d.current;if(y){N.current=N.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();p.current=w.height,g.current=w.width,v.current||(y.style.transitionDuration=N.current.transitionDuration,y.style.animationName=N.current.animationName),l(n)}},[i.open,n]),s.jsx(Ls.div,{"data-state":qg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:x&&o})});function qg(e){return e?"open":"closed"}var HR=c_;const Ug=HR,Kg=u_,m_=p_;function Go({...e}){return s.jsx(yj,{"data-slot":"dialog",...e})}function VR({...e}){return s.jsx(_j,{"data-slot":"dialog-portal",...e})}function GR({className:e,...t}){return s.jsx(Nj,{"data-slot":"dialog-overlay",className:ee("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Qo({className:e,children:t,...r}){return s.jsxs(VR,{"data-slot":"dialog-portal",children:[s.jsx(GR,{}),s.jsxs(wj,{"data-slot":"dialog-content",className:ee("bg-vscode-editor-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(qf,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(xn,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ya({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:ee("flex flex-col gap-2 text-center sm:text-left",e),...t})}function id({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:ee("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Xa({className:e,...t}){return s.jsx(kj,{"data-slot":"dialog-title",className:ee("text-lg leading-none font-semibold my-0 cursor-default",e),...t})}function Wg({className:e,...t}){return s.jsx(jj,{"data-slot":"dialog-description",className:ee("text-muted-foreground text-sm my-0",e),...t})}const QR=({label:e,currentValue:t,limitValue:r,className:n})=>{const o=r>0?t/r*100:0;return s.jsxs("div",{className:n,children:[s.jsx(LT,{value:o,className:"[&>div]:bg-vscode-button-background mt-1 h-1"}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-1 flex gap-2 justify-between",children:[s.jsx("span",{className:"whitespace-nowrap align-end",children:e}),s.jsxs("span",{className:"whitespace-nowrap flex text-[10px] items-end",children:[t," / ",r]})]})]})};function tl(e,t,r={}){const{preventDefault:n=!0,stopPropagation:o=!0}=r,a=h.useCallback(i=>{i.key==="Escape"&&e&&(n&&i.preventDefault(),o&&i.stopPropagation(),t())},[e,t,n,o]);h.useEffect(()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}),[a])}function Ko({value:e,onValueChange:t,options:r,placeholder:n,searchPlaceholder:o,emptyMessage:a,className:i,disabled:c,"data-testid":l}){const[d,u]=h.useState(!1),[p,m]=h.useState(""),g=h.useRef(null),f=h.useRef(null),x=h.useRef(!0),v=r.find(k=>k.value===e),N=h.useMemo(()=>p?r.filter(k=>k.label.toLowerCase().includes(p.toLowerCase())):r,[r,p]);h.useEffect(()=>()=>{x.current=!1,f.current&&clearTimeout(f.current)},[]),h.useEffect(()=>{const k=setTimeout(()=>{x.current&&m("")},100);return()=>clearTimeout(k)},[e]),tl(d,()=>u(!1));const y=k=>{u(k),k||(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>m(""),100))},w=k=>{u(!1),t(k)},b=()=>{var k;m(""),(k=g.current)==null||k.focus()};return s.jsxs(En,{open:d,onOpenChange:y,children:[s.jsx(ao,{asChild:!0,children:s.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":d,disabled:c,className:ee("w-full justify-between font-normal","h-7 px-3 py-2","border border-vscode-dropdown-border","bg-vscode-dropdown-background hover:bg-transparent","text-vscode-dropdown-foreground","focus-visible:border-vscode-focusBorder","aria-expanded:border-vscode-focusBorder",!v&&"text-muted-foreground",i),"data-testid":l,children:[s.jsx("span",{className:"truncate",children:v?v.label:n}),s.jsx(Vo,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Mn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Wi,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fc,{ref:g,value:p,onValueChange:m,placeholder:o,className:"h-9 mr-4"}),p.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center","data-testid":"clear-search-button",onClick:b,children:s.jsx(xn,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer"})})]}),s.jsxs($i,{children:[s.jsx(Lc,{children:p&&s.jsx("div",{className:"py-2 px-1 text-sm",children:a})}),s.jsx(Hi,{children:N.map(k=>s.jsxs(zo,{value:k.label,onSelect:()=>w(k.value),disabled:k.disabled,className:k.disabled?"text-vscode-errorForeground":"",children:[s.jsxs("div",{className:"flex items-center",children:[k.icon,k.label]}),s.jsx(Nr,{className:ee("ml-auto h-4 w-4 p-0.5",e===k.value?"opacity-100":"opacity-0")})]},k.value))})]})]})})]})}var YR=[" ","Enter","ArrowUp","ArrowDown"],XR=[" ","Enter"],Wo="Select",[ld,cd,JR]=qT(Wo),[Ja,cW]=zf(Wo,[JR,Tj]),dd=Tj(),[ZR,co]=Ja(Wo),[eC,tC]=Ja(Wo),h_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:p,disabled:m,required:g,form:f}=e,x=dd(t),[v,N]=h.useState(null),[y,w]=h.useState(null),[b,k]=h.useState(!1),_=BT(d),[j,T]=_h({prop:n,defaultProp:o??!1,onChange:a,caller:Wo}),[S,I]=_h({prop:i,defaultProp:c,onChange:l,caller:Wo}),E=h.useRef(null),M=v?f||!!v.closest("form"):!0,[R,C]=h.useState(new Set),q=Array.from(R).map(B=>B.props.value).join(";");return s.jsx(zT,{...x,children:s.jsxs(ZR,{required:g,scope:t,trigger:v,onTriggerChange:N,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:Dc(),value:S,onValueChange:I,open:j,onOpenChange:T,dir:_,triggerPointerDownPosRef:E,disabled:m,children:[s.jsx(ld.Provider,{scope:t,children:s.jsx(eC,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{C(U=>new Set(U).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{C(U=>{const te=new Set(U);return te.delete(B),te})},[]),children:r})}),M?s.jsxs(L_,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:p,value:S,onChange:B=>I(B.target.value),disabled:m,form:f,children:[S===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},q):null]})})};h_.displayName=Wo;var f_="SelectTrigger",g_=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=dd(r),i=co(f_,r),c=i.disabled||n,l=mr(t,i.onTriggerChange),d=cd(r),u=h.useRef("touch"),[p,m,g]=z_(x=>{const v=d().filter(w=>!w.disabled),N=v.find(w=>w.value===i.value),y=q_(v,x,N);y!==void 0&&i.onValueChange(y.value)}),f=x=>{c||(i.onOpenChange(!0),g()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(UT,{asChild:!0,...a,children:s.jsx(Ls.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":B_(i.value)?"":void 0,...o,ref:l,onClick:hs(o.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&f(x)}),onPointerDown:hs(o.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(f(x),x.preventDefault())}),onKeyDown:hs(o.onKeyDown,x=>{const v=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(v&&x.key===" ")&&YR.includes(x.key)&&(f(),x.preventDefault())})})})});g_.displayName=f_;var x_="SelectValue",v_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...c}=e,l=co(x_,r),{onValueNodeHasChildrenChange:d}=l,u=a!==void 0,p=mr(t,l.onValueNodeChange);return Pn(()=>{d(u)},[d,u]),s.jsx(Ls.span,{...c,ref:p,style:{pointerEvents:"none"},children:B_(l.value)?s.jsx(s.Fragment,{children:i}):a})});v_.displayName=x_;var sC="SelectIcon",b_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(Ls.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});b_.displayName=sC;var rC="SelectPortal",y_=e=>s.jsx(KT,{asChild:!0,...e});y_.displayName=rC;var $o="SelectContent",w_=h.forwardRef((e,t)=>{const r=co($o,e.__scopeSelect),[n,o]=h.useState();if(Pn(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Ij.createPortal(s.jsx(k_,{scope:e.__scopeSelect,children:s.jsx(ld.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(j_,{...e,ref:t})});w_.displayName=$o;var Rr=10,[k_,uo]=Ja($o),nC="SelectContentImpl",oC=YT("SelectContent.RemoveScroll"),j_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:f,hideWhenDetached:x,avoidCollisions:v,...N}=e,y=co($o,r),[w,b]=h.useState(null),[k,_]=h.useState(null),j=mr(t,G=>b(G)),[T,S]=h.useState(null),[I,E]=h.useState(null),M=cd(r),[R,C]=h.useState(!1),q=h.useRef(!1);h.useEffect(()=>{if(w)return VT(w)},[w]),GT();const B=h.useCallback(G=>{const[ie,...D]=M().map(we=>we.ref.current),[me]=D.slice(-1),xe=document.activeElement;for(const we of G)if(we===xe||(we==null||we.scrollIntoView({block:"nearest"}),we===ie&&k&&(k.scrollTop=0),we===me&&k&&(k.scrollTop=k.scrollHeight),we==null||we.focus(),document.activeElement!==xe))return},[M,k]),U=h.useCallback(()=>B([T,w]),[B,T,w]);h.useEffect(()=>{R&&U()},[R,U]);const{onOpenChange:te,triggerPointerDownPosRef:Q}=y;h.useEffect(()=>{if(w){let G={x:0,y:0};const ie=me=>{var xe,we;G={x:Math.abs(Math.round(me.pageX)-(((xe=Q.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(me.pageY)-(((we=Q.current)==null?void 0:we.y)??0))}},D=me=>{G.x<=10&&G.y<=10?me.preventDefault():w.contains(me.target)||te(!1),document.removeEventListener("pointermove",ie),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",D,{capture:!0})}}},[w,te,Q]),h.useEffect(()=>{const G=()=>te(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[te]);const[O,F]=z_(G=>{const ie=M().filter(xe=>!xe.disabled),D=ie.find(xe=>xe.ref.current===document.activeElement),me=q_(ie,G,D);me&&setTimeout(()=>me.ref.current.focus())}),W=h.useCallback((G,ie,D)=>{const me=!q.current&&!D;(y.value!==void 0&&y.value===ie||me)&&(S(G),me&&(q.current=!0))},[y.value]),re=h.useCallback(()=>w==null?void 0:w.focus(),[w]),H=h.useCallback((G,ie,D)=>{const me=!q.current&&!D;(y.value!==void 0&&y.value===ie||me)&&E(G)},[y.value]),Z=n==="popper"?tf:__,Y=Z===tf?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:f,hideWhenDetached:x,avoidCollisions:v}:{};return s.jsx(k_,{scope:r,content:w,viewport:k,onViewportChange:_,itemRefCallback:W,selectedItem:T,onItemLeave:re,itemTextRefCallback:H,focusSelectedItem:U,selectedItemText:I,position:n,isPositioned:R,searchRef:O,children:s.jsx(QT,{as:oC,allowPinchZoom:!0,children:s.jsx(XT,{asChild:!0,trapped:y.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:hs(o,G=>{var ie;(ie=y.trigger)==null||ie.focus({preventScroll:!0}),G.preventDefault()}),children:s.jsx(JT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:G=>G.preventDefault(),...N,...Y,onPlaced:()=>C(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:hs(N.onKeyDown,G=>{const ie=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ie&&G.key.length===1&&F(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let me=M().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(G.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const xe=G.target,we=me.indexOf(xe);me=me.slice(we+1)}setTimeout(()=>B(me)),G.preventDefault()}})})})})})})});j_.displayName=nC;var aC="SelectItemAlignedPosition",__=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=co($o,r),i=uo($o,r),[c,l]=h.useState(null),[d,u]=h.useState(null),p=mr(t,j=>u(j)),m=cd(r),g=h.useRef(!1),f=h.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:N,focusSelectedItem:y}=i,w=h.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&d&&x&&v&&N){const j=a.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(a.dir!=="rtl"){const xe=I.left-T.left,we=S.left-xe,Pe=j.left-we,Ce=j.width+Pe,L=Math.max(Ce,T.width),Se=window.innerWidth-Rr,X=Bx(we,[Rr,Math.max(Rr,Se-L)]);c.style.minWidth=Ce+"px",c.style.left=X+"px"}else{const xe=T.right-I.right,we=window.innerWidth-S.right-xe,Pe=window.innerWidth-j.right-we,Ce=j.width+Pe,L=Math.max(Ce,T.width),Se=window.innerWidth-Rr,X=Bx(we,[Rr,Math.max(Rr,Se-L)]);c.style.minWidth=Ce+"px",c.style.right=X+"px"}const E=m(),M=window.innerHeight-Rr*2,R=x.scrollHeight,C=window.getComputedStyle(d),q=parseInt(C.borderTopWidth,10),B=parseInt(C.paddingTop,10),U=parseInt(C.borderBottomWidth,10),te=parseInt(C.paddingBottom,10),Q=q+B+R+te+U,O=Math.min(v.offsetHeight*5,Q),F=window.getComputedStyle(x),W=parseInt(F.paddingTop,10),re=parseInt(F.paddingBottom,10),H=j.top+j.height/2-Rr,Z=M-H,Y=v.offsetHeight/2,G=v.offsetTop+Y,ie=q+B+G,D=Q-ie;if(ie<=H){const xe=E.length>0&&v===E[E.length-1].ref.current;c.style.bottom="0px";const we=d.clientHeight-x.offsetTop-x.offsetHeight,Pe=Math.max(Z,Y+(xe?re:0)+we+U),Ce=ie+Pe;c.style.height=Ce+"px"}else{const xe=E.length>0&&v===E[0].ref.current;c.style.top="0px";const Pe=Math.max(H,q+x.offsetTop+(xe?W:0)+Y)+D;c.style.height=Pe+"px",x.scrollTop=ie-H+x.offsetTop}c.style.margin=`${Rr}px 0`,c.style.minHeight=O+"px",c.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,c,d,x,v,N,a.dir,n]);Pn(()=>w(),[w]);const[b,k]=h.useState();Pn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const _=h.useCallback(j=>{j&&f.current===!0&&(w(),y==null||y(),f.current=!1)},[w,y]);return s.jsx(lC,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:s.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Ls.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});__.displayName=aC;var iC="SelectPopperPosition",tf=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Rr,...a}=e,i=dd(r);return s.jsx(ZT,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tf.displayName=iC;var[lC,$g]=Ja($o,{}),sf="SelectViewport",N_=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=uo(sf,r),i=$g(sf,r),c=mr(t,a.onViewportChange),l=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ld.Slot,{scope:r,children:s.jsx(Ls.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:hs(o.onScroll,d=>{const u=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&p){const g=Math.abs(l.current-u.scrollTop);if(g>0){const f=window.innerHeight-Rr*2,x=parseFloat(p.style.minHeight),v=parseFloat(p.style.height),N=Math.max(x,v);if(N<f){const y=N+g,w=Math.min(f,y),b=y-w;p.style.height=w+"px",p.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,p.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});N_.displayName=sf;var S_="SelectGroup",[cC,dC]=Ja(S_),T_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Dc();return s.jsx(cC,{scope:r,id:o,children:s.jsx(Ls.div,{role:"group","aria-labelledby":o,...n,ref:t})})});T_.displayName=S_;var I_="SelectLabel",uC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=dC(I_,r);return s.jsx(Ls.div,{id:o.id,...n,ref:t})});uC.displayName=I_;var bc="SelectItem",[pC,P_]=Ja(bc),E_=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,c=co(bc,r),l=uo(bc,r),d=c.value===n,[u,p]=h.useState(a??""),[m,g]=h.useState(!1),f=mr(t,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,o)}),x=Dc(),v=h.useRef("touch"),N=()=>{o||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(pC,{scope:r,value:n,disabled:o,textId:x,isSelected:d,onItemTextChange:h.useCallback(y=>{p(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(ld.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:s.jsx(Ls.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:f,onFocus:hs(i.onFocus,()=>g(!0)),onBlur:hs(i.onBlur,()=>g(!1)),onClick:hs(i.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:hs(i.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:hs(i.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:hs(i.onPointerMove,y=>{var w;v.current=y.pointerType,o?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hs(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:hs(i.onKeyDown,y=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(XR.includes(y.key)&&N(),y.key===" "&&y.preventDefault())})})})})});E_.displayName=bc;var hi="SelectItemText",M_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=co(hi,r),c=uo(hi,r),l=P_(hi,r),d=tC(hi,r),[u,p]=h.useState(null),m=mr(t,N=>p(N),l.onItemTextChange,N=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,N,l.value,l.disabled)}),g=u==null?void 0:u.textContent,f=h.useMemo(()=>s.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=d;return Pn(()=>(x(f),()=>v(f)),[x,v,f]),s.jsxs(s.Fragment,{children:[s.jsx(Ls.span,{id:l.textId,...a,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ij.createPortal(a.children,i.valueNode):null]})});M_.displayName=hi;var A_="SelectItemIndicator",R_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P_(A_,r).isSelected?s.jsx(Ls.span,{"aria-hidden":!0,...n,ref:t}):null});R_.displayName=A_;var rf="SelectScrollUpButton",C_=h.forwardRef((e,t)=>{const r=uo(rf,e.__scopeSelect),n=$g(rf,e.__scopeSelect),[o,a]=h.useState(!1),i=mr(t,n.onScrollButtonChange);return Pn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;a(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),o?s.jsx(D_,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});C_.displayName=rf;var nf="SelectScrollDownButton",O_=h.forwardRef((e,t)=>{const r=uo(nf,e.__scopeSelect),n=$g(nf,e.__scopeSelect),[o,a]=h.useState(!1),i=mr(t,n.onScrollButtonChange);return Pn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;a(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),o?s.jsx(D_,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});O_.displayName=nf;var D_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=uo("SelectScrollButton",r),i=h.useRef(null),c=cd(r),l=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Pn(()=>{var u;const d=c().find(p=>p.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),s.jsx(Ls.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:hs(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:hs(o.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:hs(o.onPointerLeave,()=>{l()})})}),mC="SelectSeparator",F_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ls.div,{"aria-hidden":!0,...n,ref:t})});F_.displayName=mC;var of="SelectArrow",hC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=dd(r),a=co(of,r),i=uo(of,r);return a.open&&i.position==="popper"?s.jsx(eI,{...o,...n,ref:t}):null});hC.displayName=of;var fC="SelectBubbleInput",L_=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=h.useRef(null),a=mr(n,o),i=WT(t);return h.useEffect(()=>{const c=o.current;if(!c)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const p=new Event("change",{bubbles:!0});u.call(c,t),c.dispatchEvent(p)}},[i,t]),s.jsx(Ls.select,{...r,style:{...$T,...r.style},ref:a,defaultValue:t})});L_.displayName=fC;function B_(e){return e===""||e===void 0}function z_(e){const t=HT(e),r=h.useRef(""),n=h.useRef(0),o=h.useCallback(i=>{const c=r.current+i;t(c),(function l(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(c)},[t]),a=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function q_(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=gC(e,Math.max(a,0));o.length===1&&(i=i.filter(d=>d!==r));const l=i.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}function gC(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xC=h_,vC=g_,bC=v_,yC=b_,wC=y_,kC=w_,jC=N_,_C=T_,NC=E_,SC=M_,TC=R_,IC=C_,PC=O_,EC=F_;function Dt({...e}){return s.jsx(xC,{"data-slot":"select",...e})}function U_({...e}){return s.jsx(_C,{"data-slot":"select-group",...e})}function Ft({...e}){return s.jsx(bC,{"data-slot":"select-value",...e})}function Lt({className:e,children:t,...r}){return s.jsxs(vC,{"data-slot":"select-trigger",className:ee("data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground aria-invalid:border-destructive flex h-7 w-fit items-center justify-between gap-2 rounded-xs px-3 py-2 whitespace-nowrap transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 cursor-pointer","border border-vscode-dropdown-border aria-expanded:border-vscode-focusBorder focus-visible:border-vscode-focusBorder","bg-vscode-dropdown-background hover:bg-transparent","text-vscode-dropdown-foreground",e),...r,children:[t,s.jsx(yC,{asChild:!0,children:s.jsx(Vo,{className:"size-4 opacity-50"})})]})}function Bt({className:e,children:t,position:r="popper",container:n,...o}){return s.jsx(wC,{container:n,children:s.jsxs(kC,{"data-slot":"select-content",className:ee("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-72 min-w-[8rem] overflow-hidden rounded-xs shadow-xs","bg-popover","border border-vscode-focusBorder","text-popover-foreground",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[s.jsx(MC,{}),s.jsx(jC,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(AC,{})]})})}function Be({className:e,children:t,...r}){return s.jsxs(NC,{"data-slot":"select-item",className:ee("[&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 py-1.5 pr-8 pl-2 outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2","focus:bg-vscode-list-activeSelectionBackground focus:text-vscode-list-activeSelectionForeground","text-vscode-dropdown-foreground text-sm","rounded-xs active:opacity-90 cursor-pointer",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(TC,{children:s.jsx(Nr,{className:"size-4 p-0.5"})})}),s.jsx(SC,{children:t})]})}function K_({className:e,...t}){return s.jsx(EC,{"data-slot":"select-separator",className:ee("bg-vscode-dropdown-foreground/10 pointer-events-none -mx-1 my-1 h-px",e),...t})}function MC({className:e,...t}){return s.jsx(IC,{"data-slot":"select-scroll-up-button",className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Bc,{className:"size-4"})})}function AC({className:e,...t}){return s.jsx(PC,{"data-slot":"select-scroll-down-button",className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Vo,{className:"size-4"})})}const W_=({checked:e,onChange:t,disabled:r=!1,size:n="small","aria-label":o,"data-testid":a})=>{const i=n==="small"?{width:16,height:8,dotSize:4}:{width:20,height:10,dotSize:6},c=l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),r||t())};return s.jsx("div",{role:"switch","aria-checked":e,"aria-label":o,tabIndex:r?-1:0,"data-testid":a,style:{width:`${i.width}px`,height:`${i.height}px`,backgroundColor:e?"var(--vscode-button-background)":"var(--vscode-titleBar-inactiveForeground)",borderRadius:`${i.height/2}px`,position:"relative",cursor:r?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:r?.4:e?.8:.6},onClick:r?void 0:t,onKeyDown:c,children:s.jsx("div",{style:{width:`${i.dotSize}px`,height:`${i.dotSize}px`,backgroundColor:"var(--vscode-titleBar-activeForeground)",borderRadius:"50%",position:"absolute",top:`${(i.height-i.dotSize)/2}px`,left:e?`${i.width-i.dotSize-(i.height-i.dotSize)/2}px`:`${(i.height-i.dotSize)/2}px`,transition:"left 0.2s"}})})},Hg=({className:e,showLabel:t=!1})=>{const[r,n]=h.useState([]),{apiConfiguration:o,currentApiConfigName:a}=Ge(),{t:i}=oe(),[c,l]=h.useState(!1),d=r.find(g=>g.id===(o==null?void 0:o.kilocodeOrganizationId)),u=h.useRef(null),p=g=>{var x;const f=g.data;if(f.type==="profileDataResponse"){const v=f.payload;v.success?n(((x=v.data)==null?void 0:x.organizations)??[]):(console.error("Error fetching profile organizations data:",v.error),n([]))}else f.type==="updateProfileData"&&A.postMessage({type:"fetchProfileDataRequest"})};h.useEffect(()=>{const g=x=>{x.key==="Escape"&&l(!1)},f=x=>{u.current&&(u.current.contains(x.target)||l(!1))};return window.addEventListener("keydown",g),window.addEventListener("mousedown",f),window.addEventListener("message",p),()=>{window.removeEventListener("keydown",g),window.removeEventListener("mousedown",f),window.removeEventListener("message",p)}},[]),h.useEffect(()=>{o!=null&&o.kilocodeToken&&A.postMessage({type:"fetchProfileDataRequest"})},[o==null?void 0:o.kilocodeToken]);const m=g=>{g===null?(A.postMessage({type:"upsertApiConfiguration",text:a,apiConfiguration:{...o,kilocodeOrganizationId:void 0}}),A.postMessage({type:"fetchBalanceDataRequest",values:{apiKey:o==null?void 0:o.kilocodeToken}})):(A.postMessage({type:"upsertApiConfiguration",text:a,apiConfiguration:{...o,kilocodeOrganizationId:g.id}}),A.postMessage({type:"fetchBalanceDataRequest"}))};return r.length?s.jsxs("div",{className:e,children:[t&&s.jsx("div",{children:s.jsx("label",{className:"block font-medium mb-2",children:i("kilocode:profile.organization")})}),s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("button",{type:"button",onClick:()=>l(g=>!g),"aria-haspopup":"listbox","aria-expanded":c,title:d?`${d.name}  ${d.role.toUpperCase()}`:i("kilocode:profile.personal"),className:"w-full cursor-pointer border border-[var(--vscode-dropdown-border)] bg-[var(--vscode-dropdown-background)] text-[var(--vscode-dropdown-foreground)] rounded px-3 py-1.5 flex items-center justify-between gap-2 focus:outline-none focus:ring-1 focus:ring-[var(--vscode-focusBorder)] opacity-90 hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)] transition-all duration-150",children:[s.jsx("span",{className:"truncate",children:d?d.name:i("kilocode:profile.personal")}),s.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[d&&s.jsx("span",{className:"ml-2 shrink-0 rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:d.role.toUpperCase()}),s.jsx("svg",{className:`h-3 w-3 transition-transform ${c?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"rgb(156 163 175)","aria-hidden":"true",children:s.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),c&&s.jsx("div",{className:"absolute z-20 mt-1 right-0 w-max min-w-full max-h-60 overflow-auto rounded border border-[var(--vscode-dropdown-border)] bg-[var(--vscode-dropdown-background)] shadow",children:s.jsxs("div",{role:"listbox","aria-label":i("kilocode:profile.organization"),children:[s.jsx("button",{type:"button",role:"option","aria-selected":!d||d.id==="personal",onClick:()=>{m(null),l(!1)},className:"flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-1.5 text-left hover:bg-[var(--vscode-list-hoverBackground)] text-[var(--vscode-foreground)]",children:s.jsx("span",{className:"truncate",children:i("kilocode:profile.personal")})}),r.map(g=>s.jsxs("button",{type:"button",role:"option","aria-selected":(d==null?void 0:d.id)===g.id,onClick:()=>{m(g),l(!1)},className:"flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-1.5 text-left hover:bg-[var(--vscode-list-hoverBackground)] text-[var(--vscode-foreground)]",children:[s.jsx("span",{className:"truncate",children:g.name}),s.jsx("span",{className:"ml-2 shrink-0 rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:g.role.toUpperCase()})]},g.id))]})})]})]}):null},RC=()=>{const{t:e}=oe(),[t,r]=h.useState(!1),n=()=>{r(!0),A.postMessage({type:"telemetrySetting",text:"enabled"})},o=()=>{window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"about"}})};return t?null:s.jsxs("div",{className:"relative p-4 pr-10 bg-vscode-editor-background border border-vscode-panel-border rounded text-sm leading-normal text-vscode-foreground",children:[s.jsx("button",{onClick:n,className:"absolute top-1.5 right-2 bg-transparent border-none text-vscode-foreground cursor-pointer text-2xl p-1 opacity-70 hover:opacity-100 transition-opacity duration-200 leading-none","aria-label":"Close",children:""}),s.jsx("div",{className:"mb-0.5 font-bold",children:e("welcome:telemetry.helpImprove")}),s.jsx("div",{children:s.jsx(je,{i18nKey:"welcome:telemetry.helpImproveMessage",components:{settingsLink:s.jsx(Fe,{href:"#",onClick:o})}})})]})},CC=h.memo(RC);function yr(e){return e>=1e9?(e/1e9).toFixed(1)+Re.t("common:number_format.billion_suffix"):e>=1e6?(e/1e6).toFixed(1)+Re.t("common:number_format.million_suffix"):e>=1e3?(e/1e3).toFixed(1)+Re.t("common:number_format.thousand_suffix"):e.toString()}const OC=e=>{const r=Date.now()-e,n=Math.floor(r/1e3),o=Math.floor(n/60),a=Math.floor(o/60),i=Math.floor(a/24),c=Math.floor(i/7),l=Math.floor(i/30),d=Math.floor(i/365);return d>0?d===1?Re.t("common:time_ago.year_ago"):Re.t("common:time_ago.years_ago",{count:d}):l>0?l===1?Re.t("common:time_ago.month_ago"):Re.t("common:time_ago.months_ago",{count:l}):c>0?c===1?Re.t("common:time_ago.week_ago"):Re.t("common:time_ago.weeks_ago",{count:c}):i>0?i===1?Re.t("common:time_ago.day_ago"):Re.t("common:time_ago.days_ago",{count:i}):a>0?a===1?Re.t("common:time_ago.hour_ago"):Re.t("common:time_ago.hours_ago",{count:a}):o>0?o===1?Re.t("common:time_ago.minute_ago"):Re.t("common:time_ago.minutes_ago",{count:o}):n>30?Re.t("common:time_ago.seconds_ago",{count:n}):Re.t("common:time_ago.just_now")};function $_({timeout:e=2e3}={}){const[t,r]=h.useState(!1);return{isCopied:t,copy:o=>{var a;typeof window>"u"||!((a=navigator.clipboard)!=null&&a.writeText)||!o||navigator.clipboard.writeText(o).then(()=>{r(!0),setTimeout(()=>r(!1),e)})}}}function DC(e){h.useEffect(()=>{const t=r=>{const n=r.target;n.tagName!=="INPUT"&&n.tagName!=="SELECT"&&n.tagName!=="TEXTAREA"&&n.tagName!=="VSCODE-TEXT-AREA"&&n.tagName!=="VSCODE-TEXT-FIELD"&&!n.isContentEditable&&e()};return document.body.addEventListener("click",t),()=>{document.body.removeEventListener("click",t)}},[e])}const FC=({itemTask:e})=>{const{isCopied:t,copy:r}=$_(),{t:n}=oe(),o=h.useCallback(a=>{a.stopPropagation(),t||r(e)},[t,r,e]);return s.jsx(de,{content:n("history:copyPrompt"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:o,className:"group-hover:opacity-100 opacity-50 transition-opacity","data-testid":"copy-prompt-button",children:s.jsx("span",{className:ee("codicon scale-80",{"codicon-check":t,"codicon-copy":!t})})})})},LC=({itemId:e})=>{const{t}=oe(),r=h.useCallback(n=>{n.stopPropagation(),A.postMessage({type:"exportTaskWithId",text:e})},[e]);return s.jsx(de,{content:t("history:exportTask"),children:s.jsx(ae,{"data-testid":"export",variant:"ghost",size:"icon",className:"group-hover:opacity-100 opacity-50 transition-opacity",onClick:r,children:s.jsx("span",{className:"codicon codicon-desktop-download scale-80"})})})},BC=({itemId:e,onDelete:t})=>{const{t:r}=oe(),n=h.useCallback(o=>{o.stopPropagation(),o.shiftKey?A.postMessage({type:"deleteTaskWithId",text:e}):t&&t(e)},[e,t]);return s.jsx(de,{content:r("history:deleteTaskTitle"),children:s.jsx(ae,{variant:"ghost",size:"icon","data-testid":"delete-task-button",onClick:n,className:"opacity-70",children:s.jsx("span",{className:"codicon codicon-trash size-4 align-middle text-vscode-descriptionForeground"})})})},zC=({id:e,isFavorited:t})=>{const{t:r}=oe();return s.jsx(ae,{variant:"ghost",size:"icon",title:r(t?"history:unfavoriteTask":"history:favoriteTask"),"data-testid":"favorite-task-button",onClick:n=>{n.stopPropagation(),A.postMessage({type:"toggleTaskFavorite",text:e})},className:`group-hover:opacity-100 transition-opacity ${t?"opacity-70":"opacity-50"}`,children:s.jsx("span",{className:`codicon ${t?"codicon-star-full":"codicon-star-empty"}`})})},qC=({id:e})=>{const{t}=oe();return s.jsx(ae,{variant:"ghost",size:"icon",title:t("history:shareSession"),"data-testid":"share-session-button",onClick:r=>{r.stopPropagation(),A.postMessage({type:"shareTaskSession",text:e})},className:"group-hover:opacity-100 opacity-50 transition-opacity",children:s.jsx("span",{className:"codicon codicon-link"})})},UC=({item:e,variant:t,isSelectionMode:r=!1,onDelete:n})=>s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-1 items-center text-vscode-descriptionForeground/60",children:[s.jsx(de,{content:new Date(e.ts).toLocaleString(),children:s.jsx("span",{className:"first-letter:uppercase",children:OC(e.ts)})}),s.jsx("span",{children:""}),!!e.totalCost&&s.jsx("span",{className:"flex items-center","data-testid":"cost-footer-compact",children:"$"+e.totalCost.toFixed(2)})]}),!r&&s.jsxs("div",{className:"flex flex-row gap-0 -mx-2 items-center text-vscode-descriptionForeground/60 hover:text-vscode-descriptionForeground",children:[s.jsx(FC,{itemTask:e.task}),s.jsx(zC,{isFavorited:e.isFavorited??!1,id:e.id}),s.jsx(qC,{id:e.id}),t==="full"&&s.jsx(LC,{itemId:e.id}),n&&s.jsx(BC,{itemId:e.id,onDelete:n})]})]}),KC=({item:e,variant:t,showWorkspace:r=!1,isSelectionMode:n=!1,isSelected:o=!1,onToggleSelection:a,onDelete:i,className:c})=>{const l=()=>{n&&a?a(e.id,!o):A.postMessage({type:"showTaskWithId",text:e.id})},d=t==="compact";return s.jsx("div",{"data-testid":`task-item-${e.id}`,className:ee("cursor-pointer group bg-vscode-editor-background rounded relative overflow-hidden border border-transparent hover:bg-vscode-list-hoverBackground transition-colors",{"bg-red-900 text-white":e.fileNotfound,"bg-vscode-editor-background":!e.fileNotfound},c),onClick:l,children:s.jsxs("div",{className:(!d&&n?"pl-3 pb-3":"pl-4")+" flex gap-3 px-3 pt-3 pb-1",children:[!d&&n&&s.jsx("div",{className:"task-checkbox mt-1",onClick:u=>{u.stopPropagation()},children:s.jsx(mc,{checked:o,onCheckedChange:u=>a==null?void 0:a(e.id,u===!0),variant:"description"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:ee("overflow-hidden whitespace-pre-wrap font-light text-vscode-foreground text-ellipsis line-clamp-3",{"text-base":!d},!d&&n?"mb-1":""),"data-testid":"task-content",...e.highlight?{dangerouslySetInnerHTML:{__html:e.highlight}}:{},children:e.highlight?void 0:e.task}),s.jsx(UC,{item:e,variant:t,isSelectionMode:n,onDelete:i}),r&&e.workspace&&s.jsxs("div",{className:"flex flex-row gap-1 text-vscode-descriptionForeground text-xs mt-1",children:[s.jsx("span",{className:"codicon codicon-folder scale-80"}),s.jsx("span",{children:e.workspace})]})]})]})},e.id)},H_=h.memo(KC);function WC(e,t){return new Promise((r,n)=>{const o=()=>{window.removeEventListener("message",i)},a=setTimeout(()=>{o(),n(new Error("Timeout"))},1e4),i=c=>{const l=c.data;if(l.type==="tasksByIdResponse"){const d=l.payload;if((d==null?void 0:d.requestId)!==e)return;clearTimeout(a),o(),d!=null&&d.tasks?r(d.tasks):n(new Error("Task not found"))}};window.addEventListener("message",i),A.postMessage({type:"tasksByIdRequest",payload:{requestId:e,taskIds:t}})})}function V_(e){return An({queryKey:["taskHistory",e],queryFn:()=>WC(crypto.randomUUID(),e)})}function $C(e){return new Promise((t,r)=>{const n=()=>{window.removeEventListener("message",a)},o=setTimeout(()=>{n(),r(new Error("Timeout"))},1e4),a=i=>{const c=i.data;if(c.type==="taskHistoryResponse"){const l=c.payload;if((l==null?void 0:l.requestId)!==e.requestId)return;clearTimeout(o),n(),l?t(l):r(new Error("Payload is empty"))}};window.addEventListener("message",a),A.postMessage({type:"taskHistoryRequest",payload:e})})}function Vg(e,t){return An({queryKey:["taskHistory",String(t),JSON.stringify(e)],queryFn:()=>$C({...e,requestId:crypto.randomUUID()})})}const HC=({taskHistoryVersion:e})=>{const{data:t}=Vg({workspace:"current",sort:"newest",favoritesOnly:!1,pageIndex:0},e),r=(t==null?void 0:t.historyItems)??[],{t:n}=oe(),o=()=>{A.postMessage({type:"switchTab",tab:"history"})};return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-4 mb-2",children:[s.jsx("h2",{className:"font-semibold text-lg grow m-0",children:n("history:recentTasks")}),s.jsx("button",{onClick:o,className:"text-base text-vscode-descriptionForeground hover:text-vscode-textLink-foreground transition-colors cursor-pointer","aria-label":n("history:viewAllHistory"),children:n("history:viewAllHistory")})]}),r.length!==0&&s.jsx(s.Fragment,{children:r.slice(0,4).map(a=>s.jsx(H_,{item:a,variant:"compact"},a.id))})]})},VC=h.memo(HC);var G_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Av=He.createContext&&He.createContext(G_),GC=["attr","size","title"];function QC(e,t){if(e==null)return{};var r=YC(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function Rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(r),!0).forEach(function(n){XC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XC(e,t,r){return t=JC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e){var t=ZC(e,"string");return typeof t=="symbol"?t:t+""}function ZC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q_(e){return e&&e.map((t,r)=>He.createElement(t.tag,wc({key:r},t.attr),Q_(t.child)))}function Gg(e){return t=>He.createElement(e5,yc({attr:wc({},e.attr)},t),Q_(e.child))}function e5(e){var t=r=>{var{attr:n,size:o,title:a}=e,i=QC(e,GC),c=o||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),He.createElement("svg",yc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:l,style:wc(wc({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&He.createElement("title",null,a),e.children)};return Av!==void 0?He.createElement(Av.Consumer,null,r=>t(r)):t(G_)}function t5(e){return Gg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"},child:[]}]})(e)}function s5(e){return Gg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"},child:[]}]})(e)}function r5(e){return Gg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}const n5="radd-app",Ba={publisher:n5,name:"radd-assistant",version:"4.140.2",sha:"626fc7426af27d9470609bc1d9dd6fa19a8ee537"},o5=({hideAnnouncement:e})=>{const{t}=oe(),[r,n]=h.useState(!0);return s.jsx(Go,{open:r,onOpenChange:o=>{n(o),o||e()},children:s.jsxs(Qo,{className:"max-w-96",children:[s.jsx(Ya,{children:s.jsx(Xa,{children:t("chat:announcement.title",{version:Ba.version})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"mb-3",children:t("chat:announcement.release.heading")}),s.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1.5",children:[s.jsx("li",{children:t("chat:announcement.release.contextRewind")}),s.jsx("li",{children:t("chat:announcement.release.rooProvider")})]})]}),s.jsx("div",{className:"mt-4 text-sm text-center text-vscode-descriptionForeground",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(Ud,{icon:s.jsx(r5,{className:"w-4 h-4","aria-hidden":!0}),label:"X",href:"https://x.com/roocode"}),s.jsx(Ud,{icon:s.jsx(t5,{className:"w-4 h-4","aria-hidden":!0}),label:"Discord",href:"https://discord.gg/rCQcvT7Fnt"}),s.jsx(Ud,{icon:s.jsx(s5,{className:"w-4 h-4","aria-hidden":!0}),label:"Reddit",href:"https://www.reddit.com/r/RooCode/"})]})}),s.jsx("div",{className:"mt-3 text-sm text-center text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:"chat:announcement.support",components:{githubLink:s.jsx(a5,{})}})}),s.jsx("div",{className:"mt-2 text-sm text-center",children:s.jsx(je,{i18nKey:"chat:announcement.careers",components:{careersLink:s.jsx(i5,{})}})})]})]})})},Ud=({icon:e,label:t,href:r})=>s.jsxs(Fe,{href:r,className:"inline-flex items-center gap-1",onClick:n=>{n.preventDefault(),A.postMessage({type:"openExternal",url:r})},children:[e,s.jsx("span",{className:"sr-only",children:t})]}),a5=({children:e})=>s.jsx(Fe,{href:"https://github.com/RooCodeInc/Roo-Code",onClick:t=>{t.preventDefault(),A.postMessage({type:"openExternal",url:"https://github.com/RooCodeInc/Roo-Code"})},children:e}),i5=({children:e})=>s.jsx(Fe,{href:"https://careers.roocode.com",onClick:t=>{t.preventDefault(),A.postMessage({type:"openExternal",url:"https://careers.roocode.com"})},children:e}),l5=h.memo(o5),c5=e=>{switch(e){case"click":return s.jsx(YS,{className:"w-3.5 h-3.5 opacity-70"});case"type":case"press":return s.jsx(QS,{className:"w-3.5 h-3.5 opacity-70"});case"scroll_down":return s.jsx(GS,{className:"w-3.5 h-3.5 opacity-70"});case"scroll_up":return s.jsx(VS,{className:"w-3.5 h-3.5 opacity-70"});case"launch":return s.jsx(HS,{className:"w-3.5 h-3.5 opacity-70"});case"close":return s.jsx(Nr,{className:"w-3.5 h-3.5 opacity-70"});case"resize":return s.jsx($S,{className:"w-3.5 h-3.5 opacity-70"});case"screenshot":return s.jsx(WS,{className:"w-3.5 h-3.5 opacity-70"});case"hover":default:return s.jsx(KS,{className:"w-3.5 h-3.5 opacity-70"})}},Y_=h.memo(({message:e,nextMessage:t,actionIndex:r,totalActions:n})=>{const{t:o}=bt(),{isBrowserSessionActive:a}=Ge(),i=h.useRef(!1),c=h.useMemo(()=>{try{return JSON.parse(e.text||"{}")}catch{return null}},[e.text]),l=h.useMemo(()=>{if(!t||t.say!=="browser_action_result")return null;try{const p=JSON.parse(t.text||"{}");return{width:p.viewportWidth,height:p.viewportHeight}}catch{return null}},[t]),d=h.useMemo(()=>{var m;if(!c)return o("chat:browser.actions.title");const p=g=>qS(g,(l==null?void 0:l.width)??0,(l==null?void 0:l.height)??0);switch(c.action){case"launch":return o("chat:browser.actions.launched");case"click":return o("chat:browser.actions.clicked",{coordinate:c.executedCoordinate||p(c.coordinate)});case"type":return o("chat:browser.actions.typed",{text:c.text});case"press":return o("chat:browser.actions.pressed",{key:US(c.text)});case"hover":return o("chat:browser.actions.hovered",{coordinate:c.executedCoordinate||p(c.coordinate)});case"scroll_down":return o("chat:browser.actions.scrolledDown");case"scroll_up":return o("chat:browser.actions.scrolledUp");case"resize":return o("chat:browser.actions.resized",{size:(m=c.size)==null?void 0:m.split(/[x,]/).join(" x ")});case"screenshot":return o("chat:browser.actions.screenshotSaved");case"close":return o("chat:browser.actions.closed");default:return c.action}},[c,l,o]);h.useEffect(()=>{if(!a||i.current)return;(c==null?void 0:c.action)==="launch"?(A.postMessage({type:"showBrowserSessionPanelAtStep",stepIndex:0,isLaunchAction:!0}),i.current=!0):(A.postMessage({type:"showBrowserSessionPanelAtStep",isLaunchAction:!1}),i.current=!0)},[a,c]);const u={display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",wordBreak:"break-word"};return s.jsx("div",{className:"px-[15px] py-[10px] pr-[6px]",children:s.jsxs("div",{style:u,className:"cursor-pointer",onClick:()=>{const p=typeof r=="number"?Math.max(0,r-1):0;A.postMessage({type:"showBrowserSessionPanelAtStep",stepIndex:p,forceShow:!0})},children:[s.jsx("span",{className:"codicon codicon-globe text-vscode-testing-iconPassed shrink-0",style:{marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:o("chat:browser.actions.title")}),r!==void 0&&n!==void 0&&s.jsxs("span",{style:{fontWeight:"bold"},children:[" ","- ",r,"/",n," -"," "]}),c&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:c5(c.action)}),s.jsx("span",{className:"flex-1 truncate",children:d})]})]})})});Y_.displayName="BrowserActionRow";const X_=h.memo(({message:e})=>{var r;const t=(r=e.text)==null?void 0:r.includes("opened");return s.jsxs("div",{className:"flex items-center gap-2 py-2 px-[15px] text-sm",children:[s.jsx(Oc,{className:"w-4 h-4 shrink-0",style:{opacity:.7,color:t?"#4ade80":"#9ca3af"}}),s.jsx("span",{style:{color:t?"var(--vscode-testing-iconPassed)":"var(--vscode-descriptionForeground)",fontWeight:500},children:e.text})]})});X_.displayName="BrowserSessionStatusRow";function d5(e,t=[]){return t.find(r=>{const n=String(r.uriTemplate).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\{([^}]+)\\\}/g,"([^/]+)");return new RegExp(`^${n}$`).test(e)})}function u5(e,t=[],r=[]){const n=t.find(o=>o.uri===e);return n||d5(e,r)}const Qg=e=>e.replace(/^[/\\:*?"<>|]+/,"");function za(e,t){if(!e)return"";const r=Qg(e)+"";return t?r+t:r}const so=({className:e,...t})=>s.jsx("div",{className:ee("overflow-hidden rounded-md p-2 cursor-pointer bg-vscode-editor-background",e),...t}),ro=({className:e,...t})=>s.jsx("div",{className:ee("flex font-mono items-center select-none text-sm text-vscode-descriptionForeground",e),...t}),Cv=/[#.]/g;function p5(e,t){const r=e||"",n={};let o=0,a,i;for(;o<r.length;){Cv.lastIndex=o;const c=Cv.exec(r),l=r.slice(o,c?c.index:r.length);l&&(a?a==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:i=l,o+=l.length),c&&(a=c[0],o++)}return{type:"element",tagName:i||t||"div",properties:n,children:[]}}function J_(e,t,r){const n=r?g5(r):void 0;function o(a,i,...c){let l;if(a==null){l={type:"root",children:[]};const d=i;c.unshift(d)}else{l=p5(a,t);const d=l.tagName.toLowerCase(),u=n?n.get(d):void 0;if(l.tagName=u||d,m5(i))c.unshift(i);else for(const[p,m]of Object.entries(i))h5(e,l.properties,p,m)}for(const d of c)af(l.children,d);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return o}function m5(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const o=t[n];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const a=o;for(const i of a)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function h5(e,t,r,n){const o=tI(e,r);let a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?o.spaceSeparated?a=zx(n):o.commaSeparated?a=qx(n):o.commaOrSpaceSeparated?a=zx(qx(n).join(" ")):a=Ov(o,o.property,n):Array.isArray(n)?a=[...n]:a=o.property==="style"?f5(n):String(n);if(Array.isArray(a)){const i=[];for(const c of a)i.push(Ov(o,o.property,c));a=i}o.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[o.property]=a}}function af(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)af(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?af(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Ov(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Ux(r)===Ux(t)))return!0}return r}function f5(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function g5(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const x5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],v5=J_(sI,"div"),b5=J_(rI,"g",x5),Kd={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function y5(e,t){return Z_(e,{})||{type:"root",children:[]}}function Z_(e,t){const r=w5(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function w5(e,t){switch(e.nodeType){case 1:return N5(e,t);case 3:return j5(e);case 8:return _5(e);case 9:return Dv(e,t);case 10:return k5();case 11:return Dv(e,t);default:return}}function Dv(e,t){return{type:"root",children:eN(e,t)}}function k5(){return{type:"doctype"}}function j5(e){return{type:"text",value:e.nodeValue||""}}function _5(e){return{type:"comment",value:e.nodeValue||""}}function N5(e,t){const r=e.namespaceURI,n=r===Kd.svg?b5:v5,o=r===Kd.html?e.tagName.toLowerCase():e.tagName,a=r===Kd.html&&o==="template"?e.content:e,i=e.getAttributeNames(),c={};let l=-1;for(;++l<i.length;)c[i[l]]=e.getAttribute(i[l])||"";return n(o,c,eN(a,t))}function eN(e,t){const r=e.childNodes,n=[];let o=-1;for(;++o<r.length;){const a=Z_(r[o],t);a!==void 0&&n.push(a)}return n}new DOMParser;function S5(e,t){const r=T5(e);return y5(r)}function T5(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const Fv=(function(e,t,r){const n=fI(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),Yo=(function(e){if(e==null)return E5;if(typeof e=="string")return P5(e);if(typeof e=="object")return I5(e);if(typeof e=="function")return Yg(e);throw new Error("Expected function, string, or array as `test`")});function I5(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Yo(e[r]);return Yg(n);function n(...o){let a=-1;for(;++a<t.length;)if(t[a].apply(this,o))return!0;return!1}}function P5(e){return Yg(t);function t(r){return r.tagName===e}}function Yg(e){return t;function t(r,n,o){return!!(M5(r)&&e.call(this,r,typeof n=="number"?n:void 0,o||void 0))}}function E5(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function M5(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Lv=/\n/g,Bv=/[\t ]+/g,lf=Yo("br"),zv=Yo(B5),A5=Yo("p"),qv=Yo("tr"),R5=Yo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",L5,z5]),tN=Yo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function C5(e,t){const r=t||{},n="children"in e?e.children:[],o=tN(e),a=nN(e,{whitespace:r.whitespace||"normal"}),i=[];(e.type==="text"||e.type==="comment")&&i.push(...rN(e,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<n.length;)i.push(...sN(n[c],e,{whitespace:a,breakBefore:c?void 0:o,breakAfter:c<n.length-1?lf(n[c+1]):o}));const l=[];let d;for(c=-1;++c<i.length;){const u=i[c];typeof u=="number"?d!==void 0&&u>d&&(d=u):u&&(d!==void 0&&d>-1&&l.push(`
`.repeat(d)||" "),d=-1,l.push(u))}return l.join("")}function sN(e,t,r){return e.type==="element"?O5(e,t,r):e.type==="text"?r.whitespace==="normal"?rN(e,r):D5(e):[]}function O5(e,t,r){const n=nN(e,r),o=e.children||[];let a=-1,i=[];if(R5(e))return i;let c,l;for(lf(e)||qv(e)&&Fv(t,e,qv)?l=`
`:A5(e)?(c=2,l=2):tN(e)&&(c=1,l=1);++a<o.length;)i=i.concat(sN(o[a],e,{whitespace:n,breakBefore:a?void 0:c,breakAfter:a<o.length-1?lf(o[a+1]):l}));return zv(e)&&Fv(t,e,zv)&&i.push("	"),c&&i.unshift(c),l&&i.push(l),i}function rN(e,t){const r=String(e.value),n=[],o=[];let a=0;for(;a<=r.length;){Lv.lastIndex=a;const l=Lv.exec(r),d=l&&"index"in l?l.index:r.length;n.push(F5(r.slice(a,d).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,d===r.length?t.breakAfter:!0)),a=d+1}let i=-1,c;for(;++i<n.length;)n[i].charCodeAt(n[i].length-1)===8203||i<n.length-1&&n[i+1].charCodeAt(0)===8203?(o.push(n[i]),c=void 0):n[i]?(typeof c=="number"&&o.push(c),o.push(n[i]),c=0):(i===0||i===n.length-1)&&o.push(0);return o}function D5(e){return[String(e.value)]}function F5(e,t,r){const n=[];let o=0,a;for(;o<e.length;){Bv.lastIndex=o;const i=Bv.exec(e);a=i?i.index:e.length,!o&&!a&&i&&!t&&n.push(""),o!==a&&n.push(e.slice(o,a)),o=i?a+i[0].length:a}return o!==a&&!r&&n.push(""),n.join(" ")}function nN(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function L5(e){return!!(e.properties||{}).hidden}function B5(e){return e.tagName==="td"||e.tagName==="th"}function z5(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const q5={},U5=[];function K5(e){const t=e||q5;return function(r,n){gI(r,"element",function(o,a){const i=Array.isArray(o.properties.className)?o.properties.className:U5,c=i.includes("language-math"),l=i.includes("math-display"),d=i.includes("math-inline");let u=l;if(!c&&!l&&!d)return;let p=a[a.length-1],m=o;if(o.tagName==="code"&&c&&p&&p.type==="element"&&p.tagName==="pre"&&(m=p,p=a[a.length-2],u=!0),!p)return;const g=C5(m,{whitespace:"pre"});let f;try{f=$x.renderToString(g,{...t,displayMode:u,throwOnError:!0})}catch(v){const N=v,y=N.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...a,o],cause:N,place:o.position,ruleId:y,source:"rehype-katex"});try{f=$x.renderToString(g,{...t,displayMode:u,strict:"ignore",throwOnError:!1})}catch{f=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(v)},children:[{type:"text",value:g}]}]}}typeof f=="string"&&(f=S5(f).children);const x=p.children.indexOf(m);return p.children.splice(x,1,...f),xI})}}function W5(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:a},exit:{mathFlow:o,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:c,mathText:i,mathTextData:c}};function e(l){const d={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[d]}},l)}function t(){this.buffer()}function r(){const l=this.resume(),d=this.stack[this.stack.length-1];ri(d.type==="math"),d.meta=l}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function o(l){const d=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u=this.stack[this.stack.length-1];ri(u.type==="math"),this.exit(l),u.value=d;const p=u.data.hChildren[0];ri(p.type==="element"),ri(p.tagName==="code"),p.children.push({type:"text",value:d}),this.data.mathFlowInside=void 0}function a(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function i(l){const d=this.resume(),u=this.stack[this.stack.length-1];ri(u.type==="inlineMath"),this.exit(l),u.value=d,u.data.hChildren.push({type:"text",value:d})}function c(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function $5(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=o,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(a,i,c,l){const d=a.value||"",u=c.createTracker(l),p="$".repeat(Math.max(vI(d,"$")+1,2)),m=c.enter("mathFlow");let g=u.move(p);if(a.meta){const f=c.enter("mathFlowMeta");g+=u.move(c.safe(a.meta,{after:`
`,before:g,encode:["$"],...u.current()})),f()}return g+=u.move(`
`),d&&(g+=u.move(d+`
`)),g+=u.move(p),m(),g}function n(a,i,c){let l=a.value||"",d=1;for(t||d++;new RegExp("(^|[^$])"+"\\$".repeat(d)+"([^$]|$)").test(l);)d++;const u="$".repeat(d);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let p=-1;for(;++p<c.unsafe.length;){const m=c.unsafe[p];if(!m.atBreak)continue;const g=c.compilePattern(m);let f;for(;f=g.exec(l);){let x=f.index;l.codePointAt(x)===10&&l.codePointAt(x-1)===13&&x--,l=l.slice(0,x)+" "+l.slice(f.index+1)}}return u+l+u}function o(){return"$"}}const H5={tokenize:V5,concrete:!0,name:"mathFlow"},Uv={tokenize:G5,partial:!0};function V5(e,t,r){const n=this,o=n.events[n.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let i=0;return c;function c(y){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),l(y)}function l(y){return y===36?(e.consume(y),i++,l):i<2?r(y):(e.exit("mathFlowFenceSequence"),bl(e,d,"whitespace")(y))}function d(y){return y===null||yo(y)?p(y):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),u(y))}function u(y){return y===null||yo(y)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),p(y)):y===36?r(y):(e.consume(y),u)}function p(y){return e.exit("mathFlowFence"),n.interrupt?t(y):e.attempt(Uv,m,v)(y)}function m(y){return e.attempt({tokenize:N,partial:!0},v,g)(y)}function g(y){return(a?bl(e,f,"linePrefix",a+1):f)(y)}function f(y){return y===null?v(y):yo(y)?e.attempt(Uv,m,v)(y):(e.enter("mathFlowValue"),x(y))}function x(y){return y===null||yo(y)?(e.exit("mathFlowValue"),f(y)):(e.consume(y),x)}function v(y){return e.exit("mathFlow"),t(y)}function N(y,w,b){let k=0;return bl(y,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function _(S){return y.enter("mathFlowFence"),y.enter("mathFlowFenceSequence"),j(S)}function j(S){return S===36?(k++,y.consume(S),j):k<i?b(S):(y.exit("mathFlowFenceSequence"),bl(y,T,"whitespace")(S))}function T(S){return S===null||yo(S)?(y.exit("mathFlowFence"),w(S)):b(S)}}}function G5(e,t,r){const n=this;return o;function o(i){return i===null?t(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a)}function a(i){return n.parser.lazy[n.now().line]?r(i):t(i)}}function Q5(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:Y5,previous:X5,name:"mathText"};function n(o,a,i){let c=0,l,d;return u;function u(x){return o.enter("mathText"),o.enter("mathTextSequence"),p(x)}function p(x){return x===36?(o.consume(x),c++,p):c<2&&!r?i(x):(o.exit("mathTextSequence"),m(x))}function m(x){return x===null?i(x):x===36?(d=o.enter("mathTextSequence"),l=0,f(x)):x===32?(o.enter("space"),o.consume(x),o.exit("space"),m):yo(x)?(o.enter("lineEnding"),o.consume(x),o.exit("lineEnding"),m):(o.enter("mathTextData"),g(x))}function g(x){return x===null||x===32||x===36||yo(x)?(o.exit("mathTextData"),m(x)):(o.consume(x),g)}function f(x){return x===36?(o.consume(x),l++,f):l===c?(o.exit("mathTextSequence"),o.exit("mathText"),a(x)):(d.type="mathTextData",g(x))}}}function Y5(e){let t=e.length-4,r=3,n,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="mathTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function X5(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function J5(e){return{flow:{36:H5},text:{36:Q5(e)}}}const Z5={};function e3(e){const t=this,r=e||Z5,n=t.data(),o=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);o.push(J5(r)),a.push(W5()),i.push($5(r))}class cf{static applyDeterministicFixes(t){return t.replace(/--&gt;/g,"-->").replace(/```mermaid/,"")}static async validateSyntax(t){try{return await(await Pj(async()=>{const{default:n}=await import("./mermaid-bundle.js").then(o=>o.n);return{default:n}},[])).default.parse(t),{isValid:!0}}catch(r){return{isValid:!1,error:r instanceof Error?r.message:Re.t("common:mermaid.errors.unknown_syntax")}}}static requestLLMFix(t,r){return new Promise((n,o)=>{const a=`mermaid-fix-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,i=setTimeout(()=>{l(),n({requestError:Re.t("common:mermaid.errors.fix_timeout")})},this.FIX_TIMEOUT),c=d=>{const u=d.data;u.type==="mermaidFixResponse"&&u.requestId===a&&(l(),u.success?n({fixedCode:u.fixedCode}):n({requestError:u.error||Re.t("common:mermaid.errors.fix_request_failed")}))},l=()=>{clearTimeout(i),window.removeEventListener("message",c)};window.addEventListener("message",c),A.postMessage({type:"fixMermaidSyntax",requestId:a,text:t,values:{error:r}})})}static async autoFixSyntax(t){let r=t,n=0,o;for(;;){console.info("attempt ",n),r=this.applyDeterministicFixes(r);const a=await this.validateSyntax(r);if(a.isValid)return{success:!0,fixedCode:r,attempts:n};const i=a.error||Re.t("common:mermaid.errors.unknown_syntax");if(n>=this.MAX_FIX_ATTEMPTS){o=Re.t("common:mermaid.errors.fix_attempts",{attempts:this.MAX_FIX_ATTEMPTS,error:i});break}n++;const c=await this.requestLLMFix(r,i);if("requestError"in c){o=c.requestError;break}else if(c.fixedCode)r=c.fixedCode;else{o=Re.t("common:mermaid.errors.no_fix_provided");break}}return o&&console.info(o),{success:!1,fixedCode:r,error:o,attempts:n}}}jt(cf,"MAX_FIX_ATTEMPTS",2),jt(cf,"FIX_TIMEOUT",3e4);function Os({icon:e,onClick:t,onMouseDown:r,onMouseUp:n,onMouseLeave:o,title:a,size:i="medium",variant:c="default"}){const l={small:"w-6 h-6",medium:"w-7 h-7"},d={default:"bg-transparent hover:bg-vscode-toolbar-hoverBackground",transparent:"bg-transparent hover:bg-vscode-toolbar-hoverBackground"},u=t||(m=>{}),p=s.jsx("button",{className:`${l[i]} flex items-center justify-center border-none text-vscode-editor-foreground cursor-pointer rounded-[3px] ${d[c]}`,"aria-label":a,onClick:u,onMouseDown:r,onMouseUp:n,onMouseLeave:o,children:s.jsx("span",{className:`codicon codicon-${e}`})});return a?s.jsx(de,{content:a,children:p}):p}function Xg({zoomLevel:e,zoomInTitle:t,zoomOutTitle:r,useContinuousZoom:n=!1,adjustZoom:o,zoomInStep:a=.1,zoomOutStep:i=-.1,onZoomIn:c,onZoomOut:l}){const d=h.useRef(null),u=m=>{!n||!o||(d.current&&clearInterval(d.current),o(m),d.current=setInterval(()=>{o(m)},150))},p=()=>{d.current&&(clearInterval(d.current),d.current=null)};return h.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{content:r,children:s.jsx(Os,{icon:"zoom-out",onClick:n?void 0:l||(()=>o==null?void 0:o(i)),onMouseDown:n&&o?()=>u(i):void 0,onMouseUp:n&&o?p:void 0,onMouseLeave:n&&o?p:void 0})}),s.jsxs("div",{className:"text-sm text-vscode-editor-foreground min-w-[50px] text-center",children:[Math.round(e*100),"%"]}),s.jsx(de,{content:t,children:s.jsx(Os,{icon:"zoom-in",onClick:n?void 0:c||(()=>o==null?void 0:o(a)),onMouseDown:n&&o?()=>u(a):void 0,onMouseUp:n&&o?p:void 0,onMouseLeave:n&&o?p:void 0})})]})}const oN=({onZoom:e,onZoomIn:t,onZoomOut:r,onCopy:n,onSave:o,onViewCode:a,onClose:i,copyFeedback:c,showZoomControls:l=!1,zoomLevel:d})=>{const{t:u}=oe();return l&&r&&t&&d!==void 0?s.jsxs(s.Fragment,{children:[s.jsx(Xg,{zoomLevel:d,onZoomIn:t,onZoomOut:r,zoomInTitle:u("common:mermaid.buttons.zoomIn"),zoomOutTitle:u("common:mermaid.buttons.zoomOut")}),s.jsx(de,{content:u("common:mermaid.buttons.viewCode"),children:s.jsx(Os,{icon:"code",onClick:p=>{p.stopPropagation(),a()}})}),s.jsx(de,{content:u("common:mermaid.buttons.copy"),children:s.jsx(Os,{icon:c?"check":"copy",onClick:n})})]}):s.jsxs(s.Fragment,{children:[e&&s.jsx(de,{content:u("common:mermaid.buttons.zoom"),children:s.jsx(Os,{icon:"zoom-in",onClick:e})}),s.jsx(de,{content:u("common:mermaid.buttons.viewCode"),children:s.jsx(Os,{icon:"code",onClick:p=>{p.stopPropagation(),a()}})}),s.jsx(de,{content:u("common:mermaid.buttons.copy"),children:s.jsx(Os,{icon:c?"check":"copy",onClick:n})}),o&&s.jsx(de,{content:u("common:mermaid.buttons.save"),children:s.jsx(Os,{icon:"save",onClick:o})}),i&&s.jsx(de,{content:u("common:mermaid.buttons.close"),children:s.jsx(Os,{icon:"close",onClick:i})})]})};function aN({isOpen:e,onClose:t,children:r,className:n=""}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[1000]",onClick:t,children:s.jsx("div",{className:`bg-vscode-editor-background rounded w-[90%] h-[90%] max-w-[1200px] flex flex-col shadow-[0_5px_15px_rgba(0,0,0,0.5)] border border-vscode-editorGroup-border relative ${n}`,onClick:o=>o.stopPropagation(),children:r})}):null}function df({icon:e,label:t,isActive:r,onClick:n}){return s.jsxs("button",{className:`px-4 py-2 border-none cursor-pointer flex items-center gap-1.5 text-[13px] transition-all duration-200 ease-in-out ${r?"bg-vscode-editor-background border-b-2 border-vscode-focusBorder text-vscode-editor-foreground":"bg-transparent border-b-2 border-transparent text-vscode-descriptionForeground hover:text-vscode-editor-foreground hover:bg-vscode-toolbar-hoverBackground"}`,onClick:n,children:[s.jsx("span",{className:`codicon codicon-${e} text-sm`,style:r?{color:"var(--vscode-focusBorder)"}:void 0}),t]})}const t3=.5,s3=20;function r3({containerRef:e,code:t,isLoading:r,svgToPng:n,children:o}){const[a,i]=h.useState(!1),[c,l]=h.useState(1),[d,u]=h.useState(!1),[p,m]=h.useState(!1),[g,f]=h.useState("diagram"),[x,v]=h.useState(!1),[N,y]=h.useState({x:0,y:0}),{copyWithFeedback:w}=Va(),{t:b}=oe(),k=async M=>{M.stopPropagation(),i(!0),l(1),f("diagram")},_=async M=>{M.stopPropagation();try{await w(t,M),u(!0),setTimeout(()=>u(!1),2e3)}catch(R){console.error("Error copying text:",R instanceof Error?R.message:String(R))}},j=async M=>{var C;M.stopPropagation();const R=(C=e.current)==null?void 0:C.querySelector("svg");if(!R){console.error("SVG element not found");return}try{const q=await n(R);A.postMessage({type:"saveImage",dataUri:q})}catch(q){console.error("Error saving image:",q)}},T=M=>{l(R=>{const C=R+M;return Math.max(t3,Math.min(s3,C))})},S=h.useCallback(M=>{M.preventDefault(),M.stopPropagation();const R=M.deltaY>0?-.2:.2;T(R)},[]),I=()=>{m(!0)},E=()=>{m(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative w-full",onMouseEnter:I,onMouseLeave:E,children:[o,!r&&p&&s.jsx("div",{className:"absolute bottom-2 right-2 flex gap-1 bg-vscode-editor-background/90 rounded p-0.5 z-10 opacity-100 transition-opacity duration-200 ease-in-out",children:s.jsx(oN,{onZoom:k,onCopy:_,onSave:j,onViewCode:()=>{i(!0),f("code"),l(1)},copyFeedback:d})})]}),s.jsxs(aN,{isOpen:a,onClose:()=>i(!1),children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-vscode-editorGroup-border",children:[s.jsxs("div",{className:"flex gap-0",children:[s.jsx(df,{icon:"graph",label:b("common:mermaid.tabs.diagram"),isActive:g==="diagram",onClick:()=>f("diagram")}),s.jsx(df,{icon:"code",label:b("common:mermaid.tabs.code"),isActive:g==="code",onClick:()=>f("code")})]}),s.jsx("div",{className:"pr-3",children:s.jsx(de,{content:b("common:mermaid.buttons.close"),children:s.jsx(Os,{icon:"close",onClick:()=>i(!1)})})})]}),s.jsx("div",{className:"flex-1 p-4 pb-[60px] overflow-auto flex items-center justify-center",onWheel:g==="diagram"?S:void 0,children:g==="diagram"?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{transform:`scale(${c}) translate(${N.x}px, ${N.y}px)`,transformOrigin:"center center",transition:x?"none":"transform 0.1s ease",cursor:x?"grabbing":"grab"},onMouseDown:M=>{v(!0),M.preventDefault()},onMouseMove:M=>{x&&y(R=>({x:R.x+M.movementX/c,y:R.y+M.movementY/c}))},onMouseUp:()=>v(!1),onMouseLeave:()=>v(!1),children:e.current&&e.current.innerHTML&&s.jsx("div",{dangerouslySetInnerHTML:{__html:e.current.innerHTML}})}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-vscode-editor-background border border-vscode-editorGroup-border rounded px-2 py-1 text-xs text-vscode-descriptionForeground pointer-events-none opacity-80",children:[Math.round(c*100),"%"]})]}):s.jsx("textarea",{className:"w-full min-h-[200px] bg-vscode-editor-background text-vscode-editor-foreground border border-vscode-editorGroup-border rounded-[3px] p-2 font-mono resize-y outline-none",readOnly:!0,value:t,style:{height:"100%",minHeight:"unset",fontSize:"var(--vscode-editor-font-size)"}})}),s.jsx("div",{className:"absolute bottom-0 right-0 left-0 p-3 flex items-center justify-end gap-2 bg-vscode-editor-background border-t border-vscode-editorGroup-border rounded-b",children:g==="diagram"?s.jsxs(s.Fragment,{children:[s.jsx(Xg,{zoomLevel:c,zoomInTitle:b("common:mermaid.buttons.zoomIn"),zoomOutTitle:b("common:mermaid.buttons.zoomOut"),useContinuousZoom:!0,adjustZoom:T,zoomInStep:.2,zoomOutStep:-.2}),s.jsx(de,{content:b("common:mermaid.buttons.copy"),children:s.jsx(Os,{icon:d?"check":"copy",onClick:_})}),s.jsx(de,{content:b("common:mermaid.buttons.save"),children:s.jsx(Os,{icon:"save",onClick:j})})]}):s.jsx(de,{content:b("common:mermaid.buttons.copy"),children:s.jsx(Os,{icon:d?"check":"copy",onClick:M=>{M.stopPropagation(),w(t,M)}})})})]})]})}const n3=Hs.button`
	padding: 3px;
	height: 24px;
	margin-right: 4px;
	color: var(--vscode-editor-foreground);
	display: flex;
	align-items: center;
	justify-content: center;
	background: transparent;
	border: none;
	cursor: pointer;

	&:hover {
		opacity: 0.8;
		color: var(--vscode-button-foreground);
		background: var(--vscode-button-hoverBackground);
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
	}

	.codicon-loading {
		animation: spin 1s linear infinite;
	}

	@keyframes spin {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}
`,iN={background:"#1e1e1e",textColor:"#ffffff",mainBkg:"#2d2d2d",nodeBorder:"#888888",lineColor:"#cccccc",primaryColor:"#3c3c3c",primaryTextColor:"#ffffff",primaryBorderColor:"#888888",secondaryColor:"#2d2d2d",tertiaryColor:"#454545",classText:"#ffffff",labelColor:"#ffffff",actorLineColor:"#cccccc",actorBkg:"#2d2d2d",actorBorder:"#888888",actorTextColor:"#ffffff",fillType0:"#2d2d2d",fillType1:"#3c3c3c",fillType2:"#454545"};Nh.initialize({startOnLoad:!1,securityLevel:"loose",theme:"dark",suppressErrorRendering:!0,themeVariables:{...iN,fontSize:"16px",fontFamily:"var(--vscode-font-family, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif)",noteTextColor:"#ffffff",noteBkgColor:"#454545",noteBorderColor:"#888888",critBorderColor:"#ff9580",critBkgColor:"#803d36",taskTextColor:"#ffffff",taskTextOutsideColor:"#ffffff",taskTextLightColor:"#ffffff",sectionBkgColor:"#2d2d2d",sectionBkgColor2:"#3c3c3c",altBackground:"#2d2d2d",linkColor:"#6cb6ff",compositeBackground:"#2d2d2d",compositeBorder:"#888888",titleColor:"#ffffff"}});function o3({code:e}){const t=h.useRef(null),[r,n]=h.useState(!1),[o,a]=h.useState(null),[i,c]=h.useState(!1),[l,d]=h.useState(""),[u,p]=h.useState(!1),[m,g]=h.useState(""),{showCopyFeedback:f,copyWithFeedback:x}=Va(),{t:v}=oe();h.useEffect(()=>{n(!0),a(null),g(e),p(!1)},[e]);const N=async()=>{if(u)return;n(!0),p(!0);const w=await cf.autoFixSyntax(m);w.fixedCode&&g(w.fixedCode),w.success||a(w.error||v("common:mermaid.errors.fix_failed")),p(!1),n(!1)};a1(()=>{u||(n(!0),Nh.parse(m).then(()=>{const w=`mermaid-${Math.random().toString(36).substring(2)}`;return Nh.render(w,m)}).then(({svg:w})=>{a(null),d(w)}).catch(w=>{console.warn("Mermaid parse/render failed:",w);const b=w instanceof Error?w.message:v("common:mermaid.render_error");a(b)}).finally(()=>{n(!1)}))},500,[m,u,e,v]);const y=async()=>{if(!t.current)return;const w=t.current.querySelector("svg");if(w)try{const b=await Kv(w);A.postMessage({type:"openImage",text:b})}catch(b){console.error("Error converting SVG to PNG:",b)}};return s.jsxs(a3,{children:[r&&s.jsx(i3,{children:v(u?"common:mermaid.fixing_syntax":"common:mermaid.loading")}),o?s.jsxs("div",{style:{marginTop:"0px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{borderBottom:i?"1px solid var(--vscode-editorGroup-border)":"none",fontWeight:"normal",fontSize:"var(--vscode-font-size)",color:"var(--vscode-editor-foreground)",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},onClick:()=>c(!i),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexGrow:1},children:[s.jsx("span",{className:"codicon codicon-warning",style:{color:"var(--vscode-editorWarning-foreground)",opacity:.8,fontSize:16,marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:v("common:mermaid.render_error")})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!!o&&s.jsx(n3,{onClick:w=>{w.stopPropagation(),N()},disabled:u,title:v("common:mermaid.fix_syntax_button"),children:s.jsx("span",{className:`codicon codicon-${u?"loading":"wand"}`})}),s.jsx(l3,{onClick:w=>{w.stopPropagation();const b=`Error: ${o}

\`\`\`mermaid
${m}
\`\`\``;x(b,w)},children:s.jsx("span",{className:`codicon codicon-${f?"check":"copy"}`})}),s.jsx("span",{className:`codicon codicon-chevron-${i?"up":"down"}`})]})]}),i&&s.jsxs("div",{style:{padding:"8px",backgroundColor:"var(--vscode-editor-background)",borderTop:"none"},children:[s.jsx("div",{style:{marginBottom:"8px",color:"var(--vscode-descriptionForeground)"},children:o}),s.jsx(In,{language:"mermaid",source:m}),m!==e&&s.jsxs("div",{style:{marginTop:"8px"},children:[s.jsx("div",{style:{marginBottom:"4px",fontSize:"0.9em",fontWeight:"bold"},children:v("common:mermaid.original_code")}),s.jsx(In,{language:"mermaid",source:e})]})]})]}):s.jsx(r3,{containerRef:t,code:m,isLoading:r,svgToPng:Kv,children:s.jsx(c3,{onClick:y,ref:t,$isLoading:r,dangerouslySetInnerHTML:{__html:l}})})]})}async function Kv(e){var m;const t=e.cloneNode(!0),r=((m=t.getAttribute("viewBox"))==null?void 0:m.split(" ").map(Number))||[],n=r[2]||t.clientWidth,o=r[3]||t.clientHeight,a=3600,i=a/n,c=o*i;t.setAttribute("width",`${a}`),t.setAttribute("height",`${c}`);const d=new XMLSerializer().serializeToString(t),p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(d).replace(/'/g,"%27").replace(/"/g,"%22")}`;return new Promise((g,f)=>{const x=new Image;x.onload=()=>{const v=document.createElement("canvas");v.width=a,v.height=c;const N=v.getContext("2d");if(!N)return f("Canvas context not available");N.fillStyle=iN.background,N.fillRect(0,0,v.width,v.height),N.imageSmoothingEnabled=!0,N.imageSmoothingQuality="high",N.drawImage(x,0,0,a,c),g(v.toDataURL("image/png",1))},x.onerror=f,x.src=p})}const a3=Hs.div`
	position: relative;
	margin: 8px 0;
`,i3=Hs.div`
	padding: 8px 0;
	color: var(--vscode-descriptionForeground);
	font-style: italic;
	font-size: 0.9em;
`,l3=Hs.button`
	padding: 3px;
	height: 24px;
	margin-right: 4px;
	color: var(--vscode-editor-foreground);
	display: flex;
	align-items: center;
	justify-content: center;
	background: transparent;
	border: none;
	cursor: pointer;

	&:hover {
		opacity: 0.8;
	}
`,c3=Hs.div`
	opacity: ${e=>e.$isLoading?.3:1};
	min-height: 20px;
	transition: opacity 0.2s ease;
	cursor: pointer;
	display: flex;
	justify-content: center;
	max-height: 400px;

	/* Ensure the SVG scales within the container */
	& > svg {
		display: block; /* Ensure block layout */
		width: 100%;
		max-height: 100%; /* Respect container's max-height */
	}
`,d3=Hs.div`
	* {
		font-weight: 400;
	}

	strong {
		font-weight: 600;
	}

	code:not(pre > code) {
		font-family: var(--vscode-editor-font-family, monospace);
		font-size: 0.85em;
		filter: saturation(110%) brightness(95%);
		color: var(--vscode-textPreformat-foreground) !important;
		background-color: var(--vscode-textPreformat-background) !important;
		padding: 1px 2px;
		white-space: pre-line;
		word-break: break-word;
		overflow-wrap: anywhere;
	}

	/* Target only high-contrast theme(s) using the data attribute VS Code adds to the body */
	body[data-vscode-theme-kind*="high-contrast"] & code:not(pre > code) {
		color: var(
			--vscode-editorInlayHint-foreground,
			var(--vscode-symbolIcon-stringForeground, var(--vscode-charts-orange, #e9a700))
		);
	}

	/* KaTeX styling */
	.katex {
		font-size: 1.1em;
		color: var(--vscode-editor-foreground);
		font-family: KaTeX_Main, "Times New Roman", serif;
		line-height: 1.2;
		white-space: normal;
		text-indent: 0;
	}

	.katex-display {
		display: block;
		margin: 1em 0;
		text-align: center;
		padding: 0.5em;
		overflow-x: auto;
		overflow-y: hidden;
		background-color: var(--vscode-textCodeBlock-background);
		border-radius: 3px;
	}

	.katex-error {
		color: var(--vscode-errorForeground);
	}

	font-family:
		var(--vscode-font-family),
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		"Open Sans",
		"Helvetica Neue",
		sans-serif;

	font-size: var(--vscode-font-size, 13px);

	p,
	li,
	ol,
	ul {
		line-height: 1.35em;
	}

	li {
		margin: 0.5em 0;
	}

	ol,
	ul {
		padding-left: 2em;
		margin-left: 0;
	}

	ol {
		list-style-type: decimal;
	}

	ul {
		list-style-type: disc;
	}

	ol ol {
		list-style-type: lower-alpha;
	}

	ol ol ol {
		list-style-type: lower-roman;
	}

	p {
		white-space: pre-wrap;
		margin: 1em 0 0.25em;
	}

	/* Prevent layout shifts during streaming */
	pre {
		min-height: 3em;
		transition: height 0.2s ease-out;
	}

	/* Code block container styling */
	div:has(> pre) {
		position: relative;
		contain: layout style;
		padding: 0.5em 1em;
	}

	a {
		color: var(--vscode-textLink-foreground);
		text-decoration: none;
		text-decoration-color: var(--vscode-textLink-foreground);
		&:hover {
			color: var(--vscode-textLink-activeForeground);
			text-decoration: underline;
		}
	}

	h1 {
		font-size: 1.65em;
		font-weight: 700;
		margin: 1.35em 0 0.5em;
	}

	h2 {
		font-size: 1.35em;
		font-weight: 500;
		margin: 1.35em 0 0.5em;
	}

	h3 {
		font-size: 1.2em;
		font-weight: 500;
	}

	/* Table styles for remark-gfm */
	table {
		border-collapse: collapse;
		margin: 1em 0;
		width: auto;
		min-width: 50%;
		max-width: 100%;
		table-layout: fixed;
	}

	/* Table wrapper for horizontal scrolling */
	.table-wrapper {
		overflow-x: auto;
		margin: 1em 0;
	}

	th,
	td {
		border: 1px solid var(--vscode-panel-border);
		padding: 8px 12px;
		text-align: left;
		word-wrap: break-word;
		overflow-wrap: break-word;
	}

	th {
		background-color: var(--vscode-editor-background);
		font-weight: 600;
		color: var(--vscode-foreground);
	}

	tr:nth-child(even) {
		background-color: var(--vscode-editor-inactiveSelectionBackground);
	}

	tr:hover {
		background-color: var(--vscode-list-hoverBackground);
	}
`,pr=h.memo(({markdown:e})=>{const t=h.useMemo(()=>({table:({children:r,...n})=>s.jsx("div",{className:"table-wrapper",children:s.jsx("table",{...n,children:r})}),a:({href:r,children:n,...o})=>{const a=i=>{if(!((r==null?void 0:r.startsWith("file://"))||(r==null?void 0:r.startsWith("/"))||!(r!=null&&r.includes("://"))))return;i.preventDefault();let l=r.replace("file://","");const d=l.match(/(.*):(\d+)(-\d+)?$/);let u;d&&(l=d[1],u={line:parseInt(d[2])}),!l.startsWith("/")&&!l.startsWith("./")&&(l="./"+l),A.postMessage({type:"openFile",text:l,values:u})};return s.jsx("a",{...o,href:r,onClick:a,children:n})},pre:({children:r,...n})=>{const o=r;if(!o||!o.props)return s.jsx("pre",{children:r});const{className:a="",children:i}=o.props;let c="";if(typeof i=="string"?c=i:Array.isArray(i)&&(c=i.filter(u=>typeof u=="string").join("")),a.includes("language-mermaid"))return s.jsx("div",{style:{margin:"1em 0"},children:s.jsx(o3,{code:c})});const l=/language-(\w+)/.exec(a),d=l?l[1]:"text";return s.jsx("div",{style:{margin:"1em 0"},children:s.jsx(In,{source:c,language:d})})},code:({children:r,className:n,...o})=>s.jsx("code",{className:n,...o,children:r})}),[]);return s.jsx(d3,{children:s.jsx(bI,{remarkPlugins:[yI,e3,()=>r=>{wI(r,"code",n=>{n.lang?n.lang.includes(".")&&(n.lang=n.lang.split(".").slice(-1)[0]):n.lang="text"})}],rehypePlugins:[K5],components:t,children:e||""})})}),u3=[{value:"",label:"Not Started",color:"var(--vscode-foreground)",border:"#bbb",bg:"transparent"},{value:"in_progress",label:"In Progress",color:"var(--vscode-charts-yellow)",border:"var(--vscode-charts-yellow)",bg:"rgba(255, 221, 51, 0.15)"},{value:"completed",label:"Completed",color:"var(--vscode-charts-green)",border:"var(--vscode-charts-green)",bg:"var(--vscode-charts-green)"}],Wd=()=>Math.random().toString(36).slice(2,10),p3=({todos:e=[],content:t,onChange:r,editable:n=!0,userEdited:o=!1})=>{const[a,i]=h.useState(e.length>0?e.map(j=>({...j,id:j.id||Wd()})):[]),[c,l]=h.useState(!1),[d,u]=h.useState(""),p=h.useRef(null),[m,g]=h.useState(null),[f,x]=h.useState(!1);h.useEffect(()=>{!n&&f&&x(!1)},[n,f]),h.useEffect(()=>{typeof r!="function"&&console.warn("UpdateTodoListToolBlock: onChange callback not passed, cannot notify model after todo changes!")},[]),h.useEffect(()=>{i(e.length>0?e.map(j=>({...j,id:j.id||Wd()})):[])},[e]),h.useEffect(()=>{c&&p.current&&p.current.focus()},[c]);const v=(j,T)=>{const S=a.map(I=>I.id===j?{...I,content:T}:I);i(S),r==null||r(S)},N=(j,T)=>{const S=a.map(I=>I.id===j?{...I,status:T}:I);i(S),r==null||r(S)},y=j=>{g(j)},w=()=>{if(!m)return;const j=a.filter(T=>T.id!==m);i(j),r==null||r(j),g(null)},b=()=>g(null),k=()=>{if(!d.trim())return;const j={id:Wd(),content:d.trim(),status:""},T=[...a,j];i(T),r==null||r(T),u(""),l(!1)},_=j=>{j.key==="Enter"?k():j.key==="Escape"&&(l(!1),u(""))};return o?s.jsxs(so,{children:[s.jsx(ro,{children:s.jsxs("div",{className:"flex items-center w-full",style:{width:"100%"},children:[s.jsx("span",{className:"codicon codicon-feedback mr-1.5",style:{color:"var(--vscode-charts-yellow)"}}),s.jsx("span",{className:"font-bold mr-2",style:{fontWeight:"bold"},children:"User Edit"}),s.jsx("div",{className:"flex-grow"})]})}),s.jsx("div",{className:"overflow-x-auto max-w-full",style:{padding:"12px 0 8px 0"},children:s.jsx("span",{className:"text-vscode-descriptionForeground",children:"User Edits"})})]}):s.jsx(s.Fragment,{children:s.jsxs(so,{children:[s.jsx(ro,{children:s.jsxs("div",{className:"flex items-center w-full",style:{width:"100%"},children:[s.jsx("span",{className:"codicon codicon-checklist mr-1.5",style:{color:"var(--vscode-foreground)"}}),s.jsx("span",{className:"font-bold mr-2",style:{fontWeight:"bold"},children:"Todo List Updated"}),s.jsx("div",{className:"flex-grow"}),n&&s.jsx("button",{onClick:()=>x(!f),style:{border:f?"1px solid var(--vscode-button-border)":"1px solid var(--vscode-button-secondaryBorder)",background:f?"var(--vscode-button-background)":"var(--vscode-button-secondaryBackground)",color:f?"var(--vscode-button-foreground)":"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:13,marginLeft:8},children:f?"Done":"Edit"})]})}),s.jsx("div",{className:"overflow-x-auto max-w-full",style:{padding:"6px 0 2px 0"},children:Array.isArray(a)&&a.length>0?s.jsxs("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[a.map((j,T)=>{let S;return j.status==="completed"?S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:"var(--vscode-charts-green)",marginRight:6,marginTop:7,flexShrink:0}}):j.status==="in_progress"?S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:"var(--vscode-charts-yellow)",marginRight:6,marginTop:7,flexShrink:0}}):S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",border:"1px solid var(--vscode-descriptionForeground)",background:"transparent",marginRight:6,marginTop:7,flexShrink:0}}),s.jsxs("li",{style:{marginBottom:2,display:"flex",alignItems:"flex-start",minHeight:20},children:[S,f?s.jsx("input",{type:"text",value:j.content,placeholder:"Enter todo item",onChange:I=>v(j.id,I.target.value),style:{flex:1,minWidth:0,fontWeight:500,color:"var(--vscode-input-foreground)",background:"var(--vscode-input-background)",border:"none",outline:"none",fontSize:13,marginRight:6,padding:"1px 3px",borderBottom:"1px solid var(--vscode-input-border)"},onBlur:I=>{I.target.value.trim()||y(j.id)}}):s.jsx("span",{style:{flex:1,minWidth:0,fontWeight:500,color:j.status==="completed"?"var(--vscode-charts-green)":j.status==="in_progress"?"var(--vscode-charts-yellow)":"var(--vscode-foreground)",fontSize:13,marginRight:6,padding:"1px 3px",lineHeight:"1.4"},children:j.content}),f&&s.jsx("select",{value:j.status||"",onChange:I=>N(j.id,I.target.value),style:{marginRight:6,borderRadius:4,border:"1px solid var(--vscode-input-border)",background:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",fontSize:12,padding:"1px 4px"},children:u3.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))}),f&&s.jsx("button",{onClick:()=>y(j.id),style:{border:"none",background:"transparent",color:"#f14c4c",cursor:"pointer",fontSize:14,marginLeft:2,padding:0,lineHeight:1},title:"Remove",children:""})]},j.id||T)}),c?s.jsxs("li",{style:{marginTop:2,display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{width:14,marginRight:6}}),s.jsx("input",{ref:p,type:"text",value:d,placeholder:"Enter todo item, press Enter to add",onChange:j=>u(j.target.value),onKeyDown:_,style:{flex:1,minWidth:0,fontWeight:500,color:"var(--vscode-foreground)",background:"transparent",border:"none",outline:"none",fontSize:13,marginRight:6,padding:"1px 3px",borderBottom:"1px solid #eee"}}),s.jsx("button",{onClick:k,disabled:!d.trim(),style:{border:"1px solid var(--vscode-button-border)",background:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",borderRadius:4,padding:"1px 7px",cursor:d.trim()?"pointer":"not-allowed",fontSize:12,marginRight:4},children:"Add"}),s.jsx("button",{onClick:()=>{l(!1),u("")},style:{border:"1px solid var(--vscode-button-secondaryBorder)",background:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"1px 7px",cursor:"pointer",fontSize:12},children:"Cancel"})]}):s.jsx("li",{style:{marginTop:2},children:f&&s.jsx("button",{onClick:()=>l(!0),style:{border:"1px dashed var(--vscode-button-secondaryBorder)",background:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"1px 8px",cursor:"pointer",fontSize:12},children:"+ Add Todo"})})]}):s.jsx(pr,{markdown:t})}),m&&s.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,background:"rgba(0,0,0,0.15)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:b,children:s.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.15)",padding:"16px 20px",minWidth:200,zIndex:1e4},onClick:j=>j.stopPropagation(),children:[s.jsx("div",{style:{marginBottom:12,fontSize:14,color:"#333"},children:"Are you sure you want to delete this todo item?"}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[s.jsx("button",{onClick:b,style:{border:"1px solid #bbb",background:"transparent",color:"#888",borderRadius:4,padding:"2px 10px",cursor:"pointer",fontSize:12},children:"Cancel"}),s.jsx("button",{onClick:w,style:{border:"1px solid #f14c4c",background:"#f14c4c",color:"#fff",borderRadius:4,padding:"2px 10px",cursor:"pointer",fontSize:12},children:"Delete"})]})]})})]})})};function m3(e){switch(e){case"completed":return s.jsx(Nr,{className:"size-3 mt-1 shrink-0"});case"in_progress":return s.jsx(Bf,{className:"size-3 mt-1 shrink-0"});default:return s.jsx(r_,{className:"size-3 mt-1 shrink-0"})}}function h3({previousTodos:e,newTodos:t}){const r=e.length===0;let n;return r&&t.length>0?n=t:n=t.filter(o=>{if(o.status==="completed"){const a=e.find(i=>i.id===o.id||i.content===o.content);return!a||a.status!=="completed"}if(o.status==="in_progress"){const a=e.find(i=>i.id===o.id||i.content===o.content);return!a||a.status!=="in_progress"}return!1}),n.length===0?null:s.jsxs("div",{"data-todo-changes":!0,className:"overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z1,{className:"size-4 shrink-0"}),s.jsx("span",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap text-base font-semibold",children:br("chat:todo.updated")})]}),s.jsx("div",{className:"pl-1 pr-1 pt-1 font-light leading-normal",children:s.jsx("ul",{className:"list-none space-y-1 my-1",children:n.map(o=>{const a=o.status||"pending",i=m3(a);return s.jsxs("li",{className:`flex flex-row gap-2 items-start ${a==="in_progress"?"text-vscode-charts-yellow":""}`,children:[i,s.jsx("span",{children:o.content})]},o.id||o.content)})})})]})}const f3={html:"html",htm:"html",css:"css",js:"javascript",jsx:"jsx",ts:"typescript",tsx:"tsx",py:"python",rb:"ruby",php:"php",java:"java",cs:"csharp",go:"go",rs:"rust",scala:"scala",kt:"kotlin",swift:"swift",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",csv:"csv",sh:"bash",bash:"bash",zsh:"bash",ps1:"powershell",toml:"toml",ini:"ini",cfg:"ini",conf:"ini",sql:"sql",graphql:"graphql",gql:"graphql",tex:"latex",svg:"svg",txt:"text",c:"c",cpp:"cpp",h:"c",hpp:"cpp",hs:"haskell",lhs:"haskell",elm:"elm",clj:"clojure",cljs:"clojure",erl:"erlang",ex:"elixir",exs:"elixir",dart:"dart",m:"objectivec",mm:"objectivec",lua:"lua",gd:"gdscript",unity:"csharp",r:"r",jl:"julia",ipynb:"jupyter"};function lN(e){var r;const t=((r=e.split(".").pop())==null?void 0:r.toLowerCase())||"";return f3[t]}function kc({content:e,children:t,side:r="top",align:n="start",sideOffset:o=4,asChild:a=!0}){return s.jsx(de,{content:e,side:r,align:n,sideOffset:o,className:"[text-wrap:wrap]",maxWidth:"min(300px,100vw)",asChild:a,children:t})}function po(){}po.prototype={diff:function(t,r){var n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.callback;typeof o=="function"&&(a=o,o={}),this.options=o;var i=this;function c(b){return a?(setTimeout(function(){a(void 0,b)},0),!0):b}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var l=r.length,d=t.length,u=1,p=l+d;o.maxEditLength&&(p=Math.min(p,o.maxEditLength));var m=(n=o.timeout)!==null&&n!==void 0?n:1/0,g=Date.now()+m,f=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(f[0],r,t,0);if(f[0].oldPos+1>=d&&x+1>=l)return c([{value:this.join(r),count:r.length}]);var v=-1/0,N=1/0;function y(){for(var b=Math.max(v,-u);b<=Math.min(N,u);b+=2){var k=void 0,_=f[b-1],j=f[b+1];_&&(f[b-1]=void 0);var T=!1;if(j){var S=j.oldPos-b;T=j&&0<=S&&S<l}var I=_&&_.oldPos+1<d;if(!T&&!I){f[b]=void 0;continue}if(!I||T&&_.oldPos+1<j.oldPos?k=i.addToPath(j,!0,void 0,0):k=i.addToPath(_,void 0,!0,1),x=i.extractCommon(k,r,t,b),k.oldPos+1>=d&&x+1>=l)return c(g3(i,k.lastComponent,r,t,i.useLongestToken));f[b]=k,k.oldPos+1>=d&&(N=Math.min(N,b-1)),x+1>=l&&(v=Math.max(v,b+1))}u++}if(a)(function b(){setTimeout(function(){if(u>p||Date.now()>g)return a();y()||b()},0)})();else for(;u<=p&&Date.now()<=g;){var w=y();if(w)return w}},addToPath:function(t,r,n,o){var a=t.lastComponent;return a&&a.added===r&&a.removed===n?{oldPos:t.oldPos+o,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+o,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},extractCommon:function(t,r,n,o){for(var a=r.length,i=n.length,c=t.oldPos,l=c-o,d=0;l+1<a&&c+1<i&&this.equals(r[l+1],n[c+1]);)l++,c++,d++;return d&&(t.lastComponent={count:d,previousComponent:t.lastComponent}),t.oldPos=c,l},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function g3(e,t,r,n,o){for(var a=[],i;t;)a.push(t),i=t.previousComponent,delete t.previousComponent,t=i;a.reverse();for(var c=0,l=a.length,d=0,u=0;c<l;c++){var p=a[c];if(p.removed){if(p.value=e.join(n.slice(u,u+p.count)),u+=p.count,c&&a[c-1].added){var g=a[c-1];a[c-1]=a[c],a[c]=g}}else{if(!p.added&&o){var m=r.slice(d,d+p.count);m=m.map(function(x,v){var N=n[u+v];return N.length>x.length?N:x}),p.value=e.join(m)}else p.value=e.join(r.slice(d,d+p.count));d+=p.count,p.added||(u+=p.count)}}var f=a[l-1];return l>1&&typeof f.value=="string"&&(f.added||f.removed)&&e.equals("",f.value)&&(a[l-2].value+=f.value,a.pop()),a}var Wv=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,$v=/\S/,cN=new po;cN.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!$v.test(e)&&!$v.test(t)};cN.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Wv.test(t[r])&&Wv.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var dN=new po;dN.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var o=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var x3=new po;x3.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var v3=new po;v3.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Ql(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ql=function(t){return typeof t}:Ql=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var b3=Object.prototype.toString,Pi=new po;Pi.useLongestToken=!0;Pi.tokenize=dN.tokenize;Pi.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,o=n===void 0?function(a,i){return typeof i>"u"?r:i}:n;return typeof e=="string"?e:JSON.stringify(uf(e,null,null,o),o,"  ")};Pi.equals=function(e,t){return po.prototype.equals.call(Pi,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function uf(e,t,r,n,o){t=t||[],r=r||[],n&&(e=n(o,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return r[a];var i;if(b3.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),a=0;a<e.length;a+=1)i[a]=uf(e[a],t,r,n,o);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Ql(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var c=[],l;for(l in e)e.hasOwnProperty(l)&&c.push(l);for(c.sort(),a=0;a<c.length;a+=1)l=c[a],i[l]=uf(e[l],t,r,n,l);t.pop(),r.pop()}else i=e;return i}var pf=new po;pf.tokenize=function(e){return e.slice()};pf.join=pf.removeEmpty=function(e){return e};function y3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],a=0;function i(){var d={};for(o.push(d);a<r.length;){var u=r[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(u))break;var p=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(u);p&&(d.index=p[1]),a++}for(c(d),c(d),d.hunks=[];a<r.length;){var m=r[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(m))break;if(/^@@/.test(m))d.hunks.push(l());else{if(m&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(m));a++}}}function c(d){var u=/^(---|\+\+\+)\s+(.*)$/.exec(r[a]);if(u){var p=u[1]==="---"?"old":"new",m=u[2].split("	",2),g=m[0].replace(/\\\\/g,"\\");/^".*"$/.test(g)&&(g=g.substr(1,g.length-2)),d[p+"FileName"]=g,d[p+"Header"]=(m[1]||"").trim(),a++}}function l(){var d=a,u=r[a++],p=u.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),m={oldStart:+p[1],oldLines:typeof p[2]>"u"?1:+p[2],newStart:+p[3],newLines:typeof p[4]>"u"?1:+p[4],lines:[],linedelimiters:[]};m.oldLines===0&&(m.oldStart+=1),m.newLines===0&&(m.newStart+=1);for(var g=0,f=0;a<r.length&&!(r[a].indexOf("--- ")===0&&a+2<r.length&&r[a+1].indexOf("+++ ")===0&&r[a+2].indexOf("@@")===0);a++){var x=r[a].length==0&&a!=r.length-1?" ":r[a][0];if(x==="+"||x==="-"||x===" "||x==="\\")m.lines.push(r[a]),m.linedelimiters.push(n[a]||`
`),x==="+"?g++:x==="-"?f++:x===" "&&(g++,f++);else break}if(!g&&m.newLines===1&&(m.newLines=0),!f&&m.oldLines===1&&(m.oldLines=0),t.strict){if(g!==m.newLines)throw new Error("Added line count did not match for hunk at line "+(d+1));if(f!==m.oldLines)throw new Error("Removed line count did not match for hunk at line "+(d+1))}return m}for(;a<r.length;)i();return o}function w3(e,t){if(!e)return[];try{const r=y3(e);if(!r||r.length===0)return[];const n=t?r.find(i=>[i.newFileName,i.oldFileName].some(c=>typeof c=="string"&&(c===t||c.endsWith("/"+t))))??r[0]:r[0];if(!n)return[];const o=[];let a=null;for(const i of n.hunks||[]){if(a){const d=i.newStart-(a.newStart+a.newLines),u=i.oldStart-(a.oldStart+a.oldLines),p=Math.max(d,u);p>0&&o.push({oldLineNum:null,newLineNum:null,type:"gap",content:"",hiddenCount:p})}let c=i.oldStart,l=i.newStart;for(const d of i.lines||[]){const u=d[0],p=d.slice(1);u==="-"?(o.push({oldLineNum:c,newLineNum:null,type:"deletion",content:p}),c++):u==="+"?(o.push({oldLineNum:null,newLineNum:l,type:"addition",content:p}),l++):(o.push({oldLineNum:c,newLineNum:l,type:"context",content:p}),c++,l++)}a=i}return o}catch{return[]}}async function k3(e,t,r,n,o=0,a){try{const i=await fj(r),c=n==="light"?"github-light":"github-dark",l=p=>{var g,f,x,v,N;const m=p.split(`
`);if(!p.trim())return m.map(y=>y||"");try{const y=i.codeToHast(p,{lang:r,theme:c,transformers:[{pre(k){return k.properties.style="padding:0;margin:0;background:none;",k},code(k){return k.properties.class=`hljs language-${r}`,k},line(k,_){return k.properties["data-line"]=_,k}}]}),w=(x=(f=(g=y==null?void 0:y.children)==null?void 0:g[0])==null?void 0:f.children)==null?void 0:x[0];if(!w||!w.children)return m.map(k=>k||"");const b=[];for(const k of w.children)if(k.tagName==="span"&&((N=(v=k.properties)==null?void 0:v.className)!=null&&N.includes("line"))){const _=Kx({type:"element",tagName:"span",properties:{},children:k.children||[]},{Fragment:s.Fragment,jsx:s.jsx,jsxs:s.jsxs});b.push(_)}return b.length!==m.length?m.map(k=>{var _,j,T;if(!k.trim())return k;try{const S=i.codeToHast(k,{lang:r,theme:c,transformers:[{pre(E){return E.properties.style="padding:0;margin:0;background:none;",E},code(E){return E.properties.class=`hljs language-${r}`,E}}]}),I=(T=(j=(_=S==null?void 0:S.children)==null?void 0:_[0])==null?void 0:j.children)==null?void 0:T[0];return!I||!I.children?k:Kx({type:"element",tagName:"span",properties:{},children:I.children},{Fragment:s.Fragment,jsx:s.jsx,jsxs:s.jsxs})}catch{return k}}):b}catch{return m.map(y=>y||"")}},d=l(e),u=l(t);return{oldLines:d,newLines:u}}catch{return{oldLines:e.split(`
`).map(i=>i||""),newLines:t.split(`
`).map(i=>i||"")}}}const j3=h.memo(({source:e,filePath:t})=>{const r=h.useMemo(()=>XS(lN(t||"")||"txt"),[t]),n=h.useMemo(()=>{if(typeof document>"u")return!1;const u=document.body.className;return/\bvscode-light\b|\bvscode-high-contrast-light\b/i.test(u)},[]),o=h.useMemo(()=>e.split(`
`).length<=1e3,[e]),a=h.useMemo(()=>w3(e,t),[e,t]),i=h.useMemo(()=>{const u=[];let p=[];for(const m of a)if(m.type==="gap"){if(p.length>0){const g=[],f=[];for(const x of p)(x.type==="deletion"||x.type==="context")&&g.push(x.content),(x.type==="addition"||x.type==="context")&&f.push(x.content);u.push({lines:[...p],oldText:g.join(`
`),newText:f.join(`
`)})}p=[m]}else p.push(m);if(p.length>0&&p.some(m=>m.type!=="gap")){const m=[],g=[];for(const f of p)(f.type==="deletion"||f.type==="context")&&m.push(f.content),(f.type==="addition"||f.type==="context")&&g.push(f.content);u.push({lines:[...p],oldText:m.join(`
`),newText:g.join(`
`)})}return u},[a]),[c,l]=h.useState(i);h.useEffect(()=>{if(!o){l(i);return}(async()=>{const p=[];for(let m=0;m<i.length;m++){const g=i[m];try{const f=await k3(g.oldText,g.newText,r,n?"light":"dark",m,t);p.push({...g,highlightedOldLines:f.oldLines,highlightedNewLines:f.newLines})}catch{p.push(g)}}l(p)})()},[i,o,r,n,t]);const d=(u,p,m)=>{if(!o||!p.highlightedOldLines||!p.highlightedNewLines)return u.content;const g=p.lines.slice(0,m).filter(f=>f.type!=="gap");if(u.type==="deletion"){const f=g.filter(x=>x.type==="deletion"||x.type==="context").length;return p.highlightedOldLines[f]||u.content}else if(u.type==="addition"){const f=g.filter(x=>x.type==="addition"||x.type==="context").length;return p.highlightedNewLines[f]||u.content}else if(u.type==="context"){const f=g.filter(v=>v.type==="addition"||v.type==="context").length,x=g.filter(v=>v.type==="deletion"||v.type==="context").length;return p.highlightedNewLines[f]||p.highlightedOldLines[x]||u.content}return u.content};return s.jsx("div",{className:"diff-view bg-[var(--vscode-editor-background)] rounded-md overflow-hidden text-[0.95em]",children:s.jsx("div",{className:"overflow-x-hidden",children:s.jsx("table",{className:"w-full border-collapse table-auto",children:s.jsx("tbody",{children:c.flatMap((u,p)=>u.lines.map((m,g)=>{const f=`${p}-${g}`;if(m.type==="gap")return s.jsxs("tr",{children:[s.jsx("td",{className:"w-[45px] text-right pr-3 pl-2 select-none align-top whitespace-nowrap bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[45px] text-right pr-3 select-none align-top whitespace-nowrap bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[12px] align-top bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[16px] text-center select-none bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"pr-3 whitespace-pre-wrap break-words w-full italic bg-[var(--vscode-editor-background)]",children:`${m.hiddenCount??0} hidden lines`})]},f);const x=m.type==="addition"?"bg-[var(--vscode-diffEditor-insertedTextBackground)]":m.type==="deletion"?"bg-[var(--vscode-diffEditor-removedTextBackground)]":"bg-[var(--vscode-editorGroup-border)]",v=m.type==="addition"?"diff-content-inserted":m.type==="deletion"?"diff-content-removed":"diff-content-context",N=m.type==="addition"?"+":m.type==="deletion"?"-":"";return s.jsxs("tr",{children:[s.jsx("td",{className:`w-[45px] text-right pr-1 pl-1 select-none align-top whitespace-nowrap ${x}`,children:m.oldLineNum||""}),s.jsx("td",{className:`w-[45px] text-right pr-1 select-none align-top whitespace-nowrap ${x}`,children:m.newLineNum||""}),s.jsx("td",{className:`w-[12px] ${x} align-top`}),s.jsx("td",{className:`w-[16px] text-center select-none whitespace-nowrap px-1 ${x}`,children:N}),s.jsx("td",{className:`pl-1 pr-3 whitespace-pre-wrap break-words w-full ${v}`,children:d(m,u,g)})]},f)}))})})})})}),_3=({path:e,code:t="",language:r,progressStatus:n,isLoading:o,isExpanded:a,isFeedback:i,onToggleExpand:c,header:l,onJumpToFile:d,diffStats:u})=>{const p=h.useMemo(()=>r??(e?lN(e):"txt"),[e,r]),m=h.useMemo(()=>String(t).trim(),[t]),g=!!(e||i||l),f=h.useMemo(()=>u&&(u.added>0||u.removed>0)?u:null,[u]),x=!!(f&&(f.added>0||f.removed>0));return s.jsxs(so,{children:[g&&s.jsxs(ro,{onClick:c,className:"group",children:[o&&s.jsx(JS,{className:"size-3 mr-2"}),l?s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"codicon codicon-server mr-1.5"}),s.jsx(kc,{content:l,children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis mr-2",children:l})})]}):i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`codicon codicon-${i?"feedback":"codicon-output"} mr-1.5`}),s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis mr-2 rtl",children:i?"User Edits":"Console Logs"})]}):s.jsxs(s.Fragment,{children:[(e==null?void 0:e.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(kc,{content:za(e),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:za(e)})})]}),s.jsx("div",{className:"flex-grow-1"}),x?s.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[s.jsxs("span",{className:"text-xs font-medium text-vscode-charts-green",children:["+",f.added]}),s.jsxs("span",{className:"text-xs font-medium text-vscode-charts-red",children:["-",f.removed]})]}):n&&n.text&&s.jsxs(s.Fragment,{children:[n.icon&&s.jsx("span",{className:`codicon codicon-${n.icon} mr-1`}),s.jsx("span",{className:"mr-1 ml-auto text-vscode-descriptionForeground",children:n.text})]}),d&&e&&s.jsx("span",{className:"codicon codicon-link-external mr-1",style:{fontSize:13.5},onClick:v=>{v.stopPropagation(),d()},"aria-label":`Open file: ${e}`}),!d&&s.jsx("span",{className:`opacity-0 group-hover:opacity-100 codicon codicon-chevron-${a?"up":"down"}`})]}),(!g||a)&&s.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[300px] max-w-full",children:p==="diff"?s.jsx(j3,{source:m,filePath:e}):s.jsx(In,{source:m,language:p})})]})},pn=h.memo(_3),N3=({content:e,isStreaming:t,isLast:r})=>{var f;const{t:n}=bt(),{reasoningBlockCollapsed:o}=Ge(),[a,i]=h.useState(o),c=h.useRef(Date.now()),[l,d]=h.useState(0),u=h.useRef(null);h.useEffect(()=>{i(o)},[o]),h.useEffect(()=>{if(r&&t){const x=()=>d(Date.now()-c.current);x();const v=setInterval(x,1e3);return()=>clearInterval(v)}},[r,t]);const p=Math.floor(l/1e3),m=n("chat:reasoning.seconds",{count:p}),g=()=>{i(!a)};return s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2.5 pr-2 cursor-pointer select-none",onClick:g,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ZA,{className:"w-4"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:n("chat:reasoning.thinking")}),l>0&&s.jsx("span",{className:"text-sm text-vscode-descriptionForeground mt-0.5",children:m})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Bc,{className:ee("w-4 transition-all opacity-0 group-hover:opacity-100",a&&"-rotate-180")})})]}),(((f=e==null?void 0:e.trim())==null?void 0:f.length)??0)>0&&!a&&s.jsx("div",{ref:u,className:"border-l border-vscode-descriptionForeground/20 ml-2 pl-4 pb-1 text-vscode-descriptionForeground",children:s.jsx(pr,{markdown:e})})]})},S3=({images:e,style:t,setImages:r,onHeightChange:n})=>{const[o,a]=h.useState(null),i=h.useRef(null),{width:c}=Vf();h.useLayoutEffect(()=>{if(i.current){let p=i.current.clientHeight;p||(p=i.current.getBoundingClientRect().height),n==null||n(p)}a(null)},[e,c,n]);const l=p=>{r==null||r(m=>m.filter((g,f)=>f!==p))},d=r!==void 0,u=p=>{A.postMessage({type:"openImage",text:p})};return s.jsx("div",{ref:i,className:"py-1",style:{display:"flex",flexWrap:"wrap",gap:5,rowGap:3,...t},children:e.map((p,m)=>s.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>a(m),onMouseLeave:()=>a(null),children:[s.jsx("img",{src:p,alt:`Thumbnail ${m+1}`,style:{width:34,height:34,objectFit:"cover",borderRadius:4,cursor:"pointer"},onClick:()=>u(p)}),d&&o===m&&s.jsx("div",{onClick:()=>l(m),style:{position:"absolute",top:-4,right:-4,width:13,height:13,borderRadius:"50%",backgroundColor:"var(--vscode-badge-background)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:s.jsx("span",{className:"codicon codicon-close",style:{color:"var(--vscode-foreground)",fontSize:10,fontWeight:"bold"}})})]},m))})},ud=h.memo(S3),T3=.5,I3=20;function P3({imageUri:e,imagePath:t,alt:r="Generated image",showControls:n=!0,className:o=""}){const[a,i]=h.useState(!1),[c,l]=h.useState(1),[d,u]=h.useState(!1),[p,m]=h.useState(!1),[g,f]=h.useState(!1),[x,v]=h.useState({x:0,y:0}),[N,y]=h.useState(null),{copyWithFeedback:w}=Va(),{t:b}=oe(),k=async B=>{B.stopPropagation(),i(!0),l(1),v({x:0,y:0})},_=async B=>{B.stopPropagation();try{t&&(await w(t,B),u(!0),setTimeout(()=>u(!1),2e3))}catch(U){console.error("Error copying:",U instanceof Error?U.message:String(U))}},j=async B=>{B.stopPropagation();try{A.postMessage({type:"saveImage",dataUri:e})}catch(U){console.error("Error saving image:",U)}},T=B=>{B.stopPropagation(),t?A.postMessage({type:"openImage",text:t}):e&&A.postMessage({type:"openImage",text:e})},S=B=>{l(U=>{const te=U+B;return Math.max(T3,Math.min(I3,te))})},I=h.useCallback(B=>{B.preventDefault(),B.stopPropagation();const U=B.deltaY>0?-.2:.2;S(U)},[]),E=()=>{m(!0)},M=()=>{m(!1)},R=h.useCallback(()=>{y("Failed to load image")},[]),C=h.useCallback(()=>{y(null)},[]),q=B=>{if(B.startsWith("./"))return B;const U=B.match(/\/([^/]+)\/(.+)$/);return U&&U[2]?`./${U[2]}`:B.split("/").pop()||B};return e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative w-full ${o}`,onMouseEnter:E,onMouseLeave:M,children:[N?s.jsx("div",{style:{minHeight:"100px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--vscode-editor-background)",borderRadius:"4px",padding:"20px"},children:s.jsxs("span",{style:{color:"var(--vscode-errorForeground)"},children:[" ",N]})}):s.jsx("img",{src:e,alt:r,className:"w-full h-auto rounded cursor-pointer",onClick:T,onError:R,onLoad:C,style:{maxHeight:"400px",objectFit:"contain",backgroundColor:"var(--vscode-editor-background)"}}),t&&s.jsx("div",{className:"mt-1 text-xs text-vscode-descriptionForeground",children:q(t)}),n&&p&&s.jsx("div",{className:"absolute bottom-2 right-2 flex gap-1 bg-vscode-editor-background/90 rounded p-0.5 z-10 opacity-100 transition-opacity duration-200 ease-in-out",children:s.jsx(oN,{onZoom:k,onCopy:_,onSave:j,onViewCode:()=>{},copyFeedback:d})})]}),s.jsxs(aN,{isOpen:a,onClose:()=>i(!1),children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-vscode-editorGroup-border",children:[s.jsx("div",{className:"flex gap-0",children:s.jsx(df,{icon:"file-media",label:b("common:image.tabs.view"),isActive:!0,onClick:()=>{}})}),s.jsx("div",{className:"pr-3",children:s.jsx(de,{content:b("common:mermaid.buttons.close"),children:s.jsx(Os,{icon:"close",onClick:()=>i(!1)})})})]}),s.jsxs("div",{className:"flex-1 p-4 pb-[60px] overflow-auto flex items-center justify-center",onWheel:I,children:[s.jsx("div",{style:{transform:`scale(${c}) translate(${x.x}px, ${x.y}px)`,transformOrigin:"center center",transition:g?"none":"transform 0.1s ease",cursor:g?"grabbing":"grab"},onMouseDown:B=>{f(!0),B.preventDefault()},onMouseMove:B=>{g&&v(U=>({x:U.x+B.movementX/c,y:U.y+B.movementY/c}))},onMouseUp:()=>f(!1),onMouseLeave:()=>f(!1),children:s.jsx("img",{src:e,alt:r,style:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"}})}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-vscode-editor-background border border-vscode-editorGroup-border rounded px-2 py-1 text-xs text-vscode-descriptionForeground pointer-events-none opacity-80",children:[Math.round(c*100),"%"]})]}),s.jsxs("div",{className:"absolute bottom-0 right-0 left-0 p-3 flex items-center justify-end gap-2 bg-vscode-editor-background border-t border-vscode-editorGroup-border rounded-b",children:[s.jsx(Xg,{zoomLevel:c,zoomInTitle:b("common:mermaid.buttons.zoomIn"),zoomOutTitle:b("common:mermaid.buttons.zoomOut"),useContinuousZoom:!0,adjustZoom:S,zoomInStep:.2,zoomOutStep:-.2}),t&&s.jsx(de,{content:b("common:mermaid.buttons.copy"),children:s.jsx(Os,{icon:d?"check":"copy",onClick:_})}),s.jsx(de,{content:b("common:mermaid.buttons.save"),children:s.jsx(Os,{icon:"save",onClick:j})})]})]})]}):s.jsx("div",{className:`relative w-full ${o}`,style:{minHeight:"100px",backgroundColor:"var(--vscode-editor-background)",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)"},children:b("common:image.noData")})})}function Hv({imageUri:e,imagePath:t,imageData:r,path:n}){let o,a;if(e)o=e,a=t;else if(r)o=r,a=n;else return console.error("ImageBlock: No valid image data provided"),null;return s.jsx("div",{className:"my-2",children:s.jsx(P3,{imageUri:o,imagePath:a,alt:"AI Generated Image",showControls:!0})})}const oi=h.memo(({type:e,title:t,message:r,showCopyButton:n=!1,expandable:o=!1,defaultExpanded:a=!1,additionalContent:i,headerClassName:c,messageClassName:l,docsURL:d,code:u,showLoginButton:p=!1,onLoginClick:m,errorDetails:g})=>{const{t:f}=bt(),[x,v]=h.useState(a),[N,y]=h.useState(!1),[w,b]=h.useState(!1),[k,_]=h.useState(!1),{copyWithFeedback:j}=Va(),T=()=>{if(t)return t;switch(e){case"error":return f("chat:error");case"mistake_limit":return f("chat:troubleMessage");case"api_failure":return f("chat:apiRequest.failed");case"api_req_retry_delayed":return f("chat:apiRequest.errorTitle",{code:u?`  ${u}`:""});case"streaming_failed":return f("chat:apiRequest.streamingFailed");case"cancelled":return f("chat:apiRequest.cancelled");case"diff_error":return f("chat:diffError.title");default:return null}},S=h.useCallback(()=>{o&&v(!x)},[o,x]),I=h.useCallback(async R=>{R.stopPropagation(),await j(r)&&(y(!0),setTimeout(()=>{y(!1)},1e3))},[r,j]),E=h.useCallback(async R=>{R.stopPropagation(),g&&await j(g)&&(_(!0),setTimeout(()=>{_(!1)},1e3))},[g,j]),M=T();return e==="diff_error"&&o?s.jsxs("div",{className:"mt-0 overflow-hidden mb-2 pr-1 group",children:[s.jsxs("div",{className:"font-sm text-vscode-editor-foreground flex items-center justify-between cursor-pointer",onClick:S,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow  text-vscode-errorForeground",children:[s.jsx(Mv,{className:"w-4"}),s.jsx("span",{className:"text-vscode-errorForeground font-bold grow cursor-pointer",children:M})]}),s.jsxs("div",{className:"flex items-center transition-opacity opacity-0 group-hover:opacity-100",children:[n&&s.jsx(xt,{appearance:"icon",className:"p-0.75 h-6 mr-1 text-vscode-editor-foreground flex items-center justify-center bg-transparent",onClick:I,children:s.jsx("span",{className:`codicon codicon-${N?"check":"copy"}`})}),s.jsx("span",{className:`codicon codicon-chevron-${x?"up":"down"}`})]})]}),x&&s.jsx("div",{className:"px-2 py-1 mt-2 bg-vscode-editor-background ml-6 rounded-lg",children:s.jsx(In,{source:r,language:"xml"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"group pr-2",children:[M&&s.jsxs("div",{className:c||"flex items-center justify-between gap-2 break-words",children:[s.jsx(Mv,{className:"w-4 text-vscode-errorForeground"}),s.jsx("span",{className:"font-bold grow cursor-default",children:M}),s.jsxs("div",{className:"flex items-center gap-2",children:[d&&s.jsxs("a",{href:d,className:"text-sm flex items-center gap-1 transition-opacity opacity-0 group-hover:opacity-100",onClick:R=>{R.preventDefault(),A.postMessage({type:"openExternal",url:d})},children:[s.jsx(Q1,{className:"size-3 mt-[3px]"}),f("chat:apiRequest.errorMessage.docs")]}),g&&s.jsxs(zc,{children:[s.jsx(qc,{asChild:!0,children:s.jsx("button",{onClick:()=>b(!0),className:"transition-opacity opacity-0 group-hover:opacity-100 cursor-pointer","aria-label":f("chat:errorDetails.title"),children:s.jsx(od,{className:"size-4"})})}),s.jsx(Uc,{children:f("chat:errorDetails.title")})]})]})]}),s.jsxs("div",{className:"ml-2 pl-4 mt-1 pt-1 border-l border-vscode-errorForeground/50",children:[s.jsx("p",{className:l||"my-0 font-light whitespace-pre-wrap break-words text-vscode-descriptionForeground",children:r}),p&&m&&s.jsx("div",{className:"ml-6 mt-3",children:s.jsx(ae,{variant:"secondary",onClick:m,children:f("kilocode:settings.provider.login")})}),i]})]}),g&&s.jsx(Go,{open:w,onOpenChange:b,children:s.jsxs(Qo,{className:"max-w-2xl",children:[s.jsx(Ya,{children:s.jsx(Xa,{children:f("chat:errorDetails.title")})}),s.jsx("div",{className:"max-h-96 overflow-auto px-3 bg-vscode-editor-background rounded-xl border border-vscode-editorGroup-border",children:s.jsx("pre",{className:"font-mono text-sm whitespace-pre-wrap break-words bg-transparent",children:g})}),s.jsx(id,{children:s.jsx(ae,{variant:"secondary",onClick:E,children:k?s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"size-3"}),f("chat:errorDetails.copied")]}):s.jsxs(s.Fragment,{children:[s.jsx(Uf,{className:"size-3"}),f("chat:errorDetails.copyToClipboard")]})})})]})})]})}),uN=({item:e})=>{const r="uri"in e?e.uri:e.uriTemplate;return s.jsxs("div",{style:{padding:"3px 0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[s.jsx("span",{className:"codicon codicon-symbol-file",style:{marginRight:"6px"}}),s.jsx("span",{style:{fontWeight:500,wordBreak:"break-all"},children:r})]}),s.jsx("div",{style:{fontSize:"12px",opacity:.8,margin:"4px 0"},children:e.name&&e.description?`${e.name}: ${e.description}`:!e.name&&e.description?e.description:!e.description&&e.name?e.name:"No description"}),s.jsxs("div",{style:{fontSize:"12px"},children:[s.jsx("span",{style:{opacity:.8},children:"Returns "}),s.jsx("code",{style:{color:"var(--vscode-textPreformat-foreground)",background:"var(--vscode-textPreformat-background)",padding:"1px 4px",borderRadius:"3px"},children:e.mimeType||"Unknown"})]})]},r)},Jg=new RegExp("(?:^|(?<=\\s))(?<!\\\\)@((?:\\/|\\w+:\\/\\/)(?:[^\\s\\\\]|\\\\ )+?|[a-f0-9]{7,40}\\b|problems\\b|git-changes\\b|terminal\\b)(?=[.,;:!?]?(?=[\\s\\r\\n]|$))"),Zg=new RegExp(Jg.source,"g");function E3(e){return e.replace(/\\ /g," ")}const pN=({text:e,withShadow:t=!1})=>{if(!e)return s.jsx(s.Fragment,{children:e});const r=e.split(Zg).map((n,o)=>o%2===0?n:s.jsxs("span",{className:`${t?"mention-context-highlight-with-shadow":"mention-context-highlight"} text-[0.9em] cursor-pointer`,onClick:()=>A.postMessage({type:"openMention",text:n}),children:["@",n]},o));return s.jsx(s.Fragment,{children:r})},M3=({ts:e,commitHash:t,checkpoint:r,onOpenChange:n})=>{const{t:o}=bt(),[a,i]=h.useState(!1),[c,l]=h.useState(!1),[d,u]=h.useState(!1),p=Kf("roo-portal"),m=r==null?void 0:r.from,g=a,f=d,x=h.useCallback(j=>{i(j),n&&n(j)},[n]),v=h.useCallback(j=>{u(j),n&&n(j)},[n]),N=h.useCallback(()=>{A.postMessage({type:"checkpointDiff",payload:{ts:e,previousCommitHash:m,commitHash:t,mode:"checkpoint"}})},[e,m,t]),y=h.useCallback(()=>{A.postMessage({type:"checkpointDiff",payload:{ts:e,commitHash:t,mode:"from-init"}})},[e,t]),w=h.useCallback(()=>{A.postMessage({type:"checkpointDiff",payload:{ts:e,commitHash:t,mode:"to-current"}})},[e,t]),b=h.useCallback(()=>{A.postMessage({type:"checkpointRestore",payload:{ts:e,commitHash:t,mode:"preview"}}),x(!1)},[e,t,x]),k=h.useCallback(()=>{A.postMessage({type:"checkpointRestore",payload:{ts:e,commitHash:t,mode:"restore"}}),x(!1)},[e,t,x]),_=h.useCallback(j=>{x(j),j||l(!1)},[x]);return s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(de,{content:o("chat:checkpoint.menu.viewDiff"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:N,children:s.jsx("span",{className:"codicon codicon-diff-single"})})}),s.jsxs(En,{open:g,onOpenChange:j=>{_(j),l(!1)},"data-testid":"restore-popover",children:[s.jsx(de,{content:o("chat:checkpoint.menu.restore"),children:s.jsx(ao,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"icon","aria-label":o("chat:checkpoint.menu.restore"),children:s.jsx("span",{className:"codicon codicon-history"})})})}),s.jsx(Mn,{align:"end",container:p,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1 group hover:text-foreground",children:[s.jsx(ae,{variant:"secondary",onClick:b,"data-testid":"restore-files-btn",children:o("chat:checkpoint.menu.restoreFiles")}),s.jsx("div",{className:"text-muted transition-colors group-hover:text-foreground",children:o("chat:checkpoint.menu.restoreFilesDescription")})]}),s.jsxs("div",{className:"flex flex-col gap-1 group hover:text-foreground",children:[c?s.jsxs(s.Fragment,{children:[s.jsx(ae,{variant:"primary",onClick:k,className:"grow","data-testid":"confirm-restore-btn",children:s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(nI,{}),s.jsx("div",{children:o("chat:checkpoint.menu.confirm")})]})}),s.jsx(ae,{variant:"secondary",onClick:()=>l(!1),children:s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(oI,{}),s.jsx("div",{children:o("chat:checkpoint.menu.cancel")})]})})]}):s.jsx(ae,{variant:"secondary",onClick:()=>l(!0),"data-testid":"restore-files-and-task-btn",children:o("chat:checkpoint.menu.restoreFilesAndTask")}),c?s.jsx("div",{"data-testid":"checkpoint-confirm-warning",className:"text-destructive font-bold",children:o("chat:checkpoint.menu.cannotUndo")}):s.jsx("div",{className:"text-muted transition-colors group-hover:text-foreground",children:o("chat:checkpoint.menu.restoreFilesAndTaskDescription")})]})]})})]}),s.jsxs(En,{open:f,onOpenChange:j=>v(j),"data-testid":"more-popover",children:[s.jsx(de,{content:o("chat:task.seeMore"),children:s.jsx(ao,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"icon","aria-label":o("chat:checkpoint.menu.more"),children:s.jsx("span",{className:"codicon codicon-kebab-vertical"})})})}),s.jsx(Mn,{align:"end",container:p,className:"w-auto min-w-max",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(ae,{variant:"secondary",onClick:()=>{y(),v(!1)},children:[s.jsx("span",{className:"codicon codicon-versions mr-2"}),o("chat:checkpoint.menu.viewDiffFromInit")]}),s.jsxs(ae,{variant:"secondary",onClick:()=>{w(),v(!1)},children:[s.jsx("span",{className:"codicon codicon-diff mr-2"}),o("chat:checkpoint.menu.viewDiffWithCurrent")]})]})})]})]})},A3=ys({from:We(),to:We()}),R3=({checkpoint:e,currentHash:t,...r})=>{const{t:n}=bt(),o=t===r.commitHash,[a,i]=h.useState(!1),[c,l]=h.useState(!1),d=h.useRef(null);h.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=null)},[]);const u=g=>{i(g),g?(l(!1),d.current&&(window.clearTimeout(d.current),d.current=null)):(l(!0),d.current=window.setTimeout(()=>{l(!1),d.current=null},200))},p=a||c,m=h.useMemo(()=>{if(!e)return;const g=A3.safeParse(e);if(g.success)return{...g.data,isFirst:g.data.from===g.data.to}},[e]);return m?s.jsxs("div",{className:"group flex items-center justify-between gap-2 pt-2 pb-3 ",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 whitespace-nowrap",children:[s.jsx(GA,{className:"w-4"}),s.jsx("span",{className:"font-semibold",children:n("chat:checkpoint.regular")}),o&&s.jsxs("span",{className:"text-muted",children:["(",n("chat:checkpoint.current"),")"]})]}),s.jsx("span",{className:"block w-full h-[2px] mt-[2px] text-xs",style:{backgroundImage:"linear-gradient(90deg, rgba(0, 188, 255, .65), rgba(0, 188, 255, .65) 80%, rgba(0, 188, 255, 0) 99%)"}}),s.jsx("div",{"data-testid":"checkpoint-menu-container",className:ee("h-4 -mt-2",p?"block":"hidden group-hover:block"),children:s.jsx(M3,{ts:r.ts,commitHash:r.commitHash,checkpoint:m,onOpenChange:u})})]}):null},C3=6e4,O3=1e3,D3=({suggestions:e=[],onSuggestionClick:t,ts:r=1,onCancelAutoApproval:n,isAnswered:o=!1,isFollowUpAutoApprovalPaused:a=!1})=>{const{autoApprovalEnabled:i,alwaysAllowFollowupQuestions:c,followupAutoApproveTimeoutMs:l}=Ge(),[d,u]=h.useState(null),[p,m]=h.useState(!1),{t:g}=oe();h.useEffect(()=>{if(i&&c&&e.length>0&&!p&&!o&&!a){const x=typeof l=="number"&&!isNaN(l)?l:C3;u(Math.floor(x/1e3));const v=setInterval(()=>{u(N=>N===null||N<=1?(clearInterval(v),null):N-1)},O3);return()=>{clearInterval(v),n==null||n()}}else u(null)},[i,c,e,l,p,n,o,a]);const f=h.useCallback((x,v)=>{v.shiftKey||(m(!0),n==null||n()),t==null||t(x,v)},[t,n]);return!(e!=null&&e.length)||!t?null:s.jsx("div",{className:"flex mb-2 flex-col h-full gap-2",children:e.map((x,v)=>{const N=v===0;return s.jsxs("div",{className:"w-full relative group",children:[s.jsx(ae,{variant:"outline",className:ee("text-left whitespace-normal break-words w-full h-auto px-3 py-2 justify-start pr-8 rounded-xl",N&&d!==null&&!p&&!o&&"border-vscode-foreground/60 rounded-b-none -mb-1"),onClick:y=>f(x,y),"aria-label":x.answer,children:x.answer}),N&&d!==null&&!p&&!o&&s.jsxs("p",{className:"rounded-b-xl border-1 border-t-0 border-vscode-foreground/60 text-vscode-descriptionForeground text-xs m-0 mt-1 px-3 pt-2 pb-2",children:[s.jsx(RR,{className:"size-3 inline-block -mt-0.5 mr-1 animate-pulse"}),g("chat:followUpSuggest.timerPrefix",{seconds:d})]}),x.mode&&s.jsxs("div",{className:"absolute bottom-0 right-0 text-[10px] bg-vscode-badge-background text-vscode-badge-foreground px-1 py-0.5 border border-vscode-badge-background flex items-center gap-0.5",children:[s.jsx("span",{className:"codicon codicon-arrow-right",style:{fontSize:"8px"}}),x.mode]}),s.jsx(de,{content:g("chat:followUpSuggest.copyToInput"),children:s.jsx("div",{className:"absolute cursor-pointer top-1.5 right-3 opacity-0 group-hover:opacity-100 transition-opacity",onClick:y=>{y.stopPropagation(),m(!0),n==null||n(),t==null||t(x,{...y,shiftKey:!0})},children:s.jsx(kI,{className:"w-4"})})})]},`${x.answer}-${r}`)})})},mN=h.memo(({files:e=[],onPermissionResponse:t,ts:r})=>!(e!=null&&e.length)||!t?null:s.jsx("div",{className:"pt-[5px]",children:s.jsx("div",{className:"flex flex-col gap-0 border border-border rounded-md p-1",children:e.map(n=>{var o;return s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(so,{className:"flex-1",children:s.jsxs(ro,{onClick:()=>A.postMessage({type:"openFile",text:n.content}),children:[((o=n.path)==null?void 0:o.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(kc,{content:za(n.path,n.lineSnippet?` ${n.lineSnippet}`:void 0),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:za(n.path,n.lineSnippet?` ${n.lineSnippet}`:void 0)})}),s.jsx("div",{className:"flex-grow"}),s.jsx("span",{className:"codicon codicon-link-external text-[13.5px] my-[1px]"})]})})},`${n.path}-${r}`)})})}));mN.displayName="BatchFilePermission";const hN=h.memo(({files:e=[],ts:t})=>{const[r,n]=h.useState({});if(!(e!=null&&e.length))return null;const o=a=>{n(i=>({...i,[a]:!i[a]}))};return s.jsx("div",{className:"pt-[5px]",children:s.jsx("div",{className:"flex flex-col gap-0 border border-border rounded-md p-1",children:e.map(a=>{const i=a.content||"";return s.jsx("div",{children:s.jsx(pn,{path:a.path,code:i,language:"diff",isExpanded:r[a.path]||!1,onToggleExpand:()=>o(a.path),diffStats:a.diffStats??void 0})},`${a.path}-${t}`)})})})});hN.displayName="BatchDiffApproval";const Wn=h.memo(({markdown:e,partial:t})=>{const[r,n]=h.useState(!1),{copyWithFeedback:o}=Va(200);return!e||e.length===0?null:s.jsxs("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{position:"relative"},children:[s.jsx("div",{style:{wordBreak:"break-word",overflowWrap:"anywhere"},children:s.jsx(pr,{markdown:e})}),e&&!t&&r&&s.jsxs("div",{style:{position:"absolute",bottom:"-4px",right:"8px",opacity:0,animation:"fadeIn 0.2s ease-in-out forwards",borderRadius:"4px"},children:[s.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0; } to { opacity: 1.0; } }"}),s.jsx(de,{content:"Copy as markdown",children:s.jsx(xt,{className:"copy-button",appearance:"icon",style:{height:"24px",border:"none",background:"var(--vscode-editor-background)",transition:"background 0.2s ease-in-out"},onClick:async()=>{if(await o(e)){const i=document.activeElement;i&&(i.style.background="var(--vscode-button-background)",setTimeout(()=>{i.style.background=""},200))}},children:s.jsx("span",{className:"codicon codicon-copy"})})})]})]})});var _l={},$d,Vv;function F3(){return Vv||(Vv=1,$d=function(t){return t.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}),$d}var Hd,Gv;function L3(){if(Gv)return Hd;Gv=1;for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",t=new RegExp("^"+e+"$"),r="|&;()<> \\t",n='"((\\\\"|[^"])*?)"',o="'((\\\\'|[^'])*?)'",a=/^#$/,i="'",c='"',l="$",d="",u=4294967296,p=0;p<4;p++)d+=(u*Math.random()).toString(16);var m=new RegExp("^"+d);function g(v,N){for(var y=N.lastIndex,w=[],b;b=N.exec(v);)w.push(b),N.lastIndex===b.index&&(N.lastIndex+=1);return N.lastIndex=y,w}function f(v,N,y){var w=typeof v=="function"?v(y):v[y];return typeof w>"u"&&y!=""?w="":typeof w>"u"&&(w="$"),typeof w=="object"?N+d+JSON.stringify(w)+d:N+w}function x(v,N,y){y||(y={});var w=y.escape||"\\",b="(\\"+w+`['"`+r+`]|[^\\s'"`+r+"])+",k=new RegExp(["("+e+")","("+b+"|"+n+"|"+o+")+"].join("|"),"g"),_=g(v,k);if(_.length===0)return[];N||(N={});var j=!1;return _.map(function(T){var S=T[0];if(!S||j)return;if(t.test(S))return{op:S};var I=!1,E=!1,M="",R=!1,C;function q(){C+=1;var te,Q,O=S.charAt(C);if(O==="{"){if(C+=1,S.charAt(C)==="}")throw new Error("Bad substitution: "+S.slice(C-2,C+1));if(te=S.indexOf("}",C),te<0)throw new Error("Bad substitution: "+S.slice(C));Q=S.slice(C,te),C=te}else if(/[*@#?$!_-]/.test(O))Q=O,C+=1;else{var F=S.slice(C);te=F.match(/[^\w\d_]/),te?(Q=F.slice(0,te.index),C+=te.index-1):(Q=F,C=S.length)}return f(N,"",Q)}for(C=0;C<S.length;C++){var B=S.charAt(C);if(R=R||!I&&(B==="*"||B==="?"),E)M+=B,E=!1;else if(I)B===I?I=!1:I==i?M+=B:B===w?(C+=1,B=S.charAt(C),B===c||B===w||B===l?M+=B:M+=w+B):B===l?M+=q():M+=B;else if(B===c||B===i)I=B;else{if(t.test(B))return{op:S};if(a.test(B)){j=!0;var U={comment:v.slice(T.index+C+1)};return M.length?[M,U]:[U]}else B===w?E=!0:B===l?M+=q():M+=B}}return R?{op:"glob",pattern:M}:M}).reduce(function(T,S){return typeof S>"u"?T:T.concat(S)},[])}return Hd=function(N,y,w){var b=x(N,y,w);return typeof y!="function"?b:b.reduce(function(k,_){if(typeof _=="object")return k.concat(_);var j=_.split(RegExp("("+d+".*?"+d+")","g"));return j.length===1?k.concat(j[0]):k.concat(j.filter(Boolean).map(function(T){return m.test(T)?JSON.parse(T.split(d)[1]):T}))},[])},Hd}var Qv;function B3(){return Qv||(Qv=1,_l.quote=F3(),_l.parse=L3()),_l}var z3=B3();const Yv="___NEWLINE___",Xv="___CARRIAGE_RETURN___";function q3(e,t,r){let n="",o=0;for(;o<e.length;){const a=e[o];if(a==='"')for(n+=a,o++;o<e.length;){const i=e[o],c=o>0?e[o-1]:"";if(i==='"'&&c!=="\\"){n+=i,o++;break}else i===`
`?(n+=t,o++):i==="\r"?(n+=r,o++):(n+=i,o++)}else if(a==="'")for(n+=a,o++;o<e.length;){const i=e[o];if(i==="'"){n+=i,o++;break}else i===`
`?(n+=t,o++):i==="\r"?(n+=r,o++):(n+=i,o++)}else n+=a,o++}return n}function U3(e,t,r){return e.replace(new RegExp(t,"g"),`
`).replace(new RegExp(r,"g"),"\r")}function K3(e){if(!(e!=null&&e.trim()))return[];const r=q3(e,Yv,Xv).split(/\r\n|\r|\n/),n=[];for(const o of r){if(!o.trim())continue;const a=W3(o);n.push(...a)}return n.map(o=>U3(o,Yv,Xv))}function W3(e){if(!(e!=null&&e.trim()))return[];const t=[],r=[],n=[],o=[],a=[],i=[],c=[];let l=e.replace(/\d*>&\d*/g,m=>(t.push(m),`__REDIR_${t.length-1}__`));l=l.replace(/\$\(\([^)]*(?:\)[^)]*)*\)\)/g,m=>(a.push(m),`__ARITH_${a.length-1}__`)),l=l.replace(/\$\[[^\]]*\]/g,m=>(a.push(m),`__ARITH_${a.length-1}__`)),l=l.replace(/\$\{[^}]+\}/g,m=>(c.push(m),`__PARAM_${c.length-1}__`)),l=l.replace(/[<>]\(([^)]+)\)/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)),l=l.replace(/\$[a-zA-Z_][a-zA-Z0-9_]*/g,m=>(i.push(m),`__VAR_${i.length-1}__`)),l=l.replace(/\$[?!#$@*\-0-9]/g,m=>(i.push(m),`__VAR_${i.length-1}__`)),l=l.replace(/\$\((.*?)\)/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)).replace(/`(.*?)`/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)),l=l.replace(/"[^"]*"/g,m=>(n.push(m),`__QUOTE_${n.length-1}__`));let d;try{d=z3.parse(l)}catch(m){return console.warn("shell-quote parse error:",m.message,"for command:",l),l.split(/(?:&&|\|\||;|\||&)/).map(f=>f.trim()).filter(f=>f.length>0).map(f=>Jv(f,n,t,o,a,c,i,r))}const u=[];let p=[];for(const m of d)if(typeof m=="object"&&"op"in m)["&&","||",";","|","&"].includes(m.op)?p.length>0&&(u.push(p.join(" ")),p=[]):p.push(m.op);else if(typeof m=="string"){const g=m.match(/__SUBSH_(\d+)__/);g?(p.length>0&&(u.push(p.join(" ")),p=[]),u.push(r[parseInt(g[1])])):p.push(m)}return p.length>0&&u.push(p.join(" ")),u.map(m=>Jv(m,n,t,o,a,c,i,r))}function Jv(e,t,r,n,o,a,i,c){let l=e;return l=l.replace(/__QUOTE_(\d+)__/g,(d,u)=>t[parseInt(u)]),l=l.replace(/__REDIR_(\d+)__/g,(d,u)=>r[parseInt(u)]),l=l.replace(/__ARRAY_(\d+)__/g,(d,u)=>n[parseInt(u)]),l=l.replace(/__ARITH_(\d+)__/g,(d,u)=>o[parseInt(u)]),l=l.replace(/__PARAM_(\d+)__/g,(d,u)=>a[parseInt(u)]),l=l.replace(/__VAR_(\d+)__/g,(d,u)=>i[parseInt(u)]),l=l.replace(/__SUBSH_(\d+)__/g,(d,u)=>c[parseInt(u)]),l}var Nl={},Vd,Zv;function $3(){return Zv||(Zv=1,Vd=function(t){return t.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}),Vd}var Gd,eb;function H3(){if(eb)return Gd;eb=1;for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",t=new RegExp("^"+e+"$"),r="|&;()<> \\t",n='"((\\\\"|[^"])*?)"',o="'((\\\\'|[^'])*?)'",a=/^#$/,i="'",c='"',l="$",d="",u=4294967296,p=0;p<4;p++)d+=(u*Math.random()).toString(16);var m=new RegExp("^"+d);function g(v,N){for(var y=N.lastIndex,w=[],b;b=N.exec(v);)w.push(b),N.lastIndex===b.index&&(N.lastIndex+=1);return N.lastIndex=y,w}function f(v,N,y){var w=typeof v=="function"?v(y):v[y];return typeof w>"u"&&y!=""?w="":typeof w>"u"&&(w="$"),typeof w=="object"?N+d+JSON.stringify(w)+d:N+w}function x(v,N,y){y||(y={});var w=y.escape||"\\",b="(\\"+w+`['"`+r+`]|[^\\s'"`+r+"])+",k=new RegExp(["("+e+")","("+b+"|"+n+"|"+o+")+"].join("|"),"g"),_=g(v,k);if(_.length===0)return[];N||(N={});var j=!1;return _.map(function(T){var S=T[0];if(!S||j)return;if(t.test(S))return{op:S};var I=!1,E=!1,M="",R=!1,C;function q(){C+=1;var te,Q,O=S.charAt(C);if(O==="{"){if(C+=1,S.charAt(C)==="}")throw new Error("Bad substitution: "+S.slice(C-2,C+1));if(te=S.indexOf("}",C),te<0)throw new Error("Bad substitution: "+S.slice(C));Q=S.slice(C,te),C=te}else if(/[*@#?$!_-]/.test(O))Q=O,C+=1;else{var F=S.slice(C);te=F.match(/[^\w\d_]/),te?(Q=F.slice(0,te.index),C+=te.index-1):(Q=F,C=S.length)}return f(N,"",Q)}for(C=0;C<S.length;C++){var B=S.charAt(C);if(R=R||!I&&(B==="*"||B==="?"),E)M+=B,E=!1;else if(I)B===I?I=!1:I==i?M+=B:B===w?(C+=1,B=S.charAt(C),B===c||B===w||B===l?M+=B:M+=w+B):B===l?M+=q():M+=B;else if(B===c||B===i)I=B;else{if(t.test(B))return{op:S};if(a.test(B)){j=!0;var U={comment:v.slice(T.index+C+1)};return M.length?[M,U]:[U]}else B===w?E=!0:B===l?M+=q():M+=B}}return R?{op:"glob",pattern:M}:M}).reduce(function(T,S){return typeof S>"u"?T:T.concat(S)},[])}return Gd=function(N,y,w){var b=x(N,y,w);return typeof y!="function"?b:b.reduce(function(k,_){if(typeof _=="object")return k.concat(_);var j=_.split(RegExp("("+d+".*?"+d+")","g"));return j.length===1?k.concat(j[0]):k.concat(j.filter(Boolean).map(function(T){return m.test(T)?JSON.parse(T.split(d)[1]):T}))},[])},Gd}var tb;function V3(){return tb||(tb=1,Nl.quote=$3(),Nl.parse=H3()),Nl}var G3=V3();function Q3(e){if(!(e!=null&&e.trim()))return[];const t=new Set;try{const r=G3.parse(e),n=new Set(["|","&&","||",";"]);let o=[];for(const a of r)typeof a=="object"&&"op"in a&&n.has(a.op)?o.length>0&&(sb(o,t),o=[]):typeof a=="string"&&o.push(a);o.length>0&&sb(o,t)}catch(r){console.warn("Failed to parse command:",r);const n=e.trim().split(/\s+/)[0];n&&t.add(n)}return Array.from(t).sort()}function sb(e,t){if(e.length===0||typeof e[0]!="string")return;const r=e[0];if(/^\d+$/.test(r))return;t.add(r);const n=[/^-/,/[\\/:.~ ]/],o=Math.min(e.length,3);for(let a=1;a<o;a++){const i=e[a];if(typeof i!="string"||n.some(l=>l.test(i)))break;const c=e.slice(0,a+1).join(" ");t.add(c.trim())}}const Y3=({patterns:e,allowedCommands:t,deniedCommands:r,onAllowPatternChange:n,onDenyPatternChange:o})=>{const{t:a}=bt(),[i,c]=h.useState(!1),[l,d]=h.useState({}),u=h.useMemo(()=>{const f=new Set;return e.filter(v=>f.has(v.pattern)?!1:(f.add(v.pattern),!0))},[e]),p=f=>t.includes(f)?"allowed":r.includes(f)?"denied":"none",m=f=>l[f]||{isEditing:!1,value:f},g=(f,x,v)=>{d(N=>({...N,[f]:{isEditing:x,value:v??f}}))};return s.jsxs("div",{className:"border-t border-vscode-panel-border/50 bg-vscode-sideBar-background/30",children:[s.jsx("button",{onClick:()=>c(!i),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-vscode-list-hoverBackground transition-colors",children:s.jsxs("div",{className:"group flex items-center gap-2 cursor-pointer w-full text-left",children:[s.jsxs("span",{className:ee("text-sm flex-1 group-hover:opacity-100",i?"opacity-100":"opacity-40"),children:[s.jsx(Cg,{className:"size-3 inline-block mr-2"}),a("chat:commandExecution.manageCommands")]}),s.jsx(Bc,{className:ee("group-hover:opacity-100 size-4 transition-transform",i?"opacity-100":"opacity-40 -rotate-180")})]})}),i&&s.jsx("div",{className:"pl-6 pr-2 pt-1 pb-2 space-y-2",children:u.map(f=>{const x=m(f.pattern),v=p(x.value);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1",children:x.isEditing?s.jsx("input",{type:"text",value:x.value,onChange:N=>g(f.pattern,!0,N.target.value),onBlur:()=>g(f.pattern,!1),onKeyDown:N=>{N.key==="Enter"&&g(f.pattern,!1),N.key==="Escape"&&g(f.pattern,!1,f.pattern)},className:"font-mono text-xs bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border rounded px-2 py-1.5 w-full focus:outline-0 focus:ring-1 focus:ring-vscode-focusBorder",placeholder:f.pattern,autoFocus:!0}):s.jsxs("div",{onClick:()=>g(f.pattern,!0),className:"font-mono text-xs text-vscode-foreground cursor-pointer hover:bg-vscode-list-hoverBackground px-2 py-1.5 rounded transition-colors border border-transparent break-all",title:"Click to edit pattern",children:[s.jsx("span",{className:"break-all",children:x.value}),f.description&&s.jsxs("span",{className:"text-vscode-descriptionForeground ml-2",children:["- ",f.description]})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(de,{content:a(v==="allowed"?"chat:commandExecution.removeFromAllowed":"chat:commandExecution.addToAllowed"),children:s.jsx("button",{className:ee("p-1 rounded transition-all cursor-pointer",{"bg-green-500/20 text-green-500 hover:bg-green-500/30":v==="allowed","text-vscode-descriptionForeground hover:text-green-500 hover:bg-green-500/10":v!=="allowed"}),onClick:()=>n(x.value),"aria-label":a(v==="allowed"?"chat:commandExecution.removeFromAllowed":"chat:commandExecution.addToAllowed"),children:s.jsx(Nr,{className:"size-3.5"})})}),s.jsx(de,{content:a(v==="denied"?"chat:commandExecution.removeFromDenied":"chat:commandExecution.addToDenied"),children:s.jsx("button",{className:ee("p-1 rounded transition-all cursor-pointer",{"bg-red-500/20 text-red-500 hover:bg-red-500/30":v==="denied","text-vscode-descriptionForeground hover:text-red-500 hover:bg-red-500/10":v!=="denied"}),onClick:()=>o(x.value),"aria-label":a(v==="denied"?"chat:commandExecution.removeFromDenied":"chat:commandExecution.addToDenied"),children:s.jsx(xn,{className:"size-3.5"})})})]})]},f.pattern)})})]})},fN=({executionId:e,text:t,icon:r,title:n})=>{const{terminalShellIntegrationDisabled:o=!0,allowedCommands:a=[],deniedCommands:i=[],setAllowedCommands:c,setDeniedCommands:l}=Ge(),{command:d,output:u}=h.useMemo(()=>Z3(t),[t]),[p,m]=h.useState(o),[g,f]=h.useState(""),[x,v]=h.useState(null),N=g||u,y=h.useMemo(()=>{const _=K3(d),j=new Set;return _.forEach(T=>{T.trim()&&j.add(T.trim())}),_.forEach(T=>{Q3(T).forEach(I=>j.add(I))}),Array.from(j).map(T=>({pattern:T}))},[d]),w=_=>{const T=a.includes(_)?a.filter(I=>I!==_):[...a,_],S=i.filter(I=>I!==_);c(T),l(S),A.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:T,deniedCommands:S}})},b=_=>{const T=i.includes(_)?i.filter(I=>I!==_):[...i,_],S=a.filter(I=>I!==_);c(S),l(T),A.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:S,deniedCommands:T}})},k=h.useCallback(_=>{const j=_.data;if(j.type==="commandExecutionStatus"){const T=ZS.safeParse(dr(j.text,{}));if(T.success){const S=T.data;if(S.executionId!==e)return;switch(S.status){case"started":v(S);break;case"output":f(S.output);break;case"fallback":m(!0);break;default:v(S);break}}}},[e]);return tr("message",k),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[r,n,(x==null?void 0:x.status)==="exited"&&s.jsx("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:s.jsx(de,{content:br("chat.commandExecution.exitStatus",{exitStatus:x.exitCode}),children:s.jsx("div",{className:ee("rounded-full size-2",x.exitCode===0?"bg-green-600":"bg-red-600")})})})]}),s.jsx("div",{className:" flex flex-row items-center justify-between gap-2 px-1",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[(x==null?void 0:x.status)==="started"&&s.jsxs("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:[x.pid&&s.jsxs("div",{className:"whitespace-nowrap",children:["(PID: ",x.pid,")"]}),s.jsx(de,{content:br("chat:commandExecution.abort"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>A.postMessage({type:"terminalOperation",terminalOperation:"abort"}),children:s.jsx(eT,{className:"size-4"})})})]}),N.length>0&&s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>m(!p),children:s.jsx(Vo,{className:ee("size-4 transition-transform duration-300",p&&"rotate-180")})})]})})]}),s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-border rounded-xs ml-6 mt-2",children:[s.jsxs("div",{className:"p-2",children:[s.jsx(In,{source:d,language:"shell"}),s.jsx(J3,{isExpanded:p,output:N})]}),d&&d.trim()&&s.jsx(Y3,{patterns:y,allowedCommands:a,deniedCommands:i,onAllowPatternChange:w,onDenyPatternChange:b})]})]})};fN.displayName="CommandExecution";const X3=({isExpanded:e,output:t})=>s.jsx("div",{className:ee("overflow-hidden",{"max-h-0":!e,"max-h-[100%] mt-1 pt-1 border-t border-border/25":e}),children:t.length>0&&s.jsx(In,{source:t,language:"log"})}),J3=h.memo(X3),Z3=e=>{if(!e)return{command:"",output:""};const t=e.indexOf(Sh);return t===-1?{command:e,output:""}:{command:e.slice(0,t),output:e.slice(t+Sh.length)}};function It(e,t){const r=e.replace(/^\//,"").replace("troubleshooting/shell-integration/","features/shell-integration"),[n,o]=r.split("#"),a=`https://kilo.ai/docs/${n}`;return o?`${a}#${o}`:a}const e4=()=>{const{t:e}=bt(),t=h.useCallback(r=>{r.preventDefault(),window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"terminal"}},"*")},[]);return s.jsx("div",{className:"text-sm bg-vscode-editor-background border border-vscode-border rounded-lg p-3 ml-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"codicon codicon-warning mr-1 text-vscode-editorWarning-foreground"}),s.jsx("span",{className:"text-vscode-editorWarning-foreground font-semibold",children:e("chat:shellIntegration.title")})]}),s.jsx("div",{children:s.jsx(je,{i18nKey:"chat:shellIntegration.description",components:{settingsLink:s.jsx(Fe,{href:"#",onClick:t,className:"inline"})}})}),s.jsx("a",{href:It("troubleshooting/shell-integration/"),className:"underline",style:{color:"inherit"},children:e("chat:shellIntegration.troubleshooting")})]})})},t4=({data:e})=>{const t=He.useMemo(()=>{try{return JSON.parse(e||"{}")}catch(r){return console.error("Failed to parse bug report data",r),{}}},[e]);return s.jsxs("div",{className:"bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)] rounded-[3px] p-[14px]",children:[s.jsx("h3",{className:"font-bold text-base mb-3 mt-0",children:t.title||"Bug Report"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[t.description&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"What Happened?"}),s.jsx(pr,{markdown:t.description})]}),t.provider_and_model&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Provider/Model"}),s.jsx(pr,{markdown:t.provider_and_model})]}),t.operating_system&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Operating System"}),s.jsx(pr,{markdown:t.operating_system})]}),t.system_info&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"System Info"}),s.jsx(pr,{markdown:t.system_info})]}),t.kilocode_version&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Kilo Code Version"}),s.jsx(pr,{markdown:t.kilocode_version})]})]})]})},s4=h.memo(({message:e})=>{const[t,r]=h.useState(!1),{count:n,type:o="requests"}=JSON.parse(e.text??"{}");if(t)return null;const a=o==="cost",i=a?"ask.autoApprovedCostLimitReached.title":"ask.autoApprovedRequestLimitReached.title",c=a?"ask.autoApprovedCostLimitReached.description":"ask.autoApprovedRequestLimitReached.description",l=a?"ask.autoApprovedCostLimitReached.button":"ask.autoApprovedRequestLimitReached.button";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--vscode-foreground)"},children:[s.jsx("span",{className:"codicon codicon-warning"}),s.jsx("span",{style:{fontWeight:"bold"},children:s.jsx(je,{i18nKey:i,ns:"chat"})})]}),s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3",style:{borderRadius:"4px",display:"flex",marginTop:"15px",padding:"14px 16px 22px",justifyContent:"center"},children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(je,{i18nKey:c,ns:"chat",values:{count:n}})}),s.jsx(ae,{style:{width:"100%",padding:"6px",borderRadius:"4px"},onClick:d=>{d.preventDefault(),r(!0),A.postMessage({type:"askResponse",askResponse:"yesButtonClicked"})},children:s.jsx(je,{i18nKey:l,ns:"chat"})})]})]})});function rb({eventType:e}){const{t}=bt(),r=t(e==="condense_context"?"chat:contextManagement.condensation.inProgress":"chat:contextManagement.truncation.inProgress");return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:r})]})}function r4({data:e}){const{t}=bt(),[r,n]=h.useState(!1),{cost:o,prevContextTokens:a,newContextTokens:i,summary:c}=e,l=a??0,d=i??0,u=o??0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>n(!r),children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(nd,{size:16,className:"text-vscode-foreground"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.condensation.title")}),s.jsxs("span",{className:"text-vscode-descriptionForeground text-sm",children:[l.toLocaleString(),"  ",d.toLocaleString()," ",t("chat:contextManagement.tokens")]}),s.jsxs(uc,{className:u>0?"opacity-100":"opacity-0",children:["$",u.toFixed(2)]})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"}`})]}),r&&s.jsx("div",{className:"mt-2 ml-0 p-4 bg-vscode-editor-background rounded text-vscode-foreground text-sm",children:s.jsx(Wn,{markdown:c})})]})}function n4({errorText:e}){const{t}=bt();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-warning text-vscode-editorWarning-foreground opacity-80 text-base -mb-0.5"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.condensation.errorHeader")})]}),e&&s.jsx("span",{className:"text-vscode-descriptionForeground text-sm",children:e})]})}function o4({data:e}){const{t}=bt(),[r,n]=h.useState(!1),{messagesRemoved:o,prevContextTokens:a,newContextTokens:i}=e,c=o??0,l=a??0,d=i??0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>n(!r),children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(nd,{size:16,className:"text-vscode-foreground"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.truncation.title")}),s.jsxs("span",{className:"text-vscode-descriptionForeground text-sm",children:[l.toLocaleString(),"  ",d.toLocaleString()," ",t("chat:contextManagement.tokens")]})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"}`})]}),r&&s.jsx("div",{className:"mt-2 ml-0 p-4 bg-vscode-editor-background rounded text-vscode-foreground text-sm",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-vscode-descriptionForeground",children:t("chat:contextManagement.truncation.messagesRemoved",{count:c})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs",children:t("chat:contextManagement.truncation.description")})]})})]})}const a4=({filePath:e,score:t,startLine:r,endLine:n})=>{const{t:o}=bt("chat"),a=()=>{console.log(e),A.postMessage({type:"openFile",text:"./"+e,values:{line:r}})};return s.jsx(de,{content:o("codebaseSearch.resultTooltip",{score:t.toFixed(3)}),children:s.jsx("div",{onClick:a,className:"p-2 border border-[var(--vscode-editorGroup-border)] cursor-pointer hover:bg-secondary hover:text-white",children:s.jsxs("div",{className:"flex gap-2 items-center overflow-hidden",children:[s.jsxs("span",{className:"text-primary-300 whitespace-nowrap flex-shrink-0",children:[e.split("/").at(-1),":",r===n?r:`${r}-${n}`]}),s.jsx("span",{className:"text-gray-500 truncate min-w-0 flex-1",children:e.split("/").slice(0,-1).join("/")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground whitespace-nowrap ml-auto opacity-60",children:t.toFixed(3)})]})})})},i4=({results:e})=>{const[t,r]=h.useState(!1);return s.jsxs("div",{className:"flex flex-col -mt-4 gap-1",children:[s.jsxs("div",{onClick:()=>r(!t),className:"cursor-pointer flex items-center justify-between px-2 py-2 border bg-[var(--vscode-editor-background)] border-[var(--vscode-editorGroup-border)]",children:[s.jsx("span",{children:s.jsx(je,{i18nKey:"chat:codebaseSearch.didSearch",count:e.length,values:{count:e.length}})}),s.jsx("span",{className:`codicon codicon-chevron-${t?"up":"down"}`})]}),t&&s.jsx("div",{className:"flex flex-col gap-1",children:e.map((n,o)=>s.jsx(a4,{filePath:n.filePath,score:n.score,startLine:n.startLine,endLine:n.endLine,language:"plaintext",snippet:n.codeChunk},o))})]})},mf=({tool:e,serverName:t,serverSource:r,alwaysAllowMcp:n,isInChatContext:o=!1})=>{const{t:a}=oe(),i=e.enabledForPrompt??!0,c=()=>{t&&A.postMessage({type:"toggleToolAlwaysAllow",serverName:t,source:r||"global",toolName:e.name,alwaysAllow:!e.alwaysAllow})},l=()=>{t&&A.postMessage({type:"toggleToolEnabledForPrompt",serverName:t,source:r||"global",toolName:e.name,isEnabled:!e.enabledForPrompt})};return s.jsxs("div",{className:"py-2 border-b border-vscode-panel-border last:border-b-0",children:[s.jsxs("div",{"data-testid":"tool-row-container",className:"flex items-center gap-4",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("span",{className:`codicon codicon-symbol-method mr-2 flex-shrink-0 ${i?"text-vscode-symbolIcon-methodForeground":"text-vscode-descriptionForeground opacity-60"}`}),s.jsx(de,{content:e.name,children:s.jsx("span",{className:`font-medium truncate ${i?"text-vscode-foreground":"text-vscode-descriptionForeground opacity-60"}`,children:e.name})})]}),t&&s.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n&&i&&s.jsx(ze,{checked:e.alwaysAllow,onChange:c,"data-tool":e.name,className:"text-xs",children:s.jsx("span",{className:"text-vscode-descriptionForeground whitespace-nowrap",children:a("mcp:tool.alwaysAllow")})}),!o&&s.jsx(de,{content:a("mcp:tool.togglePromptInclusion"),children:s.jsx(W_,{checked:i,onChange:l,size:"medium","aria-label":a("mcp:tool.togglePromptInclusion"),"data-testid":`tool-prompt-toggle-${e.name}`})})]})]}),e.description&&s.jsx("div",{className:`mt-1 text-xs text-vscode-descriptionForeground ${i?"opacity-80":"opacity-40"}`,children:e.description}),i&&e.inputSchema&&"properties"in e.inputSchema&&Object.keys(e.inputSchema.properties).length>0&&s.jsxs("div",{className:"mt-2 text-xs border border-vscode-panel-border rounded p-2",children:[s.jsx("div",{className:"mb-1 text-[11px] uppercase opacity-80 text-vscode-descriptionForeground",children:a("mcp:tool.parameters")}),Object.entries(e.inputSchema.properties).map(([d,u])=>{const p=e.inputSchema&&"required"in e.inputSchema&&Array.isArray(e.inputSchema.required)&&e.inputSchema.required.includes(d);return s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsxs("code",{className:"text-vscode-textPreformat-foreground mr-2",children:[d,p&&s.jsx("span",{className:"text-vscode-errorForeground",children:"*"})]}),s.jsx("span",{className:"opacity-80 break-words text-vscode-descriptionForeground",children:u.description||a("mcp:tool.noDescription")})]},d)})]})]},e.name)};function l4(e){const t="renamed_";return!e||!e.startsWith(t)?e:e.substring(t.length)}const gN=({executionId:e,text:t,serverName:r,toolName:n,isArguments:o=!1,server:a,useMcpServer:i,alwaysAllowMcp:c=!1,initiallyExpanded:l=!1})=>{var C,q,B,U;const{t:d}=bt("mcp"),[u,p]=h.useState(null),[m,g]=h.useState(t||""),[f,x]=h.useState(t||""),[v,N]=h.useState(r),[y,w]=h.useState(n),[b,k]=h.useState(l),_=h.useCallback(te=>{if(!te)return{isJson:!1,formatted:""};try{const Q=JSON.parse(te);return{isJson:!0,formatted:JSON.stringify(Q,null,2)}}catch{return{isJson:!1,formatted:te}}},[]),j=h.useMemo(()=>b?u&&u.status==="completed"?_(m):{isJson:!1,formatted:m}:{isJson:!1,formatted:m},[m,b,_,u]),T=h.useMemo(()=>{if(!f)return{isJson:!1,formatted:""};const te=f.trim();if(te&&(te.startsWith("{")&&te.endsWith("}")||te.startsWith("[")&&te.endsWith("]")))try{const Q=JSON.parse(te);return{isJson:!0,formatted:JSON.stringify(Q,null,2)}}catch{return{isJson:!1,formatted:f}}return{isJson:!1,formatted:f}},[f]),S=j.formatted,I=T.formatted,E=j.isJson,M=h.useCallback(()=>{k(!b)},[b]),R=h.useCallback(te=>{const Q=te.data;if(Q.type==="mcpExecutionStatus")try{const O=tT.safeParse(dr(Q.text||"{}",{}));if(O.success){const F=O.data;F.executionId===e&&(p(F),F.status==="output"&&F.response?g(W=>W+F.response):F.status==="completed"&&F.response&&g(F.response))}}catch(O){console.error("Failed to parse MCP execution status",O)}},[e]);return tr("message",R),h.useEffect(()=>{t&&x(t),i!=null&&i.response&&g(i.response),r&&r!==v&&N(r),n&&n!==y&&w(n)},[t,i,r,n,v,y,o]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 mb-1 cursor-pointer select-none",onClick:M,children:[s.jsxs("div",{className:"flex flex-row items-center gap-1 flex-wrap",children:[s.jsx(Lg,{size:16,className:"text-vscode-descriptionForeground"}),s.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:y&&s.jsx("span",{className:"font-bold text-vscode-foreground",children:y})})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-1",children:[s.jsx("div",{className:"flex flex-row items-center gap-1",children:u&&s.jsxs("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:[s.jsx("div",{className:ee("rounded-full size-1.5",{"bg-lime-400":u.status==="started"||u.status==="completed","bg-red-400":u.status==="error"})}),s.jsx("div",{className:ee("whitespace-nowrap",{"text-vscode-foreground":u.status==="started"||u.status==="completed","text-vscode-errorForeground":u.status==="error"}),children:u.status==="started"?d("execution.running"):u.status==="completed"?d("execution.completed"):d("execution.error")}),u.status==="error"&&"error"in u&&u.error&&s.jsxs("div",{className:"whitespace-nowrap",children:["(",u.error,")"]})]})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),M()},children:b?s.jsx(Vo,{className:"size-4"}):s.jsx(Y1,{className:"size-4"})})]})]}),s.jsxs("div",{className:ee("w-full bg-vscode-editor-background rounded-xs p-2",!b&&"hidden"),children:[(i==null?void 0:i.type)==="use_mcp_tool"&&s.jsx("div",{onClick:te=>te.stopPropagation(),children:s.jsx(mf,{tool:{name:i.toolName||"",description:((q=(C=a==null?void 0:a.tools)==null?void 0:C.find(te=>te.name===i.toolName))==null?void 0:q.description)||"",alwaysAllow:((U=(B=a==null?void 0:a.tools)==null?void 0:B.find(te=>te.name===i.toolName))==null?void 0:U.alwaysAllow)||!1},serverName:i.serverName,serverSource:a==null?void 0:a.source,alwaysAllowMcp:c,isInChatContext:!0})}),!i&&y&&v&&s.jsx("div",{onClick:te=>te.stopPropagation(),children:s.jsx(mf,{tool:{name:y||"",description:"",alwaysAllow:!1},serverName:v,serverSource:void 0,alwaysAllowMcp:c,isInChatContext:!0})}),(o||(i==null?void 0:i.arguments)||f)&&s.jsx("div",{className:ee({"mt-1 pt-1":!o&&((i==null?void 0:i.type)==="use_mcp_tool"||y&&v)}),children:s.jsx(In,{source:l4(I),language:"json"})}),s.jsx(d4,{isExpanded:b,response:S,isJson:E,hasArguments:!!(o||i!=null&&i.arguments||f),isPartial:u?u.status!=="completed":!1})]})]})};gN.displayName="McpExecution";const c4=({isExpanded:e,response:t,isJson:r,hasArguments:n,isPartial:o=!1})=>!e||t.length===0?s.jsx("div",{className:ee("overflow-hidden",{"max-h-0":!e})}):s.jsx("div",{className:ee("overflow-hidden",{"max-h-96 overflow-y-auto mt-1 pt-1 border-t border-border/25":n,"max-h-96 overflow-y-auto mt-1 pt-1":!n}),children:r?s.jsx(In,{source:t,language:"json"}):s.jsx(Wn,{markdown:t,partial:o})}),d4=h.memo(c4);/** @license
 * fzf v0.5.2
 * Copyright (c) 2021 Ajit
 * Licensed under BSD 3-Clause
 */const ex={216:"O",223:"s",248:"o",273:"d",295:"h",305:"i",320:"l",322:"l",359:"t",383:"s",384:"b",385:"B",387:"b",390:"O",392:"c",393:"D",394:"D",396:"d",398:"E",400:"E",402:"f",403:"G",407:"I",409:"k",410:"l",412:"M",413:"N",414:"n",415:"O",421:"p",427:"t",429:"t",430:"T",434:"V",436:"y",438:"z",477:"e",485:"g",544:"N",545:"d",549:"z",564:"l",565:"n",566:"t",567:"j",570:"A",571:"C",572:"c",573:"L",574:"T",575:"s",576:"z",579:"B",580:"U",581:"V",582:"E",583:"e",584:"J",585:"j",586:"Q",587:"q",588:"R",589:"r",590:"Y",591:"y",592:"a",593:"a",595:"b",596:"o",597:"c",598:"d",599:"d",600:"e",603:"e",604:"e",605:"e",606:"e",607:"j",608:"g",609:"g",610:"G",613:"h",614:"h",616:"i",618:"I",619:"l",620:"l",621:"l",623:"m",624:"m",625:"m",626:"n",627:"n",628:"N",629:"o",633:"r",634:"r",635:"r",636:"r",637:"r",638:"r",639:"r",640:"R",641:"R",642:"s",647:"t",648:"t",649:"u",651:"v",652:"v",653:"w",654:"y",655:"Y",656:"z",657:"z",663:"c",665:"B",666:"e",667:"G",668:"H",669:"j",670:"k",671:"L",672:"q",686:"h",867:"a",868:"e",869:"i",870:"o",871:"u",872:"c",873:"d",874:"h",875:"m",876:"r",877:"t",878:"v",879:"x",7424:"A",7427:"B",7428:"C",7429:"D",7431:"E",7432:"e",7433:"i",7434:"J",7435:"K",7436:"L",7437:"M",7438:"N",7439:"O",7440:"O",7441:"o",7442:"o",7443:"o",7446:"o",7447:"o",7448:"P",7449:"R",7450:"R",7451:"T",7452:"U",7453:"u",7454:"u",7455:"m",7456:"V",7457:"W",7458:"Z",7522:"i",7523:"r",7524:"u",7525:"v",7834:"a",7835:"s",8305:"i",8341:"h",8342:"k",8343:"l",8344:"m",8345:"n",8346:"p",8347:"s",8348:"t",8580:"c"};for(let e="".codePointAt(0);e<="".codePointAt(0);++e){const t=String.fromCodePoint(e);for(const r of"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){const o=(r+t).normalize().codePointAt(0);o>126&&(ex[o]=r)}}const Qd={a:[7844,7863],e:[7870,7879],o:[7888,7907],u:[7912,7921]};for(const e of Object.keys(Qd)){const t=e.toUpperCase();for(let r=Qd[e][0];r<=Qd[e][1];++r)ex[r]=r%2===0?t:e}function sl(e){if(e<192||e>8580)return e;const t=ex[e];return t!==void 0?t.codePointAt(0):e}function $n(e,t){return e>t?e:t}const xN=e=>e.split("").map(t=>t.codePointAt(0)),u4=new Set(` \f
\r	\v\u2028\u2029\uFEFF`.split("").map(e=>e.codePointAt(0)));for(let e="".codePointAt(0);e<="".codePointAt(0);e++)u4.add(e);const qa="".codePointAt(0),Ei="A".codePointAt(0),Mi="Z".codePointAt(0),vN="a".codePointAt(0),bN="z".codePointAt(0),p4="0".codePointAt(0),m4="9".codePointAt(0);function ua(e,t,r){return r?e:t-e-1}const Ai=16,hf=-3,jc=-1,Ho=Ai/2,h4=Ai/2,f4=Ho+jc,yN=4,wN=2;function ff(e){return e?new Set:null}function ai(e,t,r){if(t!==null&&t.i16.length>e+r){const n=t.i16.subarray(e,e+r);return[e+r,n]}return[e,new Int16Array(r)]}function nb(e,t,r){if(t!==null&&t.i32.length>e+r){const n=t.i32.subarray(e,e+r);return[e+r,n]}return[e,new Int32Array(r)]}function kN(e){return e>=vN&&e<=bN?1:e>=Ei&&e<=Mi?2:e>=p4&&e<=m4?4:0}function jN(e){const t=String.fromCodePoint(e);return t!==t.toUpperCase()?1:t!==t.toLowerCase()?2:t.match(new RegExp("\\p{Number}","gu"))!==null?4:t.match(new RegExp("\\p{Letter}","gu"))!==null?3:0}function _c(e){return e<=qa?kN(e):jN(e)}function tx(e,t){return e===0&&t!==0?Ho:e===1&&t===2||e!==4&&t===4?f4:t===0?h4:0}function g4(e,t){return t===0?Ho:tx(_c(e[t-1]),_c(e[t]))}function x4(e,t,r,n){let o=e.slice(n),a=o.indexOf(r);if(a===0)return n;if(!t&&r>=vN&&r<=bN){a>0&&(o=o.slice(0,a));const i=o.indexOf(r-32);i>=0&&(a=i)}return a<0?-1:n+a}function ob(e){for(const t of e)if(t>=128)return!1;return!0}function sx(e,t,r){if(!ob(e))return 0;if(!ob(t))return-1;let n=0,o=0;for(let a=0;a<t.length;a++){if(o=x4(e,r,t[a],o),o<0)return-1;a===0&&o>0&&(n=o-1),o++}return n}const v4=(e,t,r,n,o,a,i)=>{const c=o.length;if(c===0)return[{start:0,end:0,score:0},ff(a)];const l=n.length;if(i!==null&&l*c>i.i16.length)return NN(e,t,r,n,o,a);const d=sx(n,o,e);if(d<0)return[{start:-1,end:-1,score:0},null];let u=0,p=0,m=null,g=null,f=null,x=null;[u,m]=ai(u,i,l),[u,g]=ai(u,i,l),[u,f]=ai(u,i,l),[p,x]=nb(p,i,c);const[,v]=nb(p,i,l);for(let W=0;W<v.length;W++)v[W]=n[W];let N=0,y=0,w=0,b=0;const k=o[0];let _=o[0],j=0,T=0,S=!1,I=v.subarray(d),E=m.subarray(d).subarray(0,I.length),M=g.subarray(d).subarray(0,I.length),R=f.subarray(d).subarray(0,I.length);for(let[W,re]of I.entries()){let H=null;re<=qa?(H=kN(re),!e&&H===2&&(re+=32)):(H=jN(re),!e&&H===2&&(re=String.fromCodePoint(re).toLowerCase().codePointAt(0)),t&&(re=sl(re))),I[W]=re;const Z=tx(T,H);if(R[W]=Z,T=H,re===_&&(w<c&&(x[w]=d+W,w++,_=o[Math.min(w,c-1)]),b=d+W),re===k){const Y=Ai+Z*wN;if(E[W]=Y,M[W]=1,c===1&&(r&&Y>N||!r&&Y>=N)&&(N=Y,y=d+W,r&&Z===Ho))break;S=!1}else S?E[W]=$n(j+jc,0):E[W]=$n(j+hf,0),M[W]=0,S=!0;j=E[W]}if(w!==c)return[{start:-1,end:-1,score:0},null];if(c===1){const W={start:y,end:y+1,score:N};if(!a)return[W,null];const re=new Set;return re.add(y),[W,re]}const C=x[0],q=b-C+1;let B=null;[u,B]=ai(u,i,q*c);{const W=m.subarray(C,b+1);for(const[re,H]of W.entries())B[re]=H}let[,U]=ai(u,i,q*c);{const W=g.subarray(C,b+1);for(const[re,H]of W.entries())U[re]=H}const te=x.subarray(1),Q=o.slice(1).slice(0,te.length);for(const[W,re]of te.entries()){let H=!1;const Z=Q[W],Y=W+1,G=Y*q,ie=v.subarray(re,b+1),D=f.subarray(re).subarray(0,ie.length),me=U.subarray(G+re-C).subarray(0,ie.length),xe=U.subarray(G+re-C-1-q).subarray(0,ie.length),we=B.subarray(G+re-C).subarray(0,ie.length),Pe=B.subarray(G+re-C-1-q).subarray(0,ie.length),Ce=B.subarray(G+re-C-1).subarray(0,ie.length);Ce[0]=0;for(const[L,Se]of ie.entries()){const X=L+re;let $e=0,ut=0,V=0;if(H?ut=Ce[L]+jc:ut=Ce[L]+hf,Z===Se){$e=Pe[L]+Ai;let Te=D[L];V=xe[L]+1,Te===Ho?V=1:V>1&&(Te=$n(Te,$n(yN,f[X-V+1]))),$e+Te<ut?($e+=D[L],V=0):$e+=Te}me[L]=V,H=$e<ut;const ke=$n($n($e,ut),0);Y===c-1&&(r&&ke>N||!r&&ke>=N)&&(N=ke,y=X),we[L]=ke}}const O=ff(a);let F=C;if(a&&O!==null){let W=c-1;F=y;let re=!0;for(;;){const H=W*q,Z=F-C,Y=B[H+Z];let G=0,ie=0;if(W>0&&F>=x[W]&&(G=B[H-q+Z-1]),F>x[W]&&(ie=B[H+Z-1]),Y>G&&(Y>ie||Y===ie&&re)){if(O.add(F),W===0)break;W--}re=U[H+Z]>1||H+q+Z+1<U.length&&U[H+q+Z+1]>0,F--}}return[{start:F,end:y+1,score:N},O]};function _N(e,t,r,n,o,a,i){let c=0,l=0,d=!1,u=0,p=0;const m=ff(i);let g=0;o>0&&(g=_c(r[o-1]));for(let f=o;f<a;f++){let x=r[f];const v=_c(x);if(e||(x>=Ei&&x<=Mi?x+=32:x>qa&&(x=String.fromCodePoint(x).toLowerCase().codePointAt(0))),t&&(x=sl(x)),x===n[c]){i&&m!==null&&m.add(f),l+=Ai;let N=tx(g,v);u===0?p=N:(N===Ho&&(p=N),N=$n($n(N,p),yN)),c===0?l+=N*wN:l+=N,d=!1,u++,c++}else d?l+=jc:l+=hf,d=!0,u=0,p=0;g=v}return[l,m]}const NN=(e,t,r,n,o,a,i)=>{if(o.length===0)return[{start:0,end:0,score:0},null];if(sx(n,o,e)<0)return[{start:-1,end:-1,score:0},null];let c=0,l=-1,d=-1;const u=n.length,p=o.length;for(let m=0;m<u;m++){let g=n[ua(m,u,r)];e||(g>=Ei&&g<=Mi?g+=32:g>qa&&(g=String.fromCodePoint(g).toLowerCase().codePointAt(0))),t&&(g=sl(g));const f=o[ua(c,p,r)];if(g===f&&(l<0&&(l=m),c++,c===p)){d=m+1;break}}if(l>=0&&d>=0){c--;for(let f=d-1;f>=l;f--){const x=ua(f,u,r);let v=n[x];e||(v>=Ei&&v<=Mi?v+=32:v>qa&&(v=String.fromCodePoint(v).toLowerCase().codePointAt(0)));const N=ua(c,p,r),y=o[N];if(v===y&&(c--,c<0)){l=f;break}}if(!r){const f=l;l=u-d,d=u-f}const[m,g]=_N(e,t,n,o,l,d,a);return[{start:l,end:d,score:m},g]}return[{start:-1,end:-1,score:0},null]},b4=(e,t,r,n,o,a,i)=>{if(o.length===0)return[{start:0,end:0,score:0},null];const c=n.length,l=o.length;if(c<l)return[{start:-1,end:-1,score:0},null];if(sx(n,o,e)<0)return[{start:-1,end:-1,score:0},null];let d=0,u=-1,p=0,m=-1;for(let g=0;g<c;g++){const f=ua(g,c,r);let x=n[f];e||(x>=Ei&&x<=Mi?x+=32:x>qa&&(x=String.fromCodePoint(x).toLowerCase().codePointAt(0))),t&&(x=sl(x));const v=ua(d,l,r);if(o[v]===x){if(v===0&&(p=g4(n,f)),d++,d===l){if(p>m&&(u=g,m=p),p===Ho)break;g-=d-1,d=0,p=0}}else g-=d,d=0,p=0}if(u>=0){let g=0,f=0;r?(g=u-l+1,f=u+1):(g=c-(u+1),f=c-(u-l+1));const[x]=_N(e,t,n,o,g,f,!1);return[{start:g,end:f,score:x},null]}return[{start:-1,end:-1,score:0},null]},y4=100*1024,w4=2048;function k4(e,t){return{i16:new Int16Array(e),i32:new Int32Array(t)}}const j4=k4(y4,w4),_4=(e,t,r)=>{let n=!1;switch(t){case"smart-case":e.toLowerCase()!==e&&(n=!0);break;case"case-sensitive":n=!0;break;case"case-insensitive":e=e.toLowerCase(),n=!1;break}let o=xN(e);return r&&(o=o.map(sl)),{queryRunes:o,caseSensitive:n}};function N4(e,t){const r=Object.keys(e).map(o=>parseInt(o,10)).sort((o,a)=>a-o);let n=[];for(const o of r)if(n=n.concat(e[o]),n.length>=t)break;return n}function S4(e,t,r){return n=>{const o=this.runesList[n];if(t.length>o.length)return;let[a,i]=this.algoFn(r,this.opts.normalize,this.opts.forward,o,t,!0,j4);if(a.start===-1)return;if(this.opts.fuzzy===!1){i=new Set;for(let l=a.start;l<a.end;++l)i.add(l)}const c=this.opts.sort?a.score:0;e[c]===void 0&&(e[c]=[]),e[c].push({item:this.items[n],...a,positions:i??new Set})}}function T4(e){const{queryRunes:t,caseSensitive:r}=_4(e,this.opts.casing,this.opts.normalize),n={},o=S4.bind(this)(n,t,r);for(let a=0,i=this.runesList.length;a<i;++a)o(a);return N4(n,this.opts.limit)}const SN={limit:1/0,selector:e=>e,casing:"smart-case",normalize:!0,fuzzy:"v2",tiebreakers:[],sort:!0,forward:!0};class I4{constructor(t,...r){switch(this.opts={...SN,...r[0]},this.items=t,this.runesList=t.map(n=>xN(this.opts.selector(n).normalize())),this.algoFn=b4,this.opts.fuzzy){case"v2":this.algoFn=v4;break;case"v1":this.algoFn=NN;break}}}const P4={...SN,match:T4};class E4 extends I4{constructor(t,...r){super(t,...r),this.opts={...P4,...r[0]}}find(t){if(t.length===0||this.items.length===0)return this.items.slice(0,this.opts.limit).map(M4);t=t.normalize();let r=this.opts.match.bind(this)(t);return A4(r,this.opts)}}const M4=e=>({item:e,start:-1,end:-1,score:0,positions:new Set});function A4(e,t){if(t.sort){const{selector:r}=t;e.sort((n,o)=>{if(n.score===o.score)for(const a of t.tiebreakers){const i=a(n,o,r);if(i!==0)return i}return 0})}return Number.isFinite(t.limit)&&e.splice(t.limit),e}class Yd{constructor(t,...r){this.finder=new E4(t,...r),this.find=this.finder.find.bind(this.finder)}}function TN(e){return e.replace(/ /g,"\\ ")}function R4(e,t){let r=e;if(e.startsWith("file://"))r=e.substring(7);else if(e.startsWith("vscode-remote://")){const c=e.substring(16),l=c.indexOf("/");l!==-1?r=c.substring(l+1):r=""}try{r=decodeURIComponent(r),r.startsWith("/")&&r[2]===":"&&(r=r.substring(1))}catch(c){console.error("Error decoding URI component in convertToMentionPath:",c,r)}const n=r.replace(/\\/g,"/");let o=t?t.replace(/\\/g,"/"):"";if(!o)return r;o.endsWith("/")&&(o=o.slice(0,-1));const a=n.toLowerCase(),i=o.toLowerCase();if(a.startsWith(i)){let c=n.substring(o.length);return c=c.startsWith("/")?c:"/"+c,"@"+TN(c)}return r}function ab(e){return(e.description||e.whenToUse||e.roleDefinition).split(`
`)[0]}function C4(e){return e.split("/").pop()||e}function O4(e,t,r,n=!1){if(n)return{newValue:r,mentionIndex:0};const o=e.slice(0,t),a=e.slice(t),i=o.lastIndexOf("@");let c=r;r&&r.startsWith("/")&&r.includes(" ")&&!r.includes("\\ ")&&(c=TN(r));let l,d;if(i!==-1){const u=e.slice(0,i),p=/^[a-zA-Z0-9\s]*$/.test(a)?a.replace(/^[^\s]*/,""):a;l=u+"@"+c+" "+p,d=i}else l=o+"@"+c+" "+a,d=t;return{newValue:l,mentionIndex:d}}function D4(e,t){const r=e.slice(0,t),n=e.slice(t),o=r.match(new RegExp(Jg.source+"$"));if(o){const a=o[0].length,i=e.slice(0,t-a)+n.replace(/^\s/,""),c=t-a;return{newText:i,newPosition:c}}return{newText:e,newPosition:t}}var Ee=(e=>(e.OpenedFile="openedFile",e.File="file",e.Folder="folder",e.Problems="problems",e.Terminal="terminal",e.URL="url",e.Git="git",e.NoResults="noResults",e.Mode="mode",e.Image="image",e.Command="command",e.SectionHeader="sectionHeader",e))(Ee||{});function gf(e,t=null,r,n=[],o,a){if(e.startsWith("/")){const y=e.slice(1),w=[];if(a!=null&&a.length){const b=a.map(j=>({original:j,searchStr:j.name})),k=new Yd(b,{selector:j=>j.searchStr}),_=y?k.find(y).map(j=>({type:"command",value:j.item.original.name,slashCommand:`/${j.item.original.name}`,description:j.item.original.description,argumentHint:j.item.original.argumentHint})):a.map(j=>({type:"command",value:j.name,slashCommand:`/${j.name}`,description:j.description,argumentHint:j.argumentHint}));_.length>0&&(w.push({type:"sectionHeader",label:"Commands"}),w.push(..._))}if(o!=null&&o.length){const b=o.map(j=>({original:j,searchStr:j.name})),k=new Yd(b,{selector:j=>j.searchStr}),_=y?k.find(y).map(j=>({type:"mode",value:j.item.original.slug,slashCommand:`/${j.item.original.slug}`,description:ab(j.item.original)})):o.map(j=>({type:"mode",value:j.slug,slashCommand:`/${j.slug}`,description:ab(j)}));_.length>0&&(w.push({type:"sectionHeader",label:"Modes"}),w.push(..._))}return w.length>0?w:[{type:"noResults"}]}const i={type:"git",value:"git-changes",label:"Working changes",description:"Current uncommitted changes",icon:"$(git-commit)"};if(e===""){if(t==="file"){const y=r.filter(w=>w.type==="file"||w.type==="openedFile").map(w=>({type:w.type,value:w.value}));return y.length>0?y:[{type:"noResults"}]}if(t==="folder"){const y=r.filter(w=>w.type==="folder").map(w=>({type:"folder",value:w.value}));return y.length>0?y:[{type:"noResults"}]}if(t==="git"){const y=r.filter(w=>w.type==="git");return y.length>0?[i,...y]:[i]}return[{type:"problems"},{type:"terminal"},{type:"url"},{type:"folder"},{type:"file"},{type:"image"},{type:"git"}]}const c=e.toLowerCase(),l=[];if("git".startsWith(c)?l.push({type:"git",label:"Git Commits",description:"Search repository history",icon:"$(git-commit)"}):"git-changes".startsWith(c)&&l.push(i),"problems".startsWith(c)&&l.push({type:"problems"}),"terminal".startsWith(c)&&l.push({type:"terminal"}),e.startsWith("http")&&l.push({type:"url",value:e}),/^[a-f0-9]{7,40}$/i.test(c)){const y=r.filter(w=>{var b;return w.type==="git"&&((b=w.value)==null?void 0:b.toLowerCase())===c});y.length>0?l.push(...y):l.push({type:"git",value:c,label:`Commit ${c}`,description:"Git commit hash",icon:"$(git-commit)"})}const d=r.map(y=>({original:y,searchStr:[y.value,y.label,y.description].filter(Boolean).join(" ")})),u=new Yd(d,{selector:y=>y.searchStr}),p=e?u.find(e).map(y=>y.item.original):[],m=p.filter(y=>y.type==="openedFile"),g=p.filter(y=>y.type==="git"),f=n.map(y=>{const w=y.path.startsWith("/")?y.path:`/${y.path}`,b=w,k=y.label||C4(y.path);return{type:y.type==="folder"?"folder":"file",value:w,label:k,description:b}}),x=[...l,...m,...f,...g],v=new Set,N=x.filter(y=>{const w=y.value;let b="";return y.type==="file"||y.type==="folder"||y.type==="openedFile"?b=w:b=`${y.type}-${w}`,v.has(b)?!1:(v.add(b),!0)});return N.length>0?N:[{type:"noResults"}]}function F4(e,t){const r=e.slice(0,t);if(e.startsWith("/")&&!e.includes(" ")&&t<=e.length)return!0;const n=r.lastIndexOf("@");if(n===-1)return!1;const o=r.slice(n+1);return!(new RegExp("(?<!\\\\)\\s").test(o)||o.toLowerCase().startsWith("http"))}const ib=new xc({max:500});function L4(e){const t=ib.get(e);if(t!==void 0)return t;const r=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return ib.set(e,r),r}function B4(){return Math.random().toString(36).substring(2,9)}function z4({textAreaRef:e,enableChatAutocomplete:t=!0}){const[r,n]=h.useState(""),o=h.useRef(null),a=h.useRef(""),i=h.useRef(!1);h.useEffect(()=>{const u=p=>{const m=p.data;m.type==="chatCompletionResult"&&m.requestId===a.current&&n(m.text||"")};return window.addEventListener("message",u),()=>window.removeEventListener("message",u)},[]);const c=h.useCallback(()=>{n("")},[]),l=h.useCallback(u=>{const p=e.current;if(!p)return!1;const m=p.selectionStart!==p.selectionEnd,g=p.selectionStart===p.value.length,f=r&&!m&&g;if(u.key==="Tab"&&!u.shiftKey&&f)return u.preventDefault(),i.current=!0,lb(p,r),A.postMessage({type:"chatCompletionAccepted",suggestionLength:r.length}),n(""),!0;if(u.key==="ArrowRight"&&!u.shiftKey&&!u.ctrlKey&&!u.metaKey&&f){u.preventDefault(),i.current=!0;const{word:x,remainder:v}=q4(r);return lb(p,x),A.postMessage({type:"chatCompletionAccepted",suggestionLength:x.length}),n(v),!0}return u.key==="Escape"&&r&&n(""),!1},[r,e]),d=h.useCallback(u=>{const p=u.target.value;if(n(""),o.current&&clearTimeout(o.current),i.current)i.current=!1;else if(t&&p.length>=5&&!p.startsWith("/")&&!p.includes("@")){const m=B4();a.current=m,o.current=setTimeout(()=>{A.postMessage({type:"requestChatCompletion",text:p,requestId:m})},300)}},[t]);return h.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),{ghostText:r,handleKeyDown:l,handleInputChange:d,clearGhostText:c}}function q4(e){if(!e)return{word:"",remainder:""};const t=e.match(/^(\s*\S+\s*)/);return t?{word:t[1],remainder:e.slice(t[1].length)}:{word:e,remainder:""}}function lb(e,t){e.setSelectionRange(e.value.length,e.value.length),document==null||document.execCommand("insertText",!1,t)}const U4=({value:e,onChange:t,modeShortcutText:r,customModes:n,disabled:o=!1,title:a,triggerClassName:i,initiallyOpen:c})=>{var f;const{t:l}=oe(),d=He.useMemo(()=>oo(n),[n]),{organizationModes:u,otherModes:p}=He.useMemo(()=>{const x=d.filter(N=>N.source==="organization"),v=d.filter(N=>N.source!=="organization");return{organizationModes:x,otherModes:v}},[d]),m=He.useCallback(x=>{t(x),A.postMessage({type:"mode",text:x})},[t]),g=He.useMemo(()=>{const x=[{value:"shortcut",label:r,disabled:!0,type:us.SHORTCUT}];return u.length>0&&(x.push({value:"org-header",label:l("chat:modeSelector.organizationModes"),disabled:!0,type:us.SHORTCUT}),x.push(...u.map(v=>({value:v.slug,label:v.name,codicon:v.iconName||"codicon-organization",description:v.description,type:us.ITEM}))),x.push({value:"sep-org",label:l("chat:separator"),type:us.SEPARATOR})),x.push(...p.map(v=>({value:v.slug,label:v.name,codicon:v.iconName,description:v.description,type:us.ITEM}))),x.push({value:"sep-1",label:l("chat:separator"),type:us.SEPARATOR},{value:"promptsButtonClicked",label:l("chat:edit"),type:us.ACTION}),x},[u,p,r,l]);return s.jsx(Wf,{value:((f=d.find(x=>x.slug===e))==null?void 0:f.slug)??yh,title:a||l("chat:selectMode"),disabled:o,initiallyOpen:c,options:g,onChange:m,shortcutText:r,triggerClassName:ee("w-full bg-[var(--background)] border-[var(--vscode-input-border)] hover:bg-[var(--color-vscode-list-hoverBackground)]",i)})},K4=({currentConfigId:e,currentApiConfigName:t,displayName:r,listApiConfigMeta:n,pinnedApiConfigs:o,togglePinnedApiConfig:a,selectApiConfigDisabled:i=!1,initiallyOpen:c=!1})=>{const{t:l}=oe();return((n==null?void 0:n.length)??0)<2?null:s.jsx("div",{className:ee("flex-1","min-w-0","overflow-hidden"),children:s.jsx(Wf,{value:e,disabled:i,title:l("chat:selectApiConfig"),disableSearch:!1,placeholder:r,initiallyOpen:c,options:[...(n||[]).filter(d=>o&&o[d.id]).map(d=>({value:d.id,label:d.name,name:d.name,type:us.ITEM,pinned:!0})).sort((d,u)=>d.label.localeCompare(u.label)),...o&&Object.keys(o).length>0&&(n||[]).some(d=>!o[d.id])?[{value:"sep-pinned",label:l("chat:separator"),type:us.SEPARATOR}]:[],...(n||[]).filter(d=>!o||!o[d.id]).map(d=>({value:d.id,label:d.name,name:d.name,type:us.ITEM,pinned:!1})).sort((d,u)=>d.label.localeCompare(u.label)),{value:"sep-2",label:l("chat:separator"),type:us.SEPARATOR},{value:"settingsButtonClicked",label:l("chat:edit"),type:us.ACTION}],onChange:d=>{d==="settingsButtonClicked"?A.postMessage({type:"loadApiConfiguration",text:d,values:{section:"providers"}}):A.postMessage({type:"loadApiConfigurationById",text:d})},contentClassName:"max-h-[300px] overflow-y-auto",triggerClassName:ee("w-full text-ellipsis overflow-hidden","bg-[var(--background)] border-[var(--vscode-input-border)] hover:bg-[var(--color-vscode-list-hoverBackground)]"),itemClassName:"group",renderItem:({type:d,value:u,label:p,pinned:m})=>{if(d!==us.ITEM)return s.jsx("div",{className:"py-1.5 px-3",children:p});const g=n==null?void 0:n.find(x=>x.id===u),f=(g==null?void 0:g.name)===t;return s.jsxs("div",{className:"flex justify-between gap-2 w-full py-1.5 px-3",children:[s.jsx("div",{className:ee("truncate min-w-0 overflow-hidden",{"font-medium":f}),children:p}),s.jsxs("div",{className:"flex justify-end w-10 flex-shrink-0",children:[s.jsx("div",{className:ee("size-5 p-1",{"block group-hover:hidden":!m,hidden:!f}),children:s.jsx(Nr,{className:"size-3"})}),s.jsx(de,{content:l(m?"chat:unpin":"chat:pin"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:x=>{x.stopPropagation(),a(u),A.postMessage({type:"toggleApiConfigPin",text:u})},className:ee("size-5",{"hidden group-hover:flex":!m,"bg-accent":m}),children:s.jsx(t_,{className:"size-3 p-0.5 opacity-50"})})})]})]})}})})};var pa={folderNames:{bot:"folder-robot",".bot":"folder-robot",_bot:"folder-robot",__bot__:"folder-robot",robot:"folder-robot",".robot":"folder-robot",_robot:"folder-robot",__robot__:"folder-robot",src:"folder-src",".src":"folder-src",_src:"folder-src",__src__:"folder-src",srcs:"folder-src",".srcs":"folder-src",_srcs:"folder-src",__srcs__:"folder-src",source:"folder-src",".source":"folder-src",_source:"folder-src",__source__:"folder-src",sources:"folder-src",".sources":"folder-src",_sources:"folder-src",__sources__:"folder-src",code:"folder-src",".code":"folder-src",_code:"folder-src",__code__:"folder-src",dist:"folder-dist",".dist":"folder-dist",_dist:"folder-dist",__dist__:"folder-dist",out:"folder-dist",".out":"folder-dist",_out:"folder-dist",__out__:"folder-dist",build:"folder-dist",".build":"folder-dist",_build:"folder-dist",__build__:"folder-dist",release:"folder-dist",".release":"folder-dist",_release:"folder-dist",__release__:"folder-dist",bin:"folder-dist",".bin":"folder-dist",_bin:"folder-dist",__bin__:"folder-dist",css:"folder-css",".css":"folder-css",_css:"folder-css",__css__:"folder-css",stylesheet:"folder-css",".stylesheet":"folder-css",_stylesheet:"folder-css",__stylesheet__:"folder-css",stylesheets:"folder-css",".stylesheets":"folder-css",_stylesheets:"folder-css",__stylesheets__:"folder-css",style:"folder-css",".style":"folder-css",_style:"folder-css",__style__:"folder-css",styles:"folder-css",".styles":"folder-css",_styles:"folder-css",__styles__:"folder-css",sass:"folder-sass",".sass":"folder-sass",_sass:"folder-sass",__sass__:"folder-sass",scss:"folder-sass",".scss":"folder-sass",_scss:"folder-sass",__scss__:"folder-sass",tv:"folder-television",".tv":"folder-television",_tv:"folder-television",__tv__:"folder-television",television:"folder-television",".television":"folder-television",_television:"folder-television",__television__:"folder-television",desktop:"folder-desktop",".desktop":"folder-desktop",_desktop:"folder-desktop",__desktop__:"folder-desktop",console:"folder-console",".console":"folder-console",_console:"folder-console",__console__:"folder-console",images:"folder-images",".images":"folder-images",_images:"folder-images",__images__:"folder-images",image:"folder-images",".image":"folder-images",_image:"folder-images",__image__:"folder-images",imgs:"folder-images",".imgs":"folder-images",_imgs:"folder-images",__imgs__:"folder-images",img:"folder-images",".img":"folder-images",_img:"folder-images",__img__:"folder-images",icons:"folder-images",".icons":"folder-images",_icons:"folder-images",__icons__:"folder-images",icon:"folder-images",".icon":"folder-images",_icon:"folder-images",__icon__:"folder-images",icos:"folder-images",".icos":"folder-images",_icos:"folder-images",__icos__:"folder-images",ico:"folder-images",".ico":"folder-images",_ico:"folder-images",__ico__:"folder-images",figures:"folder-images",".figures":"folder-images",_figures:"folder-images",__figures__:"folder-images",figure:"folder-images",".figure":"folder-images",_figure:"folder-images",__figure__:"folder-images",figs:"folder-images",".figs":"folder-images",_figs:"folder-images",__figs__:"folder-images",fig:"folder-images",".fig":"folder-images",_fig:"folder-images",__fig__:"folder-images",screenshot:"folder-images",".screenshot":"folder-images",_screenshot:"folder-images",__screenshot__:"folder-images",screenshots:"folder-images",".screenshots":"folder-images",_screenshots:"folder-images",__screenshots__:"folder-images",screengrab:"folder-images",".screengrab":"folder-images",_screengrab:"folder-images",__screengrab__:"folder-images",screengrabs:"folder-images",".screengrabs":"folder-images",_screengrabs:"folder-images",__screengrabs__:"folder-images",pic:"folder-images",".pic":"folder-images",_pic:"folder-images",__pic__:"folder-images",pics:"folder-images",".pics":"folder-images",_pics:"folder-images",__pics__:"folder-images",picture:"folder-images",".picture":"folder-images",_picture:"folder-images",__picture__:"folder-images",pictures:"folder-images",".pictures":"folder-images",_pictures:"folder-images",__pictures__:"folder-images",photo:"folder-images",".photo":"folder-images",_photo:"folder-images",__photo__:"folder-images",photos:"folder-images",".photos":"folder-images",_photos:"folder-images",__photos__:"folder-images",photograph:"folder-images",".photograph":"folder-images",_photograph:"folder-images",__photograph__:"folder-images",photographs:"folder-images",".photographs":"folder-images",_photographs:"folder-images",__photographs__:"folder-images",script:"folder-scripts",".script":"folder-scripts",_script:"folder-scripts",__script__:"folder-scripts",scripts:"folder-scripts",".scripts":"folder-scripts",_scripts:"folder-scripts",__scripts__:"folder-scripts",scripting:"folder-scripts",".scripting":"folder-scripts",_scripting:"folder-scripts",__scripting__:"folder-scripts",node_modules:"folder-node",".node_modules":"folder-node",_node_modules:"folder-node",__node_modules__:"folder-node",js:"folder-javascript",".js":"folder-javascript",_js:"folder-javascript",__js__:"folder-javascript",javascript:"folder-javascript",".javascript":"folder-javascript",_javascript:"folder-javascript",__javascript__:"folder-javascript",javascripts:"folder-javascript",".javascripts":"folder-javascript",_javascripts:"folder-javascript",__javascripts__:"folder-javascript",json:"folder-json",".json":"folder-json",_json:"folder-json",__json__:"folder-json",jsons:"folder-json",".jsons":"folder-json",_jsons:"folder-json",__jsons__:"folder-json",font:"folder-font",".font":"folder-font",_font:"folder-font",__font__:"folder-font",fonts:"folder-font",".fonts":"folder-font",_fonts:"folder-font",__fonts__:"folder-font",bower_components:"folder-bower",".bower_components":"folder-bower",_bower_components:"folder-bower",__bower_components__:"folder-bower",test:"folder-test",".test":"folder-test",_test:"folder-test",__test__:"folder-test",tests:"folder-test",".tests":"folder-test",_tests:"folder-test",__tests__:"folder-test",testing:"folder-test",".testing":"folder-test",_testing:"folder-test",__testing__:"folder-test",snapshots:"folder-test",".snapshots":"folder-test",_snapshots:"folder-test",__snapshots__:"folder-test",spec:"folder-test",".spec":"folder-test",_spec:"folder-test",__spec__:"folder-test",specs:"folder-test",".specs":"folder-test",_specs:"folder-test",__specs__:"folder-test",jinja:"folder-jinja",".jinja":"folder-jinja",_jinja:"folder-jinja",__jinja__:"folder-jinja",jinja2:"folder-jinja",".jinja2":"folder-jinja",_jinja2:"folder-jinja",__jinja2__:"folder-jinja",j2:"folder-jinja",".j2":"folder-jinja",_j2:"folder-jinja",__j2__:"folder-jinja",markdown:"folder-markdown",".markdown":"folder-markdown",_markdown:"folder-markdown",__markdown__:"folder-markdown",md:"folder-markdown",".md":"folder-markdown",_md:"folder-markdown",__md__:"folder-markdown","pdm-plugins":"folder-pdm",".pdm-plugins":"folder-pdm","_pdm-plugins":"folder-pdm","__pdm-plugins__":"folder-pdm","pdm-build":"folder-pdm",".pdm-build":"folder-pdm","_pdm-build":"folder-pdm","__pdm-build__":"folder-pdm",php:"folder-php",".php":"folder-php",_php:"folder-php",__php__:"folder-php",phpmailer:"folder-phpmailer",".phpmailer":"folder-phpmailer",_phpmailer:"folder-phpmailer",__phpmailer__:"folder-phpmailer",sublime:"folder-sublime",".sublime":"folder-sublime",_sublime:"folder-sublime",__sublime__:"folder-sublime",doc:"folder-docs",".doc":"folder-docs",_doc:"folder-docs",__doc__:"folder-docs",docs:"folder-docs",".docs":"folder-docs",_docs:"folder-docs",__docs__:"folder-docs",document:"folder-docs",".document":"folder-docs",_document:"folder-docs",__document__:"folder-docs",documents:"folder-docs",".documents":"folder-docs",_documents:"folder-docs",__documents__:"folder-docs",documentation:"folder-docs",".documentation":"folder-docs",_documentation:"folder-docs",__documentation__:"folder-docs",post:"folder-docs",".post":"folder-docs",_post:"folder-docs",__post__:"folder-docs",posts:"folder-docs",".posts":"folder-docs",_posts:"folder-docs",__posts__:"folder-docs",article:"folder-docs",".article":"folder-docs",_article:"folder-docs",__article__:"folder-docs",articles:"folder-docs",".articles":"folder-docs",_articles:"folder-docs",__articles__:"folder-docs",git:"folder-git",".git":"folder-git",_git:"folder-git",__git__:"folder-git",patches:"folder-git",".patches":"folder-git",_patches:"folder-git",__patches__:"folder-git",githooks:"folder-git",".githooks":"folder-git",_githooks:"folder-git",__githooks__:"folder-git",submodules:"folder-git",".submodules":"folder-git",_submodules:"folder-git",__submodules__:"folder-git",github:"folder-github",".github":"folder-github",_github:"folder-github",__github__:"folder-github",gitlab:"folder-gitlab",".gitlab":"folder-gitlab",_gitlab:"folder-gitlab",__gitlab__:"folder-gitlab",vscode:"folder-vscode",".vscode":"folder-vscode",_vscode:"folder-vscode",__vscode__:"folder-vscode","vscode-test":"folder-vscode",".vscode-test":"folder-vscode","_vscode-test":"folder-vscode","__vscode-test__":"folder-vscode",view:"folder-views",".view":"folder-views",_view:"folder-views",__view__:"folder-views",views:"folder-views",".views":"folder-views",_views:"folder-views",__views__:"folder-views",screen:"folder-views",".screen":"folder-views",_screen:"folder-views",__screen__:"folder-views",screens:"folder-views",".screens":"folder-views",_screens:"folder-views",__screens__:"folder-views",page:"folder-views",".page":"folder-views",_page:"folder-views",__page__:"folder-views",pages:"folder-views",".pages":"folder-views",_pages:"folder-views",__pages__:"folder-views",public_html:"folder-views",".public_html":"folder-views",_public_html:"folder-views",__public_html__:"folder-views",html:"folder-views",".html":"folder-views",_html:"folder-views",__html__:"folder-views",vue:"folder-vue",".vue":"folder-vue",_vue:"folder-vue",__vue__:"folder-vue",vuepress:"folder-vuepress",".vuepress":"folder-vuepress",_vuepress:"folder-vuepress",__vuepress__:"folder-vuepress",expo:"folder-expo",".expo":"folder-expo",_expo:"folder-expo",__expo__:"folder-expo","expo-shared":"folder-expo",".expo-shared":"folder-expo","_expo-shared":"folder-expo","__expo-shared__":"folder-expo",cfg:"folder-config",".cfg":"folder-config",_cfg:"folder-config",__cfg__:"folder-config",cfgs:"folder-config",".cfgs":"folder-config",_cfgs:"folder-config",__cfgs__:"folder-config",conf:"folder-config",".conf":"folder-config",_conf:"folder-config",__conf__:"folder-config",confs:"folder-config",".confs":"folder-config",_confs:"folder-config",__confs__:"folder-config",config:"folder-config",".config":"folder-config",_config:"folder-config",__config__:"folder-config",configs:"folder-config",".configs":"folder-config",_configs:"folder-config",__configs__:"folder-config",configuration:"folder-config",".configuration":"folder-config",_configuration:"folder-config",__configuration__:"folder-config",configurations:"folder-config",".configurations":"folder-config",_configurations:"folder-config",__configurations__:"folder-config",setting:"folder-config",".setting":"folder-config",_setting:"folder-config",__setting__:"folder-config",settings:"folder-config",".settings":"folder-config",_settings:"folder-config",__settings__:"folder-config","META-INF":"folder-config",".META-INF":"folder-config","_META-INF":"folder-config","__META-INF__":"folder-config",option:"folder-config",".option":"folder-config",_option:"folder-config",__option__:"folder-config",options:"folder-config",".options":"folder-config",_options:"folder-config",__options__:"folder-config",i18n:"folder-i18n",".i18n":"folder-i18n",_i18n:"folder-i18n",__i18n__:"folder-i18n",internationalization:"folder-i18n",".internationalization":"folder-i18n",_internationalization:"folder-i18n",__internationalization__:"folder-i18n",lang:"folder-i18n",".lang":"folder-i18n",_lang:"folder-i18n",__lang__:"folder-i18n",langs:"folder-i18n",".langs":"folder-i18n",_langs:"folder-i18n",__langs__:"folder-i18n",language:"folder-i18n",".language":"folder-i18n",_language:"folder-i18n",__language__:"folder-i18n",languages:"folder-i18n",".languages":"folder-i18n",_languages:"folder-i18n",__languages__:"folder-i18n",locale:"folder-i18n",".locale":"folder-i18n",_locale:"folder-i18n",__locale__:"folder-i18n",locales:"folder-i18n",".locales":"folder-i18n",_locales:"folder-i18n",__locales__:"folder-i18n",l10n:"folder-i18n",".l10n":"folder-i18n",_l10n:"folder-i18n",__l10n__:"folder-i18n",localization:"folder-i18n",".localization":"folder-i18n",_localization:"folder-i18n",__localization__:"folder-i18n",translation:"folder-i18n",".translation":"folder-i18n",_translation:"folder-i18n",__translation__:"folder-i18n",translate:"folder-i18n",".translate":"folder-i18n",_translate:"folder-i18n",__translate__:"folder-i18n",translations:"folder-i18n",".translations":"folder-i18n",_translations:"folder-i18n",__translations__:"folder-i18n",tx:"folder-i18n",".tx":"folder-i18n",_tx:"folder-i18n",__tx__:"folder-i18n",components:"folder-components",".components":"folder-components",_components:"folder-components",__components__:"folder-components",widget:"folder-components",".widget":"folder-components",_widget:"folder-components",__widget__:"folder-components",widgets:"folder-components",".widgets":"folder-components",_widgets:"folder-components",__widgets__:"folder-components",fragments:"folder-components",".fragments":"folder-components",_fragments:"folder-components",__fragments__:"folder-components",verdaccio:"folder-verdaccio",".verdaccio":"folder-verdaccio",_verdaccio:"folder-verdaccio",__verdaccio__:"folder-verdaccio",aurelia_project:"folder-aurelia",".aurelia_project":"folder-aurelia",_aurelia_project:"folder-aurelia",__aurelia_project__:"folder-aurelia",resource:"folder-resource",".resource":"folder-resource",_resource:"folder-resource",__resource__:"folder-resource",resources:"folder-resource",".resources":"folder-resource",_resources:"folder-resource",__resources__:"folder-resource",res:"folder-resource",".res":"folder-resource",_res:"folder-resource",__res__:"folder-resource",asset:"folder-resource",".asset":"folder-resource",_asset:"folder-resource",__asset__:"folder-resource",assets:"folder-resource",".assets":"folder-resource",_assets:"folder-resource",__assets__:"folder-resource",static:"folder-resource",".static":"folder-resource",_static:"folder-resource",__static__:"folder-resource",report:"folder-resource",".report":"folder-resource",_report:"folder-resource",__report__:"folder-resource",reports:"folder-resource",".reports":"folder-resource",_reports:"folder-resource",__reports__:"folder-resource",lib:"folder-lib",".lib":"folder-lib",_lib:"folder-lib",__lib__:"folder-lib",libs:"folder-lib",".libs":"folder-lib",_libs:"folder-lib",__libs__:"folder-lib",library:"folder-lib",".library":"folder-lib",_library:"folder-lib",__library__:"folder-lib",libraries:"folder-lib",".libraries":"folder-lib",_libraries:"folder-lib",__libraries__:"folder-lib",vendor:"folder-lib",".vendor":"folder-lib",_vendor:"folder-lib",__vendor__:"folder-lib",vendors:"folder-lib",".vendors":"folder-lib",_vendors:"folder-lib",__vendors__:"folder-lib","third-party":"folder-lib",".third-party":"folder-lib","_third-party":"folder-lib","__third-party__":"folder-lib",themes:"folder-theme",".themes":"folder-theme",_themes:"folder-theme",__themes__:"folder-theme",theme:"folder-theme",".theme":"folder-theme",_theme:"folder-theme",__theme__:"folder-theme",color:"folder-theme",".color":"folder-theme",_color:"folder-theme",__color__:"folder-theme",colors:"folder-theme",".colors":"folder-theme",_colors:"folder-theme",__colors__:"folder-theme",design:"folder-theme",".design":"folder-theme",_design:"folder-theme",__design__:"folder-theme",designs:"folder-theme",".designs":"folder-theme",_designs:"folder-theme",__designs__:"folder-theme",webpack:"folder-webpack",".webpack":"folder-webpack",_webpack:"folder-webpack",__webpack__:"folder-webpack",global:"folder-global",".global":"folder-global",_global:"folder-global",__global__:"folder-global",public:"folder-public",".public":"folder-public",_public:"folder-public",__public__:"folder-public",www:"folder-public",".www":"folder-public",_www:"folder-public",__www__:"folder-public",wwwroot:"folder-public",".wwwroot":"folder-public",_wwwroot:"folder-public",__wwwroot__:"folder-public",web:"folder-public",".web":"folder-public",_web:"folder-public",__web__:"folder-public",website:"folder-public",".website":"folder-public",_website:"folder-public",__website__:"folder-public",site:"folder-public",".site":"folder-public",_site:"folder-public",__site__:"folder-public",browser:"folder-public",".browser":"folder-public",_browser:"folder-public",__browser__:"folder-public",browsers:"folder-public",".browsers":"folder-public",_browsers:"folder-public",__browsers__:"folder-public",inc:"folder-include",".inc":"folder-include",_inc:"folder-include",__inc__:"folder-include",include:"folder-include",".include":"folder-include",_include:"folder-include",__include__:"folder-include",includes:"folder-include",".includes":"folder-include",_includes:"folder-include",__includes__:"folder-include",partial:"folder-include",".partial":"folder-include",_partial:"folder-include",__partial__:"folder-include",partials:"folder-include",".partials":"folder-include",_partials:"folder-include",__partials__:"folder-include",docker:"folder-docker",".docker":"folder-docker",_docker:"folder-docker",__docker__:"folder-docker",dockerfiles:"folder-docker",".dockerfiles":"folder-docker",_dockerfiles:"folder-docker",__dockerfiles__:"folder-docker",db:"folder-database",".db":"folder-database",_db:"folder-database",__db__:"folder-database",data:"folder-database",".data":"folder-database",_data:"folder-database",__data__:"folder-database",database:"folder-database",".database":"folder-database",_database:"folder-database",__database__:"folder-database",databases:"folder-database",".databases":"folder-database",_databases:"folder-database",__databases__:"folder-database",sql:"folder-database",".sql":"folder-database",_sql:"folder-database",__sql__:"folder-database",log:"folder-log",".log":"folder-log",_log:"folder-log",__log__:"folder-log",logs:"folder-log",".logs":"folder-log",_logs:"folder-log",__logs__:"folder-log",logging:"folder-log",".logging":"folder-log",_logging:"folder-log",__logging__:"folder-log",target:"folder-target",".target":"folder-target",_target:"folder-target",__target__:"folder-target",temp:"folder-temp",".temp":"folder-temp",_temp:"folder-temp",__temp__:"folder-temp",tmp:"folder-temp",".tmp":"folder-temp",_tmp:"folder-temp",__tmp__:"folder-temp",cached:"folder-temp",".cached":"folder-temp",_cached:"folder-temp",__cached__:"folder-temp",cache:"folder-temp",".cache":"folder-temp",_cache:"folder-temp",__cache__:"folder-temp",aws:"folder-aws",".aws":"folder-aws",_aws:"folder-aws",__aws__:"folder-aws",aud:"folder-audio",".aud":"folder-audio",_aud:"folder-audio",__aud__:"folder-audio",auds:"folder-audio",".auds":"folder-audio",_auds:"folder-audio",__auds__:"folder-audio",audio:"folder-audio",".audio":"folder-audio",_audio:"folder-audio",__audio__:"folder-audio",audios:"folder-audio",".audios":"folder-audio",_audios:"folder-audio",__audios__:"folder-audio",music:"folder-audio",".music":"folder-audio",_music:"folder-audio",__music__:"folder-audio",sound:"folder-audio",".sound":"folder-audio",_sound:"folder-audio",__sound__:"folder-audio",sounds:"folder-audio",".sounds":"folder-audio",_sounds:"folder-audio",__sounds__:"folder-audio",vid:"folder-video",".vid":"folder-video",_vid:"folder-video",__vid__:"folder-video",vids:"folder-video",".vids":"folder-video",_vids:"folder-video",__vids__:"folder-video",video:"folder-video",".video":"folder-video",_video:"folder-video",__video__:"folder-video",videos:"folder-video",".videos":"folder-video",_videos:"folder-video",__videos__:"folder-video",movie:"folder-video",".movie":"folder-video",_movie:"folder-video",__movie__:"folder-video",movies:"folder-video",".movies":"folder-video",_movies:"folder-video",__movies__:"folder-video",kubernetes:"folder-kubernetes",".kubernetes":"folder-kubernetes",_kubernetes:"folder-kubernetes",__kubernetes__:"folder-kubernetes",k8s:"folder-kubernetes",".k8s":"folder-kubernetes",_k8s:"folder-kubernetes",__k8s__:"folder-kubernetes",import:"folder-import",".import":"folder-import",_import:"folder-import",__import__:"folder-import",imports:"folder-import",".imports":"folder-import",_imports:"folder-import",__imports__:"folder-import",imported:"folder-import",".imported":"folder-import",_imported:"folder-import",__imported__:"folder-import",export:"folder-export",".export":"folder-export",_export:"folder-export",__export__:"folder-export",exports:"folder-export",".exports":"folder-export",_exports:"folder-export",__exports__:"folder-export",exported:"folder-export",".exported":"folder-export",_exported:"folder-export",__exported__:"folder-export",wakatime:"folder-wakatime",".wakatime":"folder-wakatime",_wakatime:"folder-wakatime",__wakatime__:"folder-wakatime",circleci:"folder-circleci",".circleci":"folder-circleci",_circleci:"folder-circleci",__circleci__:"folder-circleci","wordpress-org":"folder-wordpress",".wordpress-org":"folder-wordpress","_wordpress-org":"folder-wordpress","__wordpress-org__":"folder-wordpress","wp-content":"folder-wordpress",".wp-content":"folder-wordpress","_wp-content":"folder-wordpress","__wp-content__":"folder-wordpress",gradle:"folder-gradle",".gradle":"folder-gradle",_gradle:"folder-gradle",__gradle__:"folder-gradle",coverage:"folder-coverage",".coverage":"folder-coverage",_coverage:"folder-coverage",__coverage__:"folder-coverage","nyc-output":"folder-coverage",".nyc-output":"folder-coverage","_nyc-output":"folder-coverage","__nyc-output__":"folder-coverage",nyc_output:"folder-coverage",".nyc_output":"folder-coverage",_nyc_output:"folder-coverage",__nyc_output__:"folder-coverage",e2e:"folder-coverage",".e2e":"folder-coverage",_e2e:"folder-coverage",__e2e__:"folder-coverage",it:"folder-coverage",".it":"folder-coverage",_it:"folder-coverage",__it__:"folder-coverage","integration-test":"folder-coverage",".integration-test":"folder-coverage","_integration-test":"folder-coverage","__integration-test__":"folder-coverage","integration-tests":"folder-coverage",".integration-tests":"folder-coverage","_integration-tests":"folder-coverage","__integration-tests__":"folder-coverage",class:"folder-class",".class":"folder-class",_class:"folder-class",__class__:"folder-class",classes:"folder-class",".classes":"folder-class",_classes:"folder-class",__classes__:"folder-class",model:"folder-class",".model":"folder-class",_model:"folder-class",__model__:"folder-class",models:"folder-class",".models":"folder-class",_models:"folder-class",__models__:"folder-class",schemas:"folder-class",".schemas":"folder-class",_schemas:"folder-class",__schemas__:"folder-class",schema:"folder-class",".schema":"folder-class",_schema:"folder-class",__schema__:"folder-class",other:"folder-other",".other":"folder-other",_other:"folder-other",__other__:"folder-other",others:"folder-other",".others":"folder-other",_others:"folder-other",__others__:"folder-other",misc:"folder-other",".misc":"folder-other",_misc:"folder-other",__misc__:"folder-other",miscellaneous:"folder-other",".miscellaneous":"folder-other",_miscellaneous:"folder-other",__miscellaneous__:"folder-other",extra:"folder-other",".extra":"folder-other",_extra:"folder-other",__extra__:"folder-other",extras:"folder-other",".extras":"folder-other",_extras:"folder-other",__extras__:"folder-other",etc:"folder-other",".etc":"folder-other",_etc:"folder-other",__etc__:"folder-other",lua:"folder-lua",".lua":"folder-lua",_lua:"folder-lua",__lua__:"folder-lua",typescript:"folder-typescript",".typescript":"folder-typescript",_typescript:"folder-typescript",__typescript__:"folder-typescript",ts:"folder-typescript",".ts":"folder-typescript",_ts:"folder-typescript",__ts__:"folder-typescript",typings:"folder-typescript",".typings":"folder-typescript",_typings:"folder-typescript",__typings__:"folder-typescript","@types":"folder-typescript",".@types":"folder-typescript","_@types":"folder-typescript","__@types__":"folder-typescript",types:"folder-typescript",".types":"folder-typescript",_types:"folder-typescript",__types__:"folder-typescript",graphql:"folder-graphql",".graphql":"folder-graphql",_graphql:"folder-graphql",__graphql__:"folder-graphql",gql:"folder-graphql",".gql":"folder-graphql",_gql:"folder-graphql",__gql__:"folder-graphql",routes:"folder-routes",".routes":"folder-routes",_routes:"folder-routes",__routes__:"folder-routes",router:"folder-routes",".router":"folder-routes",_router:"folder-routes",__router__:"folder-routes",routers:"folder-routes",".routers":"folder-routes",_routers:"folder-routes",__routers__:"folder-routes",ci:"folder-ci",".ci":"folder-ci",_ci:"folder-ci",__ci__:"folder-ci",benchmark:"folder-benchmark",".benchmark":"folder-benchmark",_benchmark:"folder-benchmark",__benchmark__:"folder-benchmark",benchmarks:"folder-benchmark",".benchmarks":"folder-benchmark",_benchmarks:"folder-benchmark",__benchmarks__:"folder-benchmark",performance:"folder-benchmark",".performance":"folder-benchmark",_performance:"folder-benchmark",__performance__:"folder-benchmark",measure:"folder-benchmark",".measure":"folder-benchmark",_measure:"folder-benchmark",__measure__:"folder-benchmark",measures:"folder-benchmark",".measures":"folder-benchmark",_measures:"folder-benchmark",__measures__:"folder-benchmark",measurement:"folder-benchmark",".measurement":"folder-benchmark",_measurement:"folder-benchmark",__measurement__:"folder-benchmark",messages:"folder-messages",".messages":"folder-messages",_messages:"folder-messages",__messages__:"folder-messages",messaging:"folder-messages",".messaging":"folder-messages",_messaging:"folder-messages",__messaging__:"folder-messages",forum:"folder-messages",".forum":"folder-messages",_forum:"folder-messages",__forum__:"folder-messages",chat:"folder-messages",".chat":"folder-messages",_chat:"folder-messages",__chat__:"folder-messages",chats:"folder-messages",".chats":"folder-messages",_chats:"folder-messages",__chats__:"folder-messages",conversation:"folder-messages",".conversation":"folder-messages",_conversation:"folder-messages",__conversation__:"folder-messages",conversations:"folder-messages",".conversations":"folder-messages",_conversations:"folder-messages",__conversations__:"folder-messages",less:"folder-less",".less":"folder-less",_less:"folder-less",__less__:"folder-less",gulp:"folder-gulp",".gulp":"folder-gulp",_gulp:"folder-gulp",__gulp__:"folder-gulp","gulp-tasks":"folder-gulp",".gulp-tasks":"folder-gulp","_gulp-tasks":"folder-gulp","__gulp-tasks__":"folder-gulp","gulpfile.js":"folder-gulp",".gulpfile.js":"folder-gulp","_gulpfile.js":"folder-gulp","__gulpfile.js__":"folder-gulp","gulpfile.mjs":"folder-gulp",".gulpfile.mjs":"folder-gulp","_gulpfile.mjs":"folder-gulp","__gulpfile.mjs__":"folder-gulp","gulpfile.ts":"folder-gulp",".gulpfile.ts":"folder-gulp","_gulpfile.ts":"folder-gulp","__gulpfile.ts__":"folder-gulp","gulpfile.babel.js":"folder-gulp",".gulpfile.babel.js":"folder-gulp","_gulpfile.babel.js":"folder-gulp","__gulpfile.babel.js__":"folder-gulp",python:"folder-python",".python":"folder-python",_python:"folder-python",__python__:"folder-python",pycache:"folder-python",".pycache":"folder-python",_pycache:"folder-python",__pycache__:"folder-python",pytest_cache:"folder-python",".pytest_cache":"folder-python",_pytest_cache:"folder-python",__pytest_cache__:"folder-python",mojo:"folder-mojo",".mojo":"folder-mojo",_mojo:"folder-mojo",__mojo__:"folder-mojo",moon:"folder-moon",".moon":"folder-moon",_moon:"folder-moon",__moon__:"folder-moon",debug:"folder-debug",".debug":"folder-debug",_debug:"folder-debug",__debug__:"folder-debug",debugging:"folder-debug",".debugging":"folder-debug",_debugging:"folder-debug",__debugging__:"folder-debug",fastlane:"folder-fastlane",".fastlane":"folder-fastlane",_fastlane:"folder-fastlane",__fastlane__:"folder-fastlane",plugin:"folder-plugin",".plugin":"folder-plugin",_plugin:"folder-plugin",__plugin__:"folder-plugin",plugins:"folder-plugin",".plugins":"folder-plugin",_plugins:"folder-plugin",__plugins__:"folder-plugin",mod:"folder-plugin",".mod":"folder-plugin",_mod:"folder-plugin",__mod__:"folder-plugin",mods:"folder-plugin",".mods":"folder-plugin",_mods:"folder-plugin",__mods__:"folder-plugin",modding:"folder-plugin",".modding":"folder-plugin",_modding:"folder-plugin",__modding__:"folder-plugin",extension:"folder-plugin",".extension":"folder-plugin",_extension:"folder-plugin",__extension__:"folder-plugin",extensions:"folder-plugin",".extensions":"folder-plugin",_extensions:"folder-plugin",__extensions__:"folder-plugin",addon:"folder-plugin",".addon":"folder-plugin",_addon:"folder-plugin",__addon__:"folder-plugin",addons:"folder-plugin",".addons":"folder-plugin",_addons:"folder-plugin",__addons__:"folder-plugin",module:"folder-plugin",".module":"folder-plugin",_module:"folder-plugin",__module__:"folder-plugin",modules:"folder-plugin",".modules":"folder-plugin",_modules:"folder-plugin",__modules__:"folder-plugin",middleware:"folder-middleware",".middleware":"folder-middleware",_middleware:"folder-middleware",__middleware__:"folder-middleware",middlewares:"folder-middleware",".middlewares":"folder-middleware",_middlewares:"folder-middleware",__middlewares__:"folder-middleware",controller:"folder-controller",".controller":"folder-controller",_controller:"folder-controller",__controller__:"folder-controller",controllers:"folder-controller",".controllers":"folder-controller",_controllers:"folder-controller",__controllers__:"folder-controller",service:"folder-controller",".service":"folder-controller",_service:"folder-controller",__service__:"folder-controller",services:"folder-controller",".services":"folder-controller",_services:"folder-controller",__services__:"folder-controller",provider:"folder-controller",".provider":"folder-controller",_provider:"folder-controller",__provider__:"folder-controller",providers:"folder-controller",".providers":"folder-controller",_providers:"folder-controller",__providers__:"folder-controller",handler:"folder-controller",".handler":"folder-controller",_handler:"folder-controller",__handler__:"folder-controller",handlers:"folder-controller",".handlers":"folder-controller",_handlers:"folder-controller",__handlers__:"folder-controller",ansible:"folder-ansible",".ansible":"folder-ansible",_ansible:"folder-ansible",__ansible__:"folder-ansible",server:"folder-server",".server":"folder-server",_server:"folder-server",__server__:"folder-server",servers:"folder-server",".servers":"folder-server",_servers:"folder-server",__servers__:"folder-server",backend:"folder-server",".backend":"folder-server",_backend:"folder-server",__backend__:"folder-server",backends:"folder-server",".backends":"folder-server",_backends:"folder-server",__backends__:"folder-server",client:"folder-client",".client":"folder-client",_client:"folder-client",__client__:"folder-client",clients:"folder-client",".clients":"folder-client",_clients:"folder-client",__clients__:"folder-client",frontend:"folder-client",".frontend":"folder-client",_frontend:"folder-client",__frontend__:"folder-client",frontends:"folder-client",".frontends":"folder-client",_frontends:"folder-client",__frontends__:"folder-client",pwa:"folder-client",".pwa":"folder-client",_pwa:"folder-client",__pwa__:"folder-client",tasks:"folder-tasks",".tasks":"folder-tasks",_tasks:"folder-tasks",__tasks__:"folder-tasks",tickets:"folder-tasks",".tickets":"folder-tasks",_tickets:"folder-tasks",__tickets__:"folder-tasks",android:"folder-android",".android":"folder-android",_android:"folder-android",__android__:"folder-android",ios:"folder-ios",".ios":"folder-ios",_ios:"folder-ios",__ios__:"folder-ios",uploads:"folder-upload",".uploads":"folder-upload",_uploads:"folder-upload",__uploads__:"folder-upload",upload:"folder-upload",".upload":"folder-upload",_upload:"folder-upload",__upload__:"folder-upload",downloads:"folder-download",".downloads":"folder-download",_downloads:"folder-download",__downloads__:"folder-download",download:"folder-download",".download":"folder-download",_download:"folder-download",__download__:"folder-download",tools:"folder-tools",".tools":"folder-tools",_tools:"folder-tools",__tools__:"folder-tools",toolkit:"folder-tools",".toolkit":"folder-tools",_toolkit:"folder-tools",__toolkit__:"folder-tools",toolkits:"folder-tools",".toolkits":"folder-tools",_toolkits:"folder-tools",__toolkits__:"folder-tools",toolbox:"folder-tools",".toolbox":"folder-tools",_toolbox:"folder-tools",__toolbox__:"folder-tools",toolboxes:"folder-tools",".toolboxes":"folder-tools",_toolboxes:"folder-tools",__toolboxes__:"folder-tools",tooling:"folder-tools",".tooling":"folder-tools",_tooling:"folder-tools",__tooling__:"folder-tools",helpers:"folder-helper",".helpers":"folder-helper",_helpers:"folder-helper",__helpers__:"folder-helper",helper:"folder-helper",".helper":"folder-helper",_helper:"folder-helper",__helper__:"folder-helper",serverless:"folder-serverless",".serverless":"folder-serverless",_serverless:"folder-serverless",__serverless__:"folder-serverless",api:"folder-api",".api":"folder-api",_api:"folder-api",__api__:"folder-api",apis:"folder-api",".apis":"folder-api",_apis:"folder-api",__apis__:"folder-api",restapi:"folder-api",".restapi":"folder-api",_restapi:"folder-api",__restapi__:"folder-api",app:"folder-app",".app":"folder-app",_app:"folder-app",__app__:"folder-app",apps:"folder-app",".apps":"folder-app",_apps:"folder-app",__apps__:"folder-app",apollo:"folder-apollo",".apollo":"folder-apollo",_apollo:"folder-apollo",__apollo__:"folder-apollo","apollo-client":"folder-apollo",".apollo-client":"folder-apollo","_apollo-client":"folder-apollo","__apollo-client__":"folder-apollo","apollo-cache":"folder-apollo",".apollo-cache":"folder-apollo","_apollo-cache":"folder-apollo","__apollo-cache__":"folder-apollo","apollo-config":"folder-apollo",".apollo-config":"folder-apollo","_apollo-config":"folder-apollo","__apollo-config__":"folder-apollo",arc:"folder-archive",".arc":"folder-archive",_arc:"folder-archive",__arc__:"folder-archive",arcs:"folder-archive",".arcs":"folder-archive",_arcs:"folder-archive",__arcs__:"folder-archive",archive:"folder-archive",".archive":"folder-archive",_archive:"folder-archive",__archive__:"folder-archive",archives:"folder-archive",".archives":"folder-archive",_archives:"folder-archive",__archives__:"folder-archive",archival:"folder-archive",".archival":"folder-archive",_archival:"folder-archive",__archival__:"folder-archive",bkp:"folder-archive",".bkp":"folder-archive",_bkp:"folder-archive",__bkp__:"folder-archive",bkps:"folder-archive",".bkps":"folder-archive",_bkps:"folder-archive",__bkps__:"folder-archive",bak:"folder-archive",".bak":"folder-archive",_bak:"folder-archive",__bak__:"folder-archive",baks:"folder-archive",".baks":"folder-archive",_baks:"folder-archive",__baks__:"folder-archive",backup:"folder-archive",".backup":"folder-archive",_backup:"folder-archive",__backup__:"folder-archive",backups:"folder-archive",".backups":"folder-archive",_backups:"folder-archive",__backups__:"folder-archive","back-up":"folder-archive",".back-up":"folder-archive","_back-up":"folder-archive","__back-up__":"folder-archive","back-ups":"folder-archive",".back-ups":"folder-archive","_back-ups":"folder-archive","__back-ups__":"folder-archive",history:"folder-archive",".history":"folder-archive",_history:"folder-archive",__history__:"folder-archive",histories:"folder-archive",".histories":"folder-archive",_histories:"folder-archive",__histories__:"folder-archive",batch:"folder-batch",".batch":"folder-batch",_batch:"folder-batch",__batch__:"folder-batch",batchs:"folder-batch",".batchs":"folder-batch",_batchs:"folder-batch",__batchs__:"folder-batch",batches:"folder-batch",".batches":"folder-batch",_batches:"folder-batch",__batches__:"folder-batch",buildkite:"folder-buildkite",".buildkite":"folder-buildkite",_buildkite:"folder-buildkite",__buildkite__:"folder-buildkite",cluster:"folder-cluster",".cluster":"folder-cluster",_cluster:"folder-cluster",__cluster__:"folder-cluster",clusters:"folder-cluster",".clusters":"folder-cluster",_clusters:"folder-cluster",__clusters__:"folder-cluster",command:"folder-command",".command":"folder-command",_command:"folder-command",__command__:"folder-command",commands:"folder-command",".commands":"folder-command",_commands:"folder-command",__commands__:"folder-command",cmd:"folder-command",".cmd":"folder-command",_cmd:"folder-command",__cmd__:"folder-command",cli:"folder-command",".cli":"folder-command",_cli:"folder-command",__cli__:"folder-command",clis:"folder-command",".clis":"folder-command",_clis:"folder-command",__clis__:"folder-command",constant:"folder-constant",".constant":"folder-constant",_constant:"folder-constant",__constant__:"folder-constant",constants:"folder-constant",".constants":"folder-constant",_constants:"folder-constant",__constants__:"folder-constant",container:"folder-container",".container":"folder-container",_container:"folder-container",__container__:"folder-container",containers:"folder-container",".containers":"folder-container",_containers:"folder-container",__containers__:"folder-container",devcontainer:"folder-container",".devcontainer":"folder-container",_devcontainer:"folder-container",__devcontainer__:"folder-container",content:"folder-content",".content":"folder-content",_content:"folder-content",__content__:"folder-content",contents:"folder-content",".contents":"folder-content",_contents:"folder-content",__contents__:"folder-content",context:"folder-context",".context":"folder-context",_context:"folder-context",__context__:"folder-context",contexts:"folder-context",".contexts":"folder-context",_contexts:"folder-context",__contexts__:"folder-context",core:"folder-core",".core":"folder-core",_core:"folder-core",__core__:"folder-core",delta:"folder-delta",".delta":"folder-delta",_delta:"folder-delta",__delta__:"folder-delta",deltas:"folder-delta",".deltas":"folder-delta",_deltas:"folder-delta",__deltas__:"folder-delta",changes:"folder-delta",".changes":"folder-delta",_changes:"folder-delta",__changes__:"folder-delta",dump:"folder-dump",".dump":"folder-dump",_dump:"folder-dump",__dump__:"folder-dump",dumps:"folder-dump",".dumps":"folder-dump",_dumps:"folder-dump",__dumps__:"folder-dump",demo:"folder-examples",".demo":"folder-examples",_demo:"folder-examples",__demo__:"folder-examples",demos:"folder-examples",".demos":"folder-examples",_demos:"folder-examples",__demos__:"folder-examples",example:"folder-examples",".example":"folder-examples",_example:"folder-examples",__example__:"folder-examples",examples:"folder-examples",".examples":"folder-examples",_examples:"folder-examples",__examples__:"folder-examples",sample:"folder-examples",".sample":"folder-examples",_sample:"folder-examples",__sample__:"folder-examples",samples:"folder-examples",".samples":"folder-examples",_samples:"folder-examples",__samples__:"folder-examples","sample-data":"folder-examples",".sample-data":"folder-examples","_sample-data":"folder-examples","__sample-data__":"folder-examples",env:"folder-environment",".env":"folder-environment",_env:"folder-environment",__env__:"folder-environment",envs:"folder-environment",".envs":"folder-environment",_envs:"folder-environment",__envs__:"folder-environment",environment:"folder-environment",".environment":"folder-environment",_environment:"folder-environment",__environment__:"folder-environment",environments:"folder-environment",".environments":"folder-environment",_environments:"folder-environment",__environments__:"folder-environment",venv:"folder-environment",".venv":"folder-environment",_venv:"folder-environment",__venv__:"folder-environment",func:"folder-functions",".func":"folder-functions",_func:"folder-functions",__func__:"folder-functions",funcs:"folder-functions",".funcs":"folder-functions",_funcs:"folder-functions",__funcs__:"folder-functions",function:"folder-functions",".function":"folder-functions",_function:"folder-functions",__function__:"folder-functions",functions:"folder-functions",".functions":"folder-functions",_functions:"folder-functions",__functions__:"folder-functions",lambda:"folder-functions",".lambda":"folder-functions",_lambda:"folder-functions",__lambda__:"folder-functions",lambdas:"folder-functions",".lambdas":"folder-functions",_lambdas:"folder-functions",__lambdas__:"folder-functions",logic:"folder-functions",".logic":"folder-functions",_logic:"folder-functions",__logic__:"folder-functions",math:"folder-functions",".math":"folder-functions",_math:"folder-functions",__math__:"folder-functions",maths:"folder-functions",".maths":"folder-functions",_maths:"folder-functions",__maths__:"folder-functions",calc:"folder-functions",".calc":"folder-functions",_calc:"folder-functions",__calc__:"folder-functions",calcs:"folder-functions",".calcs":"folder-functions",_calcs:"folder-functions",__calcs__:"folder-functions",calculation:"folder-functions",".calculation":"folder-functions",_calculation:"folder-functions",__calculation__:"folder-functions",calculations:"folder-functions",".calculations":"folder-functions",_calculations:"folder-functions",__calculations__:"folder-functions",generator:"folder-generator",".generator":"folder-generator",_generator:"folder-generator",__generator__:"folder-generator",generators:"folder-generator",".generators":"folder-generator",_generators:"folder-generator",__generators__:"folder-generator",generated:"folder-generator",".generated":"folder-generator",_generated:"folder-generator",__generated__:"folder-generator","cfn-gen":"folder-generator",".cfn-gen":"folder-generator","_cfn-gen":"folder-generator","__cfn-gen__":"folder-generator",gen:"folder-generator",".gen":"folder-generator",_gen:"folder-generator",__gen__:"folder-generator",gens:"folder-generator",".gens":"folder-generator",_gens:"folder-generator",__gens__:"folder-generator",auto:"folder-generator",".auto":"folder-generator",_auto:"folder-generator",__auto__:"folder-generator",hook:"folder-hook",".hook":"folder-hook",_hook:"folder-hook",__hook__:"folder-hook",hooks:"folder-hook",".hooks":"folder-hook",_hooks:"folder-hook",__hooks__:"folder-hook",trigger:"folder-hook",".trigger":"folder-hook",_trigger:"folder-hook",__trigger__:"folder-hook",triggers:"folder-hook",".triggers":"folder-hook",_triggers:"folder-hook",__triggers__:"folder-hook",job:"folder-job",".job":"folder-job",_job:"folder-job",__job__:"folder-job",jobs:"folder-job",".jobs":"folder-job",_jobs:"folder-job",__jobs__:"folder-job",key:"folder-keys",".key":"folder-keys",_key:"folder-keys",__key__:"folder-keys",keys:"folder-keys",".keys":"folder-keys",_keys:"folder-keys",__keys__:"folder-keys",token:"folder-keys",".token":"folder-keys",_token:"folder-keys",__token__:"folder-keys",tokens:"folder-keys",".tokens":"folder-keys",_tokens:"folder-keys",__tokens__:"folder-keys",jwt:"folder-keys",".jwt":"folder-keys",_jwt:"folder-keys",__jwt__:"folder-keys",secret:"folder-keys",".secret":"folder-keys",_secret:"folder-keys",__secret__:"folder-keys",secrets:"folder-keys",".secrets":"folder-keys",_secrets:"folder-keys",__secrets__:"folder-keys",layout:"folder-layout",".layout":"folder-layout",_layout:"folder-layout",__layout__:"folder-layout",layouts:"folder-layout",".layouts":"folder-layout",_layouts:"folder-layout",__layouts__:"folder-layout",mail:"folder-mail",".mail":"folder-mail",_mail:"folder-mail",__mail__:"folder-mail",mails:"folder-mail",".mails":"folder-mail",_mails:"folder-mail",__mails__:"folder-mail",email:"folder-mail",".email":"folder-mail",_email:"folder-mail",__email__:"folder-mail",emails:"folder-mail",".emails":"folder-mail",_emails:"folder-mail",__emails__:"folder-mail",smtp:"folder-mail",".smtp":"folder-mail",_smtp:"folder-mail",__smtp__:"folder-mail",mailers:"folder-mail",".mailers":"folder-mail",_mailers:"folder-mail",__mailers__:"folder-mail",mappings:"folder-mappings",".mappings":"folder-mappings",_mappings:"folder-mappings",__mappings__:"folder-mappings",mapping:"folder-mappings",".mapping":"folder-mappings",_mapping:"folder-mappings",__mapping__:"folder-mappings",meta:"folder-meta",".meta":"folder-meta",_meta:"folder-meta",__meta__:"folder-meta",changesets:"folder-changesets",".changesets":"folder-changesets",_changesets:"folder-changesets",__changesets__:"folder-changesets",changeset:"folder-changesets",".changeset":"folder-changesets",_changeset:"folder-changesets",__changeset__:"folder-changesets",package:"folder-packages",".package":"folder-packages",_package:"folder-packages",__package__:"folder-packages",packages:"folder-packages",".packages":"folder-packages",_packages:"folder-packages",__packages__:"folder-packages",pkg:"folder-packages",".pkg":"folder-packages",_pkg:"folder-packages",__pkg__:"folder-packages",pkgs:"folder-packages",".pkgs":"folder-packages",_pkgs:"folder-packages",__pkgs__:"folder-packages",shared:"folder-shared",".shared":"folder-shared",_shared:"folder-shared",__shared__:"folder-shared",common:"folder-shared",".common":"folder-shared",_common:"folder-shared",__common__:"folder-shared",glsl:"folder-shader",".glsl":"folder-shader",_glsl:"folder-shader",__glsl__:"folder-shader",hlsl:"folder-shader",".hlsl":"folder-shader",_hlsl:"folder-shader",__hlsl__:"folder-shader",shader:"folder-shader",".shader":"folder-shader",_shader:"folder-shader",__shader__:"folder-shader",shaders:"folder-shader",".shaders":"folder-shader",_shaders:"folder-shader",__shaders__:"folder-shader",stack:"folder-stack",".stack":"folder-stack",_stack:"folder-stack",__stack__:"folder-stack",stacks:"folder-stack",".stacks":"folder-stack",_stacks:"folder-stack",__stacks__:"folder-stack",template:"folder-template",".template":"folder-template",_template:"folder-template",__template__:"folder-template",templates:"folder-template",".templates":"folder-template",_templates:"folder-template",__templates__:"folder-template",util:"folder-utils",".util":"folder-utils",_util:"folder-utils",__util__:"folder-utils",utils:"folder-utils",".utils":"folder-utils",_utils:"folder-utils",__utils__:"folder-utils",utility:"folder-utils",".utility":"folder-utils",_utility:"folder-utils",__utility__:"folder-utils",utilities:"folder-utils",".utilities":"folder-utils",_utilities:"folder-utils",__utilities__:"folder-utils",supabase:"folder-supabase",".supabase":"folder-supabase",_supabase:"folder-supabase",__supabase__:"folder-supabase",private:"folder-private",".private":"folder-private",_private:"folder-private",__private__:"folder-private",linux:"folder-linux",".linux":"folder-linux",_linux:"folder-linux",__linux__:"folder-linux",linuxbsd:"folder-linux",".linuxbsd":"folder-linux",_linuxbsd:"folder-linux",__linuxbsd__:"folder-linux",unix:"folder-linux",".unix":"folder-linux",_unix:"folder-linux",__unix__:"folder-linux",windows:"folder-windows",".windows":"folder-windows",_windows:"folder-windows",__windows__:"folder-windows",win:"folder-windows",".win":"folder-windows",_win:"folder-windows",__win__:"folder-windows",macos:"folder-macos",".macos":"folder-macos",_macos:"folder-macos",__macos__:"folder-macos",mac:"folder-macos",".mac":"folder-macos",_mac:"folder-macos",__mac__:"folder-macos",DS_Store:"folder-macos",".DS_Store":"folder-macos",_DS_Store:"folder-macos",__DS_Store__:"folder-macos",error:"folder-error",".error":"folder-error",_error:"folder-error",__error__:"folder-error",errors:"folder-error",".errors":"folder-error",_errors:"folder-error",__errors__:"folder-error",err:"folder-error",".err":"folder-error",_err:"folder-error",__err__:"folder-error",errs:"folder-error",".errs":"folder-error",_errs:"folder-error",__errs__:"folder-error",crash:"folder-error",".crash":"folder-error",_crash:"folder-error",__crash__:"folder-error",crashes:"folder-error",".crashes":"folder-error",_crashes:"folder-error",__crashes__:"folder-error",event:"folder-event",".event":"folder-event",_event:"folder-event",__event__:"folder-event",events:"folder-event",".events":"folder-event",_events:"folder-event",__events__:"folder-event",auth:"folder-secure",".auth":"folder-secure",_auth:"folder-secure",__auth__:"folder-secure",authentication:"folder-secure",".authentication":"folder-secure",_authentication:"folder-secure",__authentication__:"folder-secure",secure:"folder-secure",".secure":"folder-secure",_secure:"folder-secure",__secure__:"folder-secure",security:"folder-secure",".security":"folder-secure",_security:"folder-secure",__security__:"folder-secure",cert:"folder-secure",".cert":"folder-secure",_cert:"folder-secure",__cert__:"folder-secure",certs:"folder-secure",".certs":"folder-secure",_certs:"folder-secure",__certs__:"folder-secure",certificate:"folder-secure",".certificate":"folder-secure",_certificate:"folder-secure",__certificate__:"folder-secure",certificates:"folder-secure",".certificates":"folder-secure",_certificates:"folder-secure",__certificates__:"folder-secure",ssl:"folder-secure",".ssl":"folder-secure",_ssl:"folder-secure",__ssl__:"folder-secure",custom:"folder-custom",".custom":"folder-custom",_custom:"folder-custom",__custom__:"folder-custom",customs:"folder-custom",".customs":"folder-custom",_customs:"folder-custom",__customs__:"folder-custom",draft:"folder-mock",".draft":"folder-mock",_draft:"folder-mock",__draft__:"folder-mock",drafts:"folder-mock",".drafts":"folder-mock",_drafts:"folder-mock",__drafts__:"folder-mock",mock:"folder-mock",".mock":"folder-mock",_mock:"folder-mock",__mock__:"folder-mock",mocks:"folder-mock",".mocks":"folder-mock",_mocks:"folder-mock",__mocks__:"folder-mock",fixture:"folder-mock",".fixture":"folder-mock",_fixture:"folder-mock",__fixture__:"folder-mock",fixtures:"folder-mock",".fixtures":"folder-mock",_fixtures:"folder-mock",__fixtures__:"folder-mock",concept:"folder-mock",".concept":"folder-mock",_concept:"folder-mock",__concept__:"folder-mock",concepts:"folder-mock",".concepts":"folder-mock",_concepts:"folder-mock",__concepts__:"folder-mock",sketch:"folder-mock",".sketch":"folder-mock",_sketch:"folder-mock",__sketch__:"folder-mock",sketches:"folder-mock",".sketches":"folder-mock",_sketches:"folder-mock",__sketches__:"folder-mock",syntax:"folder-syntax",".syntax":"folder-syntax",_syntax:"folder-syntax",__syntax__:"folder-syntax",syntaxes:"folder-syntax",".syntaxes":"folder-syntax",_syntaxes:"folder-syntax",__syntaxes__:"folder-syntax",spellcheck:"folder-syntax",".spellcheck":"folder-syntax",_spellcheck:"folder-syntax",__spellcheck__:"folder-syntax",vm:"folder-vm",".vm":"folder-vm",_vm:"folder-vm",__vm__:"folder-vm",vms:"folder-vm",".vms":"folder-vm",_vms:"folder-vm",__vms__:"folder-vm",stylus:"folder-stylus",".stylus":"folder-stylus",_stylus:"folder-stylus",__stylus__:"folder-stylus","flow-typed":"folder-flow",".flow-typed":"folder-flow","_flow-typed":"folder-flow","__flow-typed__":"folder-flow",rule:"folder-rules",".rule":"folder-rules",_rule:"folder-rules",__rule__:"folder-rules",rules:"folder-rules",".rules":"folder-rules",_rules:"folder-rules",__rules__:"folder-rules",validation:"folder-rules",".validation":"folder-rules",_validation:"folder-rules",__validation__:"folder-rules",validations:"folder-rules",".validations":"folder-rules",_validations:"folder-rules",__validations__:"folder-rules",validator:"folder-rules",".validator":"folder-rules",_validator:"folder-rules",__validator__:"folder-rules",validators:"folder-rules",".validators":"folder-rules",_validators:"folder-rules",__validators__:"folder-rules",review:"folder-review",".review":"folder-review",_review:"folder-review",__review__:"folder-review",reviews:"folder-review",".reviews":"folder-review",_reviews:"folder-review",__reviews__:"folder-review",revisal:"folder-review",".revisal":"folder-review",_revisal:"folder-review",__revisal__:"folder-review",revisals:"folder-review",".revisals":"folder-review",_revisals:"folder-review",__revisals__:"folder-review",reviewed:"folder-review",".reviewed":"folder-review",_reviewed:"folder-review",__reviewed__:"folder-review",anim:"folder-animation",".anim":"folder-animation",_anim:"folder-animation",__anim__:"folder-animation",anims:"folder-animation",".anims":"folder-animation",_anims:"folder-animation",__anims__:"folder-animation",animation:"folder-animation",".animation":"folder-animation",_animation:"folder-animation",__animation__:"folder-animation",animations:"folder-animation",".animations":"folder-animation",_animations:"folder-animation",__animations__:"folder-animation",animated:"folder-animation",".animated":"folder-animation",_animated:"folder-animation",__animated__:"folder-animation",guard:"folder-guard",".guard":"folder-guard",_guard:"folder-guard",__guard__:"folder-guard",guards:"folder-guard",".guards":"folder-guard",_guards:"folder-guard",__guards__:"folder-guard",prisma:"folder-prisma",".prisma":"folder-prisma",_prisma:"folder-prisma",__prisma__:"folder-prisma",pipe:"folder-pipe",".pipe":"folder-pipe",_pipe:"folder-pipe",__pipe__:"folder-pipe",pipes:"folder-pipe",".pipes":"folder-pipe",_pipes:"folder-pipe",__pipes__:"folder-pipe",svg:"folder-svg",".svg":"folder-svg",_svg:"folder-svg",__svg__:"folder-svg",svgs:"folder-svg",".svgs":"folder-svg",_svgs:"folder-svg",__svgs__:"folder-svg",terraform:"folder-terraform",".terraform":"folder-terraform",_terraform:"folder-terraform",__terraform__:"folder-terraform",mobile:"folder-mobile",".mobile":"folder-mobile",_mobile:"folder-mobile",__mobile__:"folder-mobile",mobiles:"folder-mobile",".mobiles":"folder-mobile",_mobiles:"folder-mobile",__mobiles__:"folder-mobile",portable:"folder-mobile",".portable":"folder-mobile",_portable:"folder-mobile",__portable__:"folder-mobile",portability:"folder-mobile",".portability":"folder-mobile",_portability:"folder-mobile",__portability__:"folder-mobile",stencil:"folder-stencil",".stencil":"folder-stencil",_stencil:"folder-stencil",__stencil__:"folder-stencil",firebase:"folder-firebase",".firebase":"folder-firebase",_firebase:"folder-firebase",__firebase__:"folder-firebase",svelte:"folder-svelte",".svelte":"folder-svelte",_svelte:"folder-svelte",__svelte__:"folder-svelte","svelte-kit":"folder-svelte",".svelte-kit":"folder-svelte","_svelte-kit":"folder-svelte","__svelte-kit__":"folder-svelte",update:"folder-update",".update":"folder-update",_update:"folder-update",__update__:"folder-update",updates:"folder-update",".updates":"folder-update",_updates:"folder-update",__updates__:"folder-update",upgrade:"folder-update",".upgrade":"folder-update",_upgrade:"folder-update",__upgrade__:"folder-update",upgrades:"folder-update",".upgrades":"folder-update",_upgrades:"folder-update",__upgrades__:"folder-update",idea:"folder-intellij",".idea":"folder-intellij",_idea:"folder-intellij",__idea__:"folder-intellij","azure-pipelines":"folder-azure-pipelines",".azure-pipelines":"folder-azure-pipelines","_azure-pipelines":"folder-azure-pipelines","__azure-pipelines__":"folder-azure-pipelines","azure-pipelines-ci":"folder-azure-pipelines",".azure-pipelines-ci":"folder-azure-pipelines","_azure-pipelines-ci":"folder-azure-pipelines","__azure-pipelines-ci__":"folder-azure-pipelines",mjml:"folder-mjml",".mjml":"folder-mjml",_mjml:"folder-mjml",__mjml__:"folder-mjml",admin:"folder-admin",".admin":"folder-admin",_admin:"folder-admin",__admin__:"folder-admin",admins:"folder-admin",".admins":"folder-admin",_admins:"folder-admin",__admins__:"folder-admin",manager:"folder-admin",".manager":"folder-admin",_manager:"folder-admin",__manager__:"folder-admin",managers:"folder-admin",".managers":"folder-admin",_managers:"folder-admin",__managers__:"folder-admin",moderator:"folder-admin",".moderator":"folder-admin",_moderator:"folder-admin",__moderator__:"folder-admin",moderators:"folder-admin",".moderators":"folder-admin",_moderators:"folder-admin",__moderators__:"folder-admin",scala:"folder-scala",".scala":"folder-scala",_scala:"folder-scala",__scala__:"folder-scala",connection:"folder-connection",".connection":"folder-connection",_connection:"folder-connection",__connection__:"folder-connection",connections:"folder-connection",".connections":"folder-connection",_connections:"folder-connection",__connections__:"folder-connection",integration:"folder-connection",".integration":"folder-connection",_integration:"folder-connection",__integration__:"folder-connection",integrations:"folder-connection",".integrations":"folder-connection",_integrations:"folder-connection",__integrations__:"folder-connection",quasar:"folder-quasar",".quasar":"folder-quasar",_quasar:"folder-quasar",__quasar__:"folder-quasar",next:"folder-next",".next":"folder-next",_next:"folder-next",__next__:"folder-next",cobol:"folder-cobol",".cobol":"folder-cobol",_cobol:"folder-cobol",__cobol__:"folder-cobol",yarn:"folder-yarn",".yarn":"folder-yarn",_yarn:"folder-yarn",__yarn__:"folder-yarn",husky:"folder-husky",".husky":"folder-husky",_husky:"folder-husky",__husky__:"folder-husky",storybook:"folder-storybook",".storybook":"folder-storybook",_storybook:"folder-storybook",__storybook__:"folder-storybook",stories:"folder-storybook",".stories":"folder-storybook",_stories:"folder-storybook",__stories__:"folder-storybook",base:"folder-base",".base":"folder-base",_base:"folder-base",__base__:"folder-base",bases:"folder-base",".bases":"folder-base",_bases:"folder-base",__bases__:"folder-base",cart:"folder-cart",".cart":"folder-cart",_cart:"folder-cart",__cart__:"folder-cart","shopping-cart":"folder-cart",".shopping-cart":"folder-cart","_shopping-cart":"folder-cart","__shopping-cart__":"folder-cart",shopping:"folder-cart",".shopping":"folder-cart",_shopping:"folder-cart",__shopping__:"folder-cart",shop:"folder-cart",".shop":"folder-cart",_shop:"folder-cart",__shop__:"folder-cart",home:"folder-home",".home":"folder-home",_home:"folder-home",__home__:"folder-home",start:"folder-home",".start":"folder-home",_start:"folder-home",__start__:"folder-home",project:"folder-project",".project":"folder-project",_project:"folder-project",__project__:"folder-project",projects:"folder-project",".projects":"folder-project",_projects:"folder-project",__projects__:"folder-project",interface:"folder-interface",".interface":"folder-interface",_interface:"folder-interface",__interface__:"folder-interface",interfaces:"folder-interface",".interfaces":"folder-interface",_interfaces:"folder-interface",__interfaces__:"folder-interface",netlify:"folder-netlify",".netlify":"folder-netlify",_netlify:"folder-netlify",__netlify__:"folder-netlify",enum:"folder-enum",".enum":"folder-enum",_enum:"folder-enum",__enum__:"folder-enum",enums:"folder-enum",".enums":"folder-enum",_enums:"folder-enum",__enums__:"folder-enum",pact:"folder-contract",".pact":"folder-contract",_pact:"folder-contract",__pact__:"folder-contract",pacts:"folder-contract",".pacts":"folder-contract",_pacts:"folder-contract",__pacts__:"folder-contract",contract:"folder-contract",".contract":"folder-contract",_contract:"folder-contract",__contract__:"folder-contract",contracts:"folder-contract",".contracts":"folder-contract",_contracts:"folder-contract",__contracts__:"folder-contract","contract-testing":"folder-contract",".contract-testing":"folder-contract","_contract-testing":"folder-contract","__contract-testing__":"folder-contract","contract-test":"folder-contract",".contract-test":"folder-contract","_contract-test":"folder-contract","__contract-test__":"folder-contract","contract-tests":"folder-contract",".contract-tests":"folder-contract","_contract-tests":"folder-contract","__contract-tests__":"folder-contract",queue:"folder-queue",".queue":"folder-queue",_queue:"folder-queue",__queue__:"folder-queue",queues:"folder-queue",".queues":"folder-queue",_queues:"folder-queue",__queues__:"folder-queue",bull:"folder-queue",".bull":"folder-queue",_bull:"folder-queue",__bull__:"folder-queue",mq:"folder-queue",".mq":"folder-queue",_mq:"folder-queue",__mq__:"folder-queue",vercel:"folder-vercel",".vercel":"folder-vercel",_vercel:"folder-vercel",__vercel__:"folder-vercel",now:"folder-vercel",".now":"folder-vercel",_now:"folder-vercel",__now__:"folder-vercel",cypress:"folder-cypress",".cypress":"folder-cypress",_cypress:"folder-cypress",__cypress__:"folder-cypress",decorator:"folder-decorators",".decorator":"folder-decorators",_decorator:"folder-decorators",__decorator__:"folder-decorators",decorators:"folder-decorators",".decorators":"folder-decorators",_decorators:"folder-decorators",__decorators__:"folder-decorators",java:"folder-java",".java":"folder-java",_java:"folder-java",__java__:"folder-java",resolver:"folder-resolver",".resolver":"folder-resolver",_resolver:"folder-resolver",__resolver__:"folder-resolver",resolvers:"folder-resolver",".resolvers":"folder-resolver",_resolvers:"folder-resolver",__resolvers__:"folder-resolver",angular:"folder-angular",".angular":"folder-angular",_angular:"folder-angular",__angular__:"folder-angular",unity:"folder-unity",".unity":"folder-unity",_unity:"folder-unity",__unity__:"folder-unity",pdf:"folder-pdf",".pdf":"folder-pdf",_pdf:"folder-pdf",__pdf__:"folder-pdf",pdfs:"folder-pdf",".pdfs":"folder-pdf",_pdfs:"folder-pdf",__pdfs__:"folder-pdf",protobuf:"folder-proto",".protobuf":"folder-proto",_protobuf:"folder-proto",__protobuf__:"folder-proto",protobufs:"folder-proto",".protobufs":"folder-proto",_protobufs:"folder-proto",__protobufs__:"folder-proto",proto:"folder-proto",".proto":"folder-proto",_proto:"folder-proto",protos:"folder-proto",".protos":"folder-proto",_protos:"folder-proto",__protos__:"folder-proto",plastic:"folder-plastic",".plastic":"folder-plastic",_plastic:"folder-plastic",__plastic__:"folder-plastic",gamemaker:"folder-gamemaker",".gamemaker":"folder-gamemaker",_gamemaker:"folder-gamemaker",__gamemaker__:"folder-gamemaker",gamemaker2:"folder-gamemaker",".gamemaker2":"folder-gamemaker",_gamemaker2:"folder-gamemaker",__gamemaker2__:"folder-gamemaker",hg:"folder-mercurial",".hg":"folder-mercurial",_hg:"folder-mercurial",__hg__:"folder-mercurial",hghooks:"folder-mercurial",".hghooks":"folder-mercurial",_hghooks:"folder-mercurial",__hghooks__:"folder-mercurial",hgext:"folder-mercurial",".hgext":"folder-mercurial",_hgext:"folder-mercurial",__hgext__:"folder-mercurial",godot:"folder-godot",".godot":"folder-godot",_godot:"folder-godot",__godot__:"folder-godot","godot-cpp":"folder-godot",".godot-cpp":"folder-godot","_godot-cpp":"folder-godot","__godot-cpp__":"folder-godot",lottie:"folder-lottie",".lottie":"folder-lottie",_lottie:"folder-lottie",__lottie__:"folder-lottie",lotties:"folder-lottie",".lotties":"folder-lottie",_lotties:"folder-lottie",__lotties__:"folder-lottie",lottiefiles:"folder-lottie",".lottiefiles":"folder-lottie",_lottiefiles:"folder-lottie",__lottiefiles__:"folder-lottie",taskfile:"folder-taskfile",".taskfile":"folder-taskfile",_taskfile:"folder-taskfile",__taskfile__:"folder-taskfile",taskfiles:"folder-taskfile",".taskfiles":"folder-taskfile",_taskfiles:"folder-taskfile",__taskfiles__:"folder-taskfile",cloudflare:"folder-cloudflare",".cloudflare":"folder-cloudflare",_cloudflare:"folder-cloudflare",__cloudflare__:"folder-cloudflare",seeds:"folder-seeders",".seeds":"folder-seeders",_seeds:"folder-seeders",__seeds__:"folder-seeders",seeders:"folder-seeders",".seeders":"folder-seeders",_seeders:"folder-seeders",__seeders__:"folder-seeders",seed:"folder-seeders",".seed":"folder-seeders",_seed:"folder-seeders",__seed__:"folder-seeders",seeding:"folder-seeders",".seeding":"folder-seeders",_seeding:"folder-seeders",__seeding__:"folder-seeders"},fileExtensions:{htm:"html",xhtml:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",jsonc:"json",tsbuildinfo:"json",json5:"json",jsonl:"json",ndjson:"json",hjson:"hjson",jinja:"jinja",jinja2:"jinja",j2:"jinja","jinja-html":"jinja",proto:"proto","sublime-project":"sublime","sublime-workspace":"sublime",tw:"twine",twee:"twine","yml.dist":"yaml","yaml.dist":"yaml","YAML-tmLanguage":"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml","xml.dist":"xml","xml.dist.sample":"xml",dmn:"xml",jrxml:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",avif:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pgf:"image",pic:"image",raw:"image",webp:"image",eps:"image",afphoto:"image",ase:"image",aseprite:"image",clip:"image",cpt:"image",heif:"image",heic:"image",kra:"image",mdp:"image",ora:"image",pdn:"image",reb:"image",sai:"image",tga:"image",xcf:"image",jfif:"image",ppm:"image",pbm:"image",pgm:"image",pnm:"image",icns:"image",esx:"javascript",mjs:"javascript",jsx:"react",tsx:"react_ts","routing.ts":"routing","routing.tsx":"routing","routing.js":"routing","routing.jsx":"routing","routes.ts":"routing","routes.tsx":"routing","routes.js":"routing","routes.jsx":"routing",ini:"settings",dlc:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",cfg:"settings","d.ts":"typescript-def","d.cts":"typescript-def","d.mts":"typescript-def",marko:"markojs",astro:"astro",pdf:"pdf",xlsx:"table",xlsm:"table",xls:"table",csv:"table",tsv:"table",psv:"table",ods:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode","code-workspace":"vscode","code-profile":"vscode","code-snippets":"vscode",csproj:"visualstudio",ruleset:"visualstudio",sln:"visualstudio",slnx:"visualstudio",suo:"visualstudio",vb:"visualstudio",vbs:"visualstudio",vcxitems:"visualstudio","vcxitems.filters":"visualstudio",vcxproj:"visualstudio","vcxproj.filters":"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",sqlite3:"database",pgsql:"database",postgres:"database",plpgsql:"database",psql:"database",db:"database",db3:"database",dblite:"database",dblite3:"database",debugsymbols:"database",kql:"kusto",cs:"csharp",csx:"csharp",csharp:"csharp",qs:"qsharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",lzma:"zip",lz4:"zip",br:"zip",bz2:"zip",bzip2:"zip",gzip:"zip",brotli:"zip","7z":"zip",rar:"zip",tz:"zip",txz:"zip",tgz:"zip",zst:"zip",vala:"vala",zig:"zig",zon:"zig",exe:"exe",msi:"exe",dat:"hex",bin:"hex",hex:"hex",java:"java",jsp:"java",jar:"jar",class:"javaclass",c:"c",i:"c",mi:"c",h:"h",cc:"cpp",cpp:"cpp",cxx:"cpp","c++":"cpp",cp:"cpp",mii:"cpp",ii:"cpp",hh:"hpp",hpp:"hpp",hxx:"hpp","h++":"hpp",hp:"hpp",tcc:"hpp",inl:"hpp",rc:"rc",go:"go",py:"python",pyc:"python-misc",whl:"python-misc",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",awk:"console",fish:"console",exp:"console",nu:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",rtf:"word",odt:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",passwd:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",a:"lib",dll:"dll",ilk:"dll",so:"dll",rb:"ruby",erb:"ruby",rbs:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker","docker-compose.yml":"docker","docker-compose.yaml":"docker",containerignore:"docker",containerfile:"docker","compose.yaml":"docker","compose.yml":"docker",tex:"tex",sty:"tex",dtx:"tex",ltx:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"video",mkv:"video",flv:"video",vob:"video",ogv:"video",ogg:"video",gifv:"video",avi:"video",mov:"video",qt:"video",wmv:"video",yuv:"video",rm:"video",rmvb:"video",mp4:"video",m4v:"video",mpg:"video",mp2:"video",mpeg:"video",mpe:"video",mpv:"video",m2v:"video",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ved:"vedic",veda:"vedic",vedic:"vedic",ics:"email",mp3:"audio",flac:"audio",m4a:"audio",wma:"audio",aiff:"audio",wav:"audio",coffee:"coffee",cson:"coffee",iced:"coffee",txt:"document",graphql:"graphql",gql:"graphql",rs:"rust",ron:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",otne:"otne",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",cljc:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart","freezed.dart":"dart_generated","g.dart":"dart_generated",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",odin:"odin","js.map":"javascript-map","mjs.map":"javascript-map","cjs.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pm:"perl",raku:"perl",hx:"haxe","spec.ts":"test-ts","spec.cts":"test-ts","spec.mts":"test-ts","cy.ts":"test-ts","e2e-spec.ts":"test-ts","e2e-spec.cts":"test-ts","e2e-spec.mts":"test-ts","test.ts":"test-ts","test.cts":"test-ts","test.mts":"test-ts","ts.snap":"test-ts","spec-d.ts":"test-ts","test-d.ts":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","cy.jsx":"test-jsx","cy.tsx":"test-jsx","spec-d.tsx":"test-jsx","test-d.tsx":"test-jsx","spec.js":"test-js","spec.cjs":"test-js","spec.mjs":"test-js","e2e-spec.js":"test-js","e2e-spec.cjs":"test-js","e2e-spec.mjs":"test-js","test.js":"test-js","test.cjs":"test-js","test.mjs":"test-js","js.snap":"test-js","cy.js":"test-js","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",eex:"elixir",leex:"elixir",heex:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",purs:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",mjml:"mjml",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform",tfbackend:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",ipa:"applescript",cake:"cake",feature:"cucumber",features:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",riot:"riot",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cfm:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",apk:"android",smali:"android",dex:"android",env:"tune","gitlab-ci.yml":"gitlab",jenkinsfile:"jenkins",jenkins:"jenkins",fig:"figma",huff:"huff",cr:"crystal",ecr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log",def:"dotjs",dot:"dotjs",jst:"dotjs",ejs:"ejs",".wakatime-project":"wakatime",pde:"processing","stories.js":"storybook","stories.jsx":"storybook","stories.mdx":"storybook","story.js":"storybook","story.jsx":"storybook","stories.ts":"storybook","stories.tsx":"storybook","story.ts":"storybook","story.tsx":"storybook","stories.svelte":"storybook","story.mdx":"storybook",wpy:"wepy",hcl:"hcl",san:"san","quokka.js":"quokka","quokka.ts":"quokka","quokka.jsx":"quokka","quokka.tsx":"quokka",djt:"django",red:"red",mk:"makefile",fxp:"foxpro",prg:"foxpro",pot:"i18n",po:"i18n",mo:"i18n",lang:"i18n",wat:"webassembly",wasm:"webassembly",ipynb:"jupyter",d:"d",mdx:"mdx",svx:"mdsvex",bal:"ballerina",balx:"ballerina",rkt:"racket",bzl:"bazel",bazel:"bazel",mint:"mint",vm:"velocity",fhtml:"velocity",vtl:"velocity",gd:"godot",godot:"godot-assets",tres:"godot-assets",tscn:"godot-assets",gdns:"godot-assets",gdnlib:"godot-assets",gdshader:"godot-assets",gdshaderinc:"godot-assets",gdextension:"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines",azcli:"azure",vagrantfile:"vagrant",prisma:"prisma",cshtml:"razor",vbhtml:"razor",abc:"abc",ad:"asciidoc",adoc:"asciidoc",asciidoc:"asciidoc",edge:"edge",ss:"scheme",scm:"scheme",lisp:"lisp",lsp:"lisp",cl:"lisp",fast:"lisp",stl:"3d",stp:"3d",obj:"3d",o:"3d",ac:"3d",blend:"3d",dxf:"3d",fbx:"3d",mesh:"3d",mqo:"3d",pmd:"3d",pmx:"3d",skp:"3d",vac:"3d",vdp:"3d",vox:"3d",svg:"svg",svelte:"svelte",vimrc:"vim",gvimrc:"vim",exrc:"vim",vim:"vim",viminfo:"vim",moon:"moonscript",prw:"advpl_prw",prx:"advpl_prw",ptm:"advpl_ptm",tlpp:"advpl_tlpp",ch:"advpl_include",iso:"disc",vmdk:"disc",hdd:"disc",qcow:"disc",qcow2:"disc",qed:"disc",dmg:"disc",f:"fortran",f77:"fortran",f90:"fortran",f95:"fortran",f03:"fortran",f08:"fortran",tcl:"tcl",liquid:"liquid",p:"prolog",pro:"prolog",pl:"prolog",coco:"coconut",sketch:"sketch",pwn:"pawn",amx:"pawn","4th":"forth",fth:"forth",frt:"forth",iuml:"uml",pu:"uml",puml:"uml",plantuml:"uml",wsd:"uml",wrap:"meson",dhall:"dhall",dhallb:"dhall",sml:"sml",mlton:"sml",mlb:"sml",sig:"sml",fun:"sml",cm:"sml",lex:"sml",use:"sml",grm:"sml",opam:"opam",imba:"imba",drawio:"drawio",dio:"drawio",pas:"pascal",unity:"shaderlab",sas:"sas",sas7bdat:"sas",sashdat:"sas",astore:"sas",ast:"sas",sast:"sas",nupkg:"nuget",command:"command",dsc:"denizenscript","code-search":"search",nginx:"nginx",nginxconf:"nginx",nginxconfig:"nginx",mcfunction:"minecraft",mcmeta:"minecraft",mcr:"minecraft",mca:"minecraft",mcgame:"minecraft",mclevel:"minecraft",mcworld:"minecraft",mine:"minecraft",mus:"minecraft",mcstructure:"minecraft",mcpack:"minecraft",mcaddon:"minecraft",mctemplate:"minecraft",mcproject:"minecraft",res:"rescript",resi:"rescript-interface",b:"brainfuck",bf:"brainfuck",bicep:"bicep",cob:"cobol",cbl:"cobol",gr:"grain",lol:"lolcode",idr:"idris",ibc:"idris",pipeline:"pipeline",rego:"opa",windi:"windicss",scala:"scala",sc:"scala",ly:"lilypond",v:"vlang",pgn:"chess",fen:"chess",gmi:"gemini",gemini:"gemini","tsconfig.json":"tsconfig",tauri:"tauri","jsconfig.json":"jsconfig",ada:"ada",adb:"ada",ads:"ada",ali:"ada","horusec-config.json":"horusec","pdm.lock":"pdm","pdm.toml":"pdm",coarc:"coala",coafile:"coala",bubble:"dinophp","html.bubble":"dinophp","php.bubble":"dinophp",tl:"teal",template:"template",glsl:"shader",vert:"shader",tesc:"shader",tese:"shader",geom:"shader",frag:"shader",comp:"shader","vert.glsl":"shader","tesc.glsl":"shader","tese.glsl":"shader","geom.glsl":"shader","frag.glsl":"shader","comp.glsl":"shader","vertex.glsl":"shader","geometry.glsl":"shader","fragment.glsl":"shader","compute.glsl":"shader","ts.glsl":"shader","gs.glsl":"shader","vs.glsl":"shader","fs.glsl":"shader",shader:"shader",vertexshader:"shader",fragmentshader:"shader",geometryshader:"shader",computeshader:"shader",hlsl:"shader","pixel.hlsl":"shader","geometry.hlsl":"shader","compute.hlsl":"shader","tessellation.hlsl":"shader","px.hlsl":"shader","geom.hlsl":"shader","comp.hlsl":"shader","tess.hlsl":"shader",wgsl:"shader",sy:"siyuan","ndst.yml":"ndst","ndst.yaml":"ndst","ndst.json":"ndst",tobi:"tobi",gleam:"gleam","steadybit.yml":"steadybit","steadybit.yaml":"steadybit",capnp:"capnp",tree:"tree",cdc:"cadence","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger",g4:"antlr","st.css":"stylable",pine:"pinejs","taskfile.yml":"taskfile","taskfile.yaml":"taskfile",gml:"gamemaker",yy:"gamemaker",yyp:"gamemaker",yyz:"gamemaker",tldr:"tldraw",typ:"typst",mmd:"mermaid",mermaid:"mermaid",mojo:"mojo","":"mojo",rbxl:"roblox",rbxlx:"roblox",rbxm:"roblox",rbxmx:"roblox",spwn:"spwn",templ:"templ",crx:"chrome",stan:"stan",abap:"abap",acds:"abap",asddls:"abap",lottie:"lottie",gs:"apps-script",pkl:"pkl"},fileNames:{".pug-lintrc":"pug",".pug-lintrc.js":"pug",".pug-lintrc.json":"pug",".jscsrc":"json",".jshintrc":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".lintstagedrc":"json",".whitesource":"json","playwright.config.js":"playwright","playwright.config.mjs":"playwright","playwright.config.ts":"playwright","playwright.config.base.js":"playwright","playwright.config.base.mjs":"playwright","playwright.config.base.ts":"playwright","playwright-ct.config.js":"playwright","playwright-ct.config.mjs":"playwright","playwright-ct.config.ts":"playwright",".htaccess":"xml","router.js":"routing","router.jsx":"routing","router.ts":"routing","router.tsx":"routing","routes.js":"routing","routes.jsx":"routing","routes.ts":"routing","routes.tsx":"routing",".jshintignore":"settings",".buildignore":"settings",".mrconfig":"settings",".yardopts":"settings","manifest.mf":"settings",".clang-format":"settings",".clang-tidy":"settings","astro.config.js":"astro","astro.config.mjs":"astro","astro.config.cjs":"astro","astro.config.ts":"astro","astro.config.cts":"astro","astro.config.mts":"astro","go.mod":"go-mod","go.sum":"go-mod","go.work":"go-mod","go.work.sum":"go-mod","requirements.txt":"python-misc",pipfile:"python-misc",".python-version":"python-misc","manifest.in":"python-misc",pylintrc:"python-misc",".pylintrc":"python-misc","pyproject.toml":"python-misc","commit-msg":"console","pre-commit":"console","pre-push":"console","post-merge":"console","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",copying:"certificate","copying.md":"certificate","copying.rst":"certificate","copying.txt":"certificate",copyright:"certificate","copyright.md":"certificate","copyright.rst":"certificate","copyright.txt":"certificate",license:"certificate","license-agpl":"certificate","license-apache":"certificate","license-bsd":"certificate","license-mit":"certificate","license-gpl":"certificate","license-lgpl":"certificate","license.md":"certificate","license.rst":"certificate","license.txt":"certificate",licence:"certificate","licence-agpl":"certificate","licence-apache":"certificate","licence-bsd":"certificate","licence-mit":"certificate","licence-gpl":"certificate","licence-lgpl":"certificate","licence.md":"certificate","licence.rst":"certificate","licence.txt":"certificate",".htpasswd":"key",".ruby-version":"ruby",gemfile:"gemfile",".rubocop.yml":"rubocop",".rubocop-todo.yml":"rubocop",".rubocop_todo.yml":"rubocop",".rspec":"rspec",dockerfile:"docker","dockerfile.prod":"docker","dockerfile.production":"docker","dockerfile.alpha":"docker","dockerfile.beta":"docker","dockerfile.stage":"docker","dockerfile.staging":"docker","dockerfile.dev":"docker","dockerfile.development":"docker","dockerfile.local":"docker","dockerfile.test":"docker","dockerfile.testing":"docker","dockerfile.ci":"docker","dockerfile.web":"docker","dockerfile.worker":"docker","docker-compose.yml":"docker","docker-compose.override.yml":"docker","docker-compose.prod.yml":"docker","docker-compose.production.yml":"docker","docker-compose.alpha.yml":"docker","docker-compose.beta.yml":"docker","docker-compose.stage.yml":"docker","docker-compose.staging.yml":"docker","docker-compose.dev.yml":"docker","docker-compose.development.yml":"docker","docker-compose.local.yml":"docker","docker-compose.test.yml":"docker","docker-compose.testing.yml":"docker","docker-compose.ci.yml":"docker","docker-compose.web.yml":"docker","docker-compose.worker.yml":"docker","docker-compose.yaml":"docker","docker-compose.override.yaml":"docker","docker-compose.prod.yaml":"docker","docker-compose.production.yaml":"docker","docker-compose.alpha.yaml":"docker","docker-compose.beta.yaml":"docker","docker-compose.stage.yaml":"docker","docker-compose.staging.yaml":"docker","docker-compose.dev.yaml":"docker","docker-compose.development.yaml":"docker","docker-compose.local.yaml":"docker","docker-compose.test.yaml":"docker","docker-compose.testing.yaml":"docker","docker-compose.ci.yaml":"docker","docker-compose.web.yaml":"docker","docker-compose.worker.yaml":"docker",containerfile:"docker","containerfile.prod":"docker","containerfile.production":"docker","containerfile.alpha":"docker","containerfile.beta":"docker","containerfile.stage":"docker","containerfile.staging":"docker","containerfile.dev":"docker","containerfile.development":"docker","containerfile.local":"docker","containerfile.test":"docker","containerfile.testing":"docker","containerfile.ci":"docker","containerfile.web":"docker","containerfile.worker":"docker","compose.yaml":"docker","compose.override.yaml":"docker","compose.prod.yaml":"docker","compose.production.yaml":"docker","compose.alpha.yaml":"docker","compose.beta.yaml":"docker","compose.stage.yaml":"docker","compose.staging.yaml":"docker","compose.dev.yaml":"docker","compose.development.yaml":"docker","compose.local.yaml":"docker","compose.test.yaml":"docker","compose.testing.yaml":"docker","compose.ci.yaml":"docker","compose.web.yaml":"docker","compose.worker.yaml":"docker","compose.yml":"docker","compose.override.yml":"docker","compose.prod.yml":"docker","compose.production.yml":"docker","compose.alpha.yml":"docker","compose.beta.yml":"docker","compose.stage.yml":"docker","compose.staging.yml":"docker","compose.dev.yml":"docker","compose.development.yml":"docker","compose.local.yml":"docker","compose.test.yml":"docker","compose.testing.yml":"docker","compose.ci.yml":"docker","compose.web.yml":"docker","compose.worker.yml":"docker",".mailmap":"email",".graphqlrc":"graphql",".graphqlrc.json":"graphql",".graphqlrc.jsonc":"graphql",".graphqlrc.json5":"graphql",".graphqlrc.yaml":"graphql",".graphqlrc.yml":"graphql",".graphqlrc.toml":"graphql",".graphqlrc.js":"graphql",".graphqlrc.mjs":"graphql",".graphqlrc.cjs":"graphql",".graphqlrc.ts":"graphql",".graphqlrc.mts":"graphql",".graphqlrc.cts":"graphql",".config/graphqlrc":"graphql",".config/graphqlrc.json":"graphql",".config/graphqlrc.jsonc":"graphql",".config/graphqlrc.json5":"graphql",".config/graphqlrc.yaml":"graphql",".config/graphqlrc.yml":"graphql",".config/graphqlrc.toml":"graphql",".config/graphqlrc.js":"graphql",".config/graphqlrc.mjs":"graphql",".config/graphqlrc.cjs":"graphql",".config/graphqlrc.ts":"graphql",".config/graphqlrc.mts":"graphql",".config/graphqlrc.cts":"graphql","graphql.config.json":"graphql","graphql.config.jsonc":"graphql","graphql.config.json5":"graphql","graphql.config.yaml":"graphql","graphql.config.yml":"graphql","graphql.config.toml":"graphql","graphql.config.js":"graphql","graphql.config.mjs":"graphql","graphql.config.cjs":"graphql","graphql.config.ts":"graphql","graphql.config.mts":"graphql","graphql.config.cts":"graphql",".graphqlconfig":"graphql",".git":"git",".gitignore":"git",".gitmessage":"git",".gitignore-global":"git",".gitignore_global":"git",".gitattributes":"git",".gitattributes-global":"git",".gitattributes_global":"git",".gitconfig":"git",".gitmodules":"git",".gitkeep":"git",".keep":"git",".gitpreserve":"git",".gitinclude":"git",".git-blame-ignore":"git",".git-blame-ignore-revs":"git",".git-for-windows-updater":"git","git-history":"git",".luacheckrc":"lua",".Rhistory":"r",".pubignore":"dart","cmakelists.txt":"cmake","cmakecache.txt":"cmake","semgrep.yml":"semgrep",".semgrepignore":"semgrep","vue.config.js":"vue-config","vue.config.ts":"vue-config","vetur.config.js":"vue-config","vetur.config.ts":"vue-config","volar.config.js":"vue-config","nuxt.config.js":"nuxt","nuxt.config.ts":"nuxt",".nuxtignore":"nuxt","security.md":"lock","security.txt":"lock",security:"lock","angular-cli.json":"angular",".angular-cli.json":"angular","angular.json":"angular","ng-package.json":"angular",".mjmlconfig":"mjml","vercel.json":"vercel",".vercelignore":"vercel","now.json":"vercel",".nowignore":"vercel","verdaccio.yml":"verdaccio","payload.config.js":"payload","payload.config.mjs":"payload","payload.config.ts":"payload","payload.config.mts":"payload","next.config.js":"next","next.config.mjs":"next","next.config.ts":"next","next.config.mts":"next","remix.config.js":"remix","remix.config.ts":"remix",artisan:"laravel",".vfl":"vfl",".kl":"kl",".postcssrc":"postcss",".postcssrc.json":"postcss",".postcssrc.jsonc":"postcss",".postcssrc.json5":"postcss",".postcssrc.yaml":"postcss",".postcssrc.yml":"postcss",".postcssrc.toml":"postcss",".postcssrc.js":"postcss",".postcssrc.mjs":"postcss",".postcssrc.cjs":"postcss",".postcssrc.ts":"postcss",".postcssrc.mts":"postcss",".postcssrc.cts":"postcss",".config/postcssrc":"postcss",".config/postcssrc.json":"postcss",".config/postcssrc.jsonc":"postcss",".config/postcssrc.json5":"postcss",".config/postcssrc.yaml":"postcss",".config/postcssrc.yml":"postcss",".config/postcssrc.toml":"postcss",".config/postcssrc.js":"postcss",".config/postcssrc.mjs":"postcss",".config/postcssrc.cjs":"postcss",".config/postcssrc.ts":"postcss",".config/postcssrc.mts":"postcss",".config/postcssrc.cts":"postcss","postcss.config.json":"postcss","postcss.config.jsonc":"postcss","postcss.config.json5":"postcss","postcss.config.yaml":"postcss","postcss.config.yml":"postcss","postcss.config.toml":"postcss","postcss.config.js":"postcss","postcss.config.mjs":"postcss","postcss.config.cjs":"postcss","postcss.config.ts":"postcss","postcss.config.mts":"postcss","postcss.config.cts":"postcss",".posthtmlrc":"posthtml",".posthtmlrc.json":"posthtml",".posthtmlrc.jsonc":"posthtml",".posthtmlrc.json5":"posthtml",".posthtmlrc.yaml":"posthtml",".posthtmlrc.yml":"posthtml",".posthtmlrc.toml":"posthtml",".posthtmlrc.js":"posthtml",".posthtmlrc.mjs":"posthtml",".posthtmlrc.cjs":"posthtml",".posthtmlrc.ts":"posthtml",".posthtmlrc.mts":"posthtml",".posthtmlrc.cts":"posthtml",".config/posthtmlrc":"posthtml",".config/posthtmlrc.json":"posthtml",".config/posthtmlrc.jsonc":"posthtml",".config/posthtmlrc.json5":"posthtml",".config/posthtmlrc.yaml":"posthtml",".config/posthtmlrc.yml":"posthtml",".config/posthtmlrc.toml":"posthtml",".config/posthtmlrc.js":"posthtml",".config/posthtmlrc.mjs":"posthtml",".config/posthtmlrc.cjs":"posthtml",".config/posthtmlrc.ts":"posthtml",".config/posthtmlrc.mts":"posthtml",".config/posthtmlrc.cts":"posthtml","posthtml.config.json":"posthtml","posthtml.config.jsonc":"posthtml","posthtml.config.json5":"posthtml","posthtml.config.yaml":"posthtml","posthtml.config.yml":"posthtml","posthtml.config.toml":"posthtml","posthtml.config.js":"posthtml","posthtml.config.mjs":"posthtml","posthtml.config.cjs":"posthtml","posthtml.config.ts":"posthtml","posthtml.config.mts":"posthtml","posthtml.config.cts":"posthtml","todo.md":"todo","todos.md":"todo","cabal.project":"cabal","cabal.project.freeze":"cabal","cabal.project.local":"cabal",CNAME:"http","project.graphcool":"graphcool","webpack.base.js":"webpack","webpack.base.mjs":"webpack","webpack.base.cjs":"webpack","webpack.base.ts":"webpack","webpack.base.mts":"webpack","webpack.base.cts":"webpack","webpack.client.js":"webpack","webpack.client.mjs":"webpack","webpack.client.cjs":"webpack","webpack.client.ts":"webpack","webpack.client.mts":"webpack","webpack.client.cts":"webpack","webpack.common.js":"webpack","webpack.common.mjs":"webpack","webpack.common.cjs":"webpack","webpack.common.ts":"webpack","webpack.common.mts":"webpack","webpack.common.cts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.mjs":"webpack","webpack.config.babel.cjs":"webpack","webpack.config.babel.ts":"webpack","webpack.config.babel.mts":"webpack","webpack.config.babel.cts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.mjs":"webpack","webpack.config.base.babel.cjs":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.babel.mts":"webpack","webpack.config.base.babel.cts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.mjs":"webpack","webpack.config.base.cjs":"webpack","webpack.config.base.ts":"webpack","webpack.config.base.mts":"webpack","webpack.config.base.cts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.mjs":"webpack","webpack.config.client.cjs":"webpack","webpack.config.client.ts":"webpack","webpack.config.client.mts":"webpack","webpack.config.client.cts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.mjs":"webpack","webpack.config.common.babel.cjs":"webpack","webpack.config.common.babel.ts":"webpack","webpack.config.common.babel.mts":"webpack","webpack.config.common.babel.cts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.mjs":"webpack","webpack.config.common.cjs":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.mts":"webpack","webpack.config.common.cts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.mjs":"webpack","webpack.config.dev.babel.cjs":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.config.dev.babel.mts":"webpack","webpack.config.dev.babel.cts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.mjs":"webpack","webpack.config.dev.cjs":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.mts":"webpack","webpack.config.dev.cts":"webpack","webpack.config.main.js":"webpack","webpack.config.main.mjs":"webpack","webpack.config.main.cjs":"webpack","webpack.config.main.ts":"webpack","webpack.config.main.mts":"webpack","webpack.config.main.cts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.mjs":"webpack","webpack.config.prod.babel.cjs":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.babel.mts":"webpack","webpack.config.prod.babel.cts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.mjs":"webpack","webpack.config.prod.cjs":"webpack","webpack.config.prod.ts":"webpack","webpack.config.prod.mts":"webpack","webpack.config.prod.cts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.mjs":"webpack","webpack.config.production.babel.cjs":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.production.babel.mts":"webpack","webpack.config.production.babel.cts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.mjs":"webpack","webpack.config.production.cjs":"webpack","webpack.config.production.ts":"webpack","webpack.config.production.mts":"webpack","webpack.config.production.cts":"webpack","webpack.config.renderer.js":"webpack","webpack.config.renderer.mjs":"webpack","webpack.config.renderer.cjs":"webpack","webpack.config.renderer.ts":"webpack","webpack.config.renderer.mts":"webpack","webpack.config.renderer.cts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.mjs":"webpack","webpack.config.server.cjs":"webpack","webpack.config.server.ts":"webpack","webpack.config.server.mts":"webpack","webpack.config.server.cts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.mjs":"webpack","webpack.config.staging.babel.cjs":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.staging.babel.mts":"webpack","webpack.config.staging.babel.cts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.mjs":"webpack","webpack.config.staging.cjs":"webpack","webpack.config.staging.ts":"webpack","webpack.config.staging.mts":"webpack","webpack.config.staging.cts":"webpack","webpack.config.test.js":"webpack","webpack.config.test.mjs":"webpack","webpack.config.test.cjs":"webpack","webpack.config.test.ts":"webpack","webpack.config.test.mts":"webpack","webpack.config.test.cts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.mjs":"webpack","webpack.config.vendor.production.cjs":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.config.vendor.production.mts":"webpack","webpack.config.vendor.production.cts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.mjs":"webpack","webpack.config.vendor.cjs":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.mts":"webpack","webpack.config.vendor.cts":"webpack","webpack.config.js":"webpack","webpack.config.mjs":"webpack","webpack.config.cjs":"webpack","webpack.config.ts":"webpack","webpack.config.mts":"webpack","webpack.config.cts":"webpack","webpack.dev.js":"webpack","webpack.dev.mjs":"webpack","webpack.dev.cjs":"webpack","webpack.dev.ts":"webpack","webpack.dev.mts":"webpack","webpack.dev.cts":"webpack","webpack.development.js":"webpack","webpack.development.mjs":"webpack","webpack.development.cjs":"webpack","webpack.development.ts":"webpack","webpack.development.mts":"webpack","webpack.development.cts":"webpack","webpack.dist.js":"webpack","webpack.dist.mjs":"webpack","webpack.dist.cjs":"webpack","webpack.dist.ts":"webpack","webpack.dist.mts":"webpack","webpack.dist.cts":"webpack","webpack.mix.js":"webpack","webpack.mix.mjs":"webpack","webpack.mix.cjs":"webpack","webpack.mix.ts":"webpack","webpack.mix.mts":"webpack","webpack.mix.cts":"webpack","webpack.prod.config.js":"webpack","webpack.prod.config.mjs":"webpack","webpack.prod.config.cjs":"webpack","webpack.prod.config.ts":"webpack","webpack.prod.config.mts":"webpack","webpack.prod.config.cts":"webpack","webpack.prod.js":"webpack","webpack.prod.mjs":"webpack","webpack.prod.cjs":"webpack","webpack.prod.ts":"webpack","webpack.prod.mts":"webpack","webpack.prod.cts":"webpack","webpack.production.js":"webpack","webpack.production.mjs":"webpack","webpack.production.cjs":"webpack","webpack.production.ts":"webpack","webpack.production.mts":"webpack","webpack.production.cts":"webpack","webpack.server.js":"webpack","webpack.server.mjs":"webpack","webpack.server.cjs":"webpack","webpack.server.ts":"webpack","webpack.server.mts":"webpack","webpack.server.cts":"webpack","webpack.test.js":"webpack","webpack.test.mjs":"webpack","webpack.test.cjs":"webpack","webpack.test.ts":"webpack","webpack.test.mts":"webpack","webpack.test.cts":"webpack","webpack.js":"webpack","webpack.mjs":"webpack","webpack.cjs":"webpack","webpack.ts":"webpack","webpack.mts":"webpack","webpack.cts":"webpack","webpackfile.js":"webpack","webpackfile.mjs":"webpack","webpackfile.cjs":"webpack","webpackfile.ts":"webpack","webpackfile.mts":"webpack","webpackfile.cts":"webpack","webpack.config.coffee":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.mjs":"gulp","gulpfile.ts":"gulp","gulpfile.cts":"gulp","gulpfile.mts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".esmrc":"nodejs",".node-version":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn",".yarnrc.yml":"yarn",".yarnrc.yaml":"yarn","androidmanifest.xml":"android",".env.defaults":"tune",".env.example":"tune",".env.sample":"tune",".env.template":"tune",".env.schema":"tune",".env.local":"tune",".env.dev":"tune",".env.development":"tune",".env.alpha":"tune",".env.e2e":"tune",".env.qa":"tune",".env.dist":"tune",".env.prod":"tune",".env.production":"tune",".env.stage":"tune",".env.staging":"tune",".env.preview":"tune",".env.test":"tune",".env.testing":"tune",".env.development.local":"tune",".env.qa.local":"tune",".env.production.local":"tune",".env.staging.local":"tune",".env.test.local":"tune",".env.uat":"tune","turbo.json":"turborepo",".babelrc":"babel",".babelrc.json":"babel",".babelrc.jsonc":"babel",".babelrc.json5":"babel",".babelrc.yaml":"babel",".babelrc.yml":"babel",".babelrc.toml":"babel",".babelrc.js":"babel",".babelrc.mjs":"babel",".babelrc.cjs":"babel",".babelrc.ts":"babel",".babelrc.mts":"babel",".babelrc.cts":"babel",".config/babelrc":"babel",".config/babelrc.json":"babel",".config/babelrc.jsonc":"babel",".config/babelrc.json5":"babel",".config/babelrc.yaml":"babel",".config/babelrc.yml":"babel",".config/babelrc.toml":"babel",".config/babelrc.js":"babel",".config/babelrc.mjs":"babel",".config/babelrc.cjs":"babel",".config/babelrc.ts":"babel",".config/babelrc.mts":"babel",".config/babelrc.cts":"babel","babel.config.json":"babel","babel.config.jsonc":"babel","babel.config.json5":"babel","babel.config.yaml":"babel","babel.config.yml":"babel","babel.config.toml":"babel","babel.config.js":"babel","babel.config.mjs":"babel","babel.config.cjs":"babel","babel.config.ts":"babel","babel.config.mts":"babel","babel.config.cts":"babel",".babel-plugin-macrosrc":"babel",".babel-plugin-macrosrc.json":"babel",".babel-plugin-macrosrc.jsonc":"babel",".babel-plugin-macrosrc.json5":"babel",".babel-plugin-macrosrc.yaml":"babel",".babel-plugin-macrosrc.yml":"babel",".babel-plugin-macrosrc.toml":"babel",".babel-plugin-macrosrc.js":"babel",".babel-plugin-macrosrc.mjs":"babel",".babel-plugin-macrosrc.cjs":"babel",".babel-plugin-macrosrc.ts":"babel",".babel-plugin-macrosrc.mts":"babel",".babel-plugin-macrosrc.cts":"babel",".config/babel-plugin-macrosrc":"babel",".config/babel-plugin-macrosrc.json":"babel",".config/babel-plugin-macrosrc.jsonc":"babel",".config/babel-plugin-macrosrc.json5":"babel",".config/babel-plugin-macrosrc.yaml":"babel",".config/babel-plugin-macrosrc.yml":"babel",".config/babel-plugin-macrosrc.toml":"babel",".config/babel-plugin-macrosrc.js":"babel",".config/babel-plugin-macrosrc.mjs":"babel",".config/babel-plugin-macrosrc.cjs":"babel",".config/babel-plugin-macrosrc.ts":"babel",".config/babel-plugin-macrosrc.mts":"babel",".config/babel-plugin-macrosrc.cts":"babel","babel-plugin-macros.config.json":"babel","babel-plugin-macros.config.jsonc":"babel","babel-plugin-macros.config.json5":"babel","babel-plugin-macros.config.yaml":"babel","babel-plugin-macros.config.yml":"babel","babel-plugin-macros.config.toml":"babel","babel-plugin-macros.config.js":"babel","babel-plugin-macros.config.mjs":"babel","babel-plugin-macros.config.cjs":"babel","babel-plugin-macros.config.ts":"babel","babel-plugin-macros.config.mts":"babel","babel-plugin-macros.config.cts":"babel","babel-transform.js":"babel","blitz.config.js":"blitz","blitz.config.ts":"blitz",".blitz.config.compiled.js":"blitz","contributing.md":"contributing","contributing.rst":"contributing","contributing.txt":"contributing",contributing:"contributing","readme.md":"readme","readme.rst":"readme","readme.txt":"readme",readme:"readme",changelog:"changelog","changelog.md":"changelog","changelog.rst":"changelog","changelog.txt":"changelog",changes:"changelog","changes.md":"changelog","changes.rst":"changelog","changes.txt":"changelog","architecture.md":"architecture","architecture.rst":"architecture","architecture.txt":"architecture",architecture:"architecture","credits.md":"credits","credits.rst":"credits","credits.txt":"credits",credits:"credits","authors.md":"authors","authors.rst":"authors","authors.txt":"authors",authors:"authors","contributors.md":"authors","contributors.rst":"authors","contributors.txt":"authors",contributors:"authors",".flowconfig":"flow","favicon.ico":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","svgo.config.js":"svgo","svgo.config.cjs":"svgo","svgo.config.mjs":"svgo",".appveyor.yml":"appveyor","appveyor.yml":"appveyor",".travis.yml":"travis",".codecov.yml":"codecov","codecov.yml":"codecov","sonar-project.properties":"sonarcloud",".sonarcloud.properties":"sonarcloud","sonarcloud.yaml":"sonarcloud","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku","procfile.windows":"heroku",".editorconfig":"editorconfig",".bowerrc":"bower","bower.json":"bower",".eslintrc":"eslint",".eslintrc.json":"eslint",".eslintrc.jsonc":"eslint",".eslintrc.json5":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.toml":"eslint",".eslintrc.js":"eslint",".eslintrc.mjs":"eslint",".eslintrc.cjs":"eslint",".eslintrc.ts":"eslint",".eslintrc.mts":"eslint",".eslintrc.cts":"eslint",".config/eslintrc":"eslint",".config/eslintrc.json":"eslint",".config/eslintrc.jsonc":"eslint",".config/eslintrc.json5":"eslint",".config/eslintrc.yaml":"eslint",".config/eslintrc.yml":"eslint",".config/eslintrc.toml":"eslint",".config/eslintrc.js":"eslint",".config/eslintrc.mjs":"eslint",".config/eslintrc.cjs":"eslint",".config/eslintrc.ts":"eslint",".config/eslintrc.mts":"eslint",".config/eslintrc.cts":"eslint","eslint.config.json":"eslint","eslint.config.jsonc":"eslint","eslint.config.json5":"eslint","eslint.config.yaml":"eslint","eslint.config.yml":"eslint","eslint.config.toml":"eslint","eslint.config.js":"eslint","eslint.config.mjs":"eslint","eslint.config.cjs":"eslint","eslint.config.ts":"eslint","eslint.config.mts":"eslint","eslint.config.cts":"eslint",".eslintrc-md.js":"eslint",".eslintrc-jsdoc.js":"eslint",".eslintignore":"eslint",".eslintcache":"eslint",".eslintrc.base.json":"eslint","code_of_conduct.md":"conduct","code_of_conduct.txt":"conduct",code_of_conduct:"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia",".autorc":"auto","auto.config.js":"auto","auto.config.ts":"auto","auto-config.json":"auto","auto-config.yaml":"auto","auto-config.yml":"auto","auto-config.ts":"auto","auto-config.js":"auto","mocha.opts":"mocha",".mocharc.yml":"mocha",".mocharc.yaml":"mocha",".mocharc.js":"mocha",".mocharc.json":"mocha",".mocharc.jsonc":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase","firestore.rules":"firebase","firestore.indexes.json":"firebase","rollup.config.js":"rollup","rollup.config.mjs":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.mjs":"rollup","rollup-config.ts":"rollup","rollup.config.common.js":"rollup","rollup.config.common.mjs":"rollup","rollup.config.common.ts":"rollup","rollup.config.base.js":"rollup","rollup.config.base.mjs":"rollup","rollup.config.base.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.mjs":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.mjs":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.mjs":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack","hardhat.config.js":"hardhat","hardhat.config.ts":"hardhat",".stylelintrc":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.jsonc":"stylelint",".stylelintrc.json5":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.toml":"stylelint",".stylelintrc.js":"stylelint",".stylelintrc.mjs":"stylelint",".stylelintrc.cjs":"stylelint",".stylelintrc.ts":"stylelint",".stylelintrc.mts":"stylelint",".stylelintrc.cts":"stylelint",".config/stylelintrc":"stylelint",".config/stylelintrc.json":"stylelint",".config/stylelintrc.jsonc":"stylelint",".config/stylelintrc.json5":"stylelint",".config/stylelintrc.yaml":"stylelint",".config/stylelintrc.yml":"stylelint",".config/stylelintrc.toml":"stylelint",".config/stylelintrc.js":"stylelint",".config/stylelintrc.mjs":"stylelint",".config/stylelintrc.cjs":"stylelint",".config/stylelintrc.ts":"stylelint",".config/stylelintrc.mts":"stylelint",".config/stylelintrc.cts":"stylelint","stylelint.config.json":"stylelint","stylelint.config.jsonc":"stylelint","stylelint.config.json5":"stylelint","stylelint.config.yaml":"stylelint","stylelint.config.yml":"stylelint","stylelint.config.toml":"stylelint","stylelint.config.js":"stylelint","stylelint.config.mjs":"stylelint","stylelint.config.cjs":"stylelint","stylelint.config.ts":"stylelint","stylelint.config.mts":"stylelint","stylelint.config.cts":"stylelint",".stylelintignore":"stylelint",".stylelintcache":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier",".prettierrc.json":"prettier",".prettierrc.jsonc":"prettier",".prettierrc.json5":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierrc.toml":"prettier",".prettierrc.js":"prettier",".prettierrc.mjs":"prettier",".prettierrc.cjs":"prettier",".prettierrc.ts":"prettier",".prettierrc.mts":"prettier",".prettierrc.cts":"prettier",".config/prettierrc":"prettier",".config/prettierrc.json":"prettier",".config/prettierrc.jsonc":"prettier",".config/prettierrc.json5":"prettier",".config/prettierrc.yaml":"prettier",".config/prettierrc.yml":"prettier",".config/prettierrc.toml":"prettier",".config/prettierrc.js":"prettier",".config/prettierrc.mjs":"prettier",".config/prettierrc.cjs":"prettier",".config/prettierrc.ts":"prettier",".config/prettierrc.mts":"prettier",".config/prettierrc.cts":"prettier","prettier.config.json":"prettier","prettier.config.jsonc":"prettier","prettier.config.json5":"prettier","prettier.config.yaml":"prettier","prettier.config.yml":"prettier","prettier.config.toml":"prettier","prettier.config.js":"prettier","prettier.config.mjs":"prettier","prettier.config.cjs":"prettier","prettier.config.ts":"prettier","prettier.config.mts":"prettier","prettier.config.cts":"prettier",".prettierignore":"prettier",".renovaterc":"renovate",".renovaterc.json":"renovate","renovate-config.json":"renovate","renovate.json":"renovate","renovate.json5":"renovate","apollo.config.js":"apollo","nodemon.json":"nodemon","nodemon-debug.json":"nodemon",".hintrc":"webhint",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone",".sequelizerc":"sequelize","gatsby-config.js":"gatsby","gatsby-config.mjs":"gatsby","gatsby-config.ts":"gatsby","gatsby-node.js":"gatsby","gatsby-node.mjs":"gatsby","gatsby-node.ts":"gatsby","gatsby-browser.js":"gatsby","gatsby-browser.tsx":"gatsby","gatsby-ssr.js":"gatsby","gatsby-ssr.tsx":"gatsby",".wakatime-project":"wakatime","circle.yml":"circleci",".cfignore":"cloudfoundry","gruntfile.js":"grunt","gruntfile.ts":"grunt","gruntfile.cjs":"grunt","gruntfile.cts":"grunt","gruntfile.coffee":"grunt","gruntfile.babel.js":"grunt","gruntfile.babel.ts":"grunt","gruntfile.babel.coffee":"grunt","jest.config.js":"jest","jest.config.cjs":"jest","jest.config.mjs":"jest","jest.config.ts":"jest","jest.config.cts":"jest","jest.config.mts":"jest","jest.config.json":"jest","jest.e2e.config.js":"jest","jest.e2e.config.cjs":"jest","jest.e2e.config.mjs":"jest","jest.e2e.config.ts":"jest","jest.e2e.config.cts":"jest","jest.e2e.config.mts":"jest","jest.e2e.config.json":"jest","jest.e2e.json":"jest","jest-unit.config.js":"jest","jest-e2e.config.js":"jest","jest-e2e.config.cjs":"jest","jest-e2e.config.mjs":"jest","jest-e2e.config.ts":"jest","jest-e2e.config.cts":"jest","jest-e2e.config.mts":"jest","jest-e2e.config.json":"jest","jest-e2e.json":"jest","jest-github-actions-reporter.js":"jest","jest.setup.js":"jest","jest.setup.ts":"jest","jest.json":"jest",".jestrc":"jest",".jestrc.js":"jest",".jestrc.json":"jest","jest.teardown.js":"jest","jest-preset.json":"jest","jest-preset.js":"jest","jest-preset.cjs":"jest","jest-preset.mjs":"jest","jest.preset.js":"jest","jest.preset.mjs":"jest","jest.preset.cjs":"jest","jest.preset.json":"jest",fastfile:"fastlane",appfile:"fastlane",".helmignore":"helm","wallaby.js":"wallaby","wallaby.conf.js":"wallaby","stencil.config.js":"stencil","stencil.config.ts":"stencil",makefile:"makefile",gnumakefile:"makefile",kbuild:"makefile",".releaserc":"semantic-release",".releaserc.json":"semantic-release",".releaserc.jsonc":"semantic-release",".releaserc.json5":"semantic-release",".releaserc.yaml":"semantic-release",".releaserc.yml":"semantic-release",".releaserc.toml":"semantic-release",".releaserc.js":"semantic-release",".releaserc.mjs":"semantic-release",".releaserc.cjs":"semantic-release",".releaserc.ts":"semantic-release",".releaserc.mts":"semantic-release",".releaserc.cts":"semantic-release",".config/releaserc":"semantic-release",".config/releaserc.json":"semantic-release",".config/releaserc.jsonc":"semantic-release",".config/releaserc.json5":"semantic-release",".config/releaserc.yaml":"semantic-release",".config/releaserc.yml":"semantic-release",".config/releaserc.toml":"semantic-release",".config/releaserc.js":"semantic-release",".config/releaserc.mjs":"semantic-release",".config/releaserc.cjs":"semantic-release",".config/releaserc.ts":"semantic-release",".config/releaserc.mts":"semantic-release",".config/releaserc.cts":"semantic-release","release.config.json":"semantic-release","release.config.jsonc":"semantic-release","release.config.json5":"semantic-release","release.config.yaml":"semantic-release","release.config.yml":"semantic-release","release.config.toml":"semantic-release","release.config.js":"semantic-release","release.config.mjs":"semantic-release","release.config.cjs":"semantic-release","release.config.ts":"semantic-release","release.config.mts":"semantic-release","release.config.cts":"semantic-release","bitbucket-pipelines.yaml":"bitbucket","bitbucket-pipelines.yml":"bitbucket",".bazelignore":"bazel",".bazelrc":"bazel",".bazelversion":"bazel",".gdignore":"godot-assets","._sc_":"godot-assets",_sc_:"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines",vagrantfile:"vagrant","prisma.yml":"prisma",".nycrc":"istanbul",".nycrc.json":"istanbul",".nycrc.yaml":"istanbul",".nycrc.yml":"istanbul","nyc.config.js":"istanbul",".istanbul.yml":"istanbul","tailwind.js":"tailwindcss","tailwind.ts":"tailwindcss","tailwind.config.js":"tailwindcss","tailwind.config.cjs":"tailwindcss","tailwind.config.mjs":"tailwindcss","tailwind.config.ts":"tailwindcss","tailwind.config.cts":"tailwindcss","tailwind.config.mts":"tailwindcss","buildkite.yml":"buildkite","buildkite.yaml":"buildkite","netlify.json":"netlify","netlify.yml":"netlify","netlify.yaml":"netlify","netlify.toml":"netlify","svelte.config.js":"svelte","svelte.config.cjs":"svelte","nest-cli.json":"nest",".nest-cli.json":"nest","nestconfig.json":"nest",".nestconfig.json":"nest","moon.yml":"moon",".percy.yml":"percy",".gitpod.yml":"gitpod",codeowners:"codeowners",OWNERS:"codeowners",".gcloudignore":"gcp",".huskyrc":"husky",".huskyrc.json":"husky",".huskyrc.jsonc":"husky",".huskyrc.json5":"husky",".huskyrc.yaml":"husky",".huskyrc.yml":"husky",".huskyrc.toml":"husky",".huskyrc.js":"husky",".huskyrc.mjs":"husky",".huskyrc.cjs":"husky",".huskyrc.ts":"husky",".huskyrc.mts":"husky",".huskyrc.cts":"husky",".config/huskyrc":"husky",".config/huskyrc.json":"husky",".config/huskyrc.jsonc":"husky",".config/huskyrc.json5":"husky",".config/huskyrc.yaml":"husky",".config/huskyrc.yml":"husky",".config/huskyrc.toml":"husky",".config/huskyrc.js":"husky",".config/huskyrc.mjs":"husky",".config/huskyrc.cjs":"husky",".config/huskyrc.ts":"husky",".config/huskyrc.mts":"husky",".config/huskyrc.cts":"husky","husky.config.json":"husky","husky.config.jsonc":"husky","husky.config.json5":"husky","husky.config.yaml":"husky","husky.config.yml":"husky","husky.config.toml":"husky","husky.config.js":"husky","husky.config.mjs":"husky","husky.config.cjs":"husky","husky.config.ts":"husky","husky.config.mts":"husky","husky.config.cts":"husky",tiltfile:"tilt","capacitor.config.json":"capacitor","capacitor.config.ts":"capacitor",".adonisrc.json":"adonis",ace:"adonis","meson.build":"meson","meson_options.txt":"meson",".commitlintrc":"commitlint",".commitlintrc.json":"commitlint",".commitlintrc.jsonc":"commitlint",".commitlintrc.json5":"commitlint",".commitlintrc.yaml":"commitlint",".commitlintrc.yml":"commitlint",".commitlintrc.toml":"commitlint",".commitlintrc.js":"commitlint",".commitlintrc.mjs":"commitlint",".commitlintrc.cjs":"commitlint",".commitlintrc.ts":"commitlint",".commitlintrc.mts":"commitlint",".commitlintrc.cts":"commitlint",".config/commitlintrc":"commitlint",".config/commitlintrc.json":"commitlint",".config/commitlintrc.jsonc":"commitlint",".config/commitlintrc.json5":"commitlint",".config/commitlintrc.yaml":"commitlint",".config/commitlintrc.yml":"commitlint",".config/commitlintrc.toml":"commitlint",".config/commitlintrc.js":"commitlint",".config/commitlintrc.mjs":"commitlint",".config/commitlintrc.cjs":"commitlint",".config/commitlintrc.ts":"commitlint",".config/commitlintrc.mts":"commitlint",".config/commitlintrc.cts":"commitlint","commitlint.config.json":"commitlint","commitlint.config.jsonc":"commitlint","commitlint.config.json5":"commitlint","commitlint.config.yaml":"commitlint","commitlint.config.yml":"commitlint","commitlint.config.toml":"commitlint","commitlint.config.js":"commitlint","commitlint.config.mjs":"commitlint","commitlint.config.cjs":"commitlint","commitlint.config.ts":"commitlint","commitlint.config.mts":"commitlint","commitlint.config.cts":"commitlint",".commitlint.yaml":"commitlint",".commitlint.yml":"commitlint",".buckconfig":"buck","nx.json":"nx",".nxignore":"nx",dune:"dune","dune-project":"dune","dune-workspace":"dune","dune-workspace.dev":"dune","roadmap.md":"roadmap","roadmap.txt":"roadmap","timeline.md":"roadmap","timeline.txt":"roadmap","milestones.md":"roadmap","milestones.txt":"roadmap","nuget.config":"nuget",".nuspec":"nuget","nuget.exe":"nuget","stryker.conf.json":"stryker","stryker.conf.js":"stryker","stryker.conf.cjs":"stryker","stryker.conf.mjs":"stryker",".stryker.conf.json":"stryker",".stryker.conf.js":"stryker",".stryker.conf.cjs":"stryker",".stryker.conf.mjs":"stryker",".modernizrrc":"modernizr",".modernizrrc.js":"modernizr",".modernizrrc.json":"modernizr",".slugignore":"slug","stitches.config.js":"stitches","stitches.config.ts":"stitches","nginx.conf":"nginx",".mcattributes":"minecraft",".mcdefinitions":"minecraft",".mcignore":"minecraft",".replit":"replit","snowpack.config.js":"snowpack","snowpack.config.cjs":"snowpack","snowpack.config.mjs":"snowpack","snowpack.config.ts":"snowpack","snowpack.config.cts":"snowpack","snowpack.config.mts":"snowpack","snowpack.deps.json":"snowpack","snowpack.config.json":"snowpack","quasar.conf.js":"quasar","quasar.config.js":"quasar","dependabot.yml":"dependabot","dependabot.yaml":"dependabot","vite.config.js":"vite","vite.config.mjs":"vite","vite.config.cjs":"vite","vite.config.ts":"vite","vite.config.cts":"vite","vite.config.mts":"vite","vitest.config.ts":"vitest","vitest.config.mts":"vitest","vitest.config.cts":"vitest","vitest.config.js":"vitest","vitest.config.mjs":"vitest","vitest.config.cjs":"vitest","vitest.workspace.ts":"vitest","vitest.workspace.mts":"vitest","vitest.workspace.cts":"vitest","vitest.workspace.js":"vitest","vitest.workspace.mjs":"vitest","vitest.workspace.cjs":"vitest","lerna.json":"lerna","windi.config.js":"windicss","windi.config.cjs":"windicss","windi.config.ts":"windicss","windi.config.cts":"windicss","windi.config.json":"windicss",".textlintrc":"textlint",".textlintrc.js":"textlint",".textlintrc.json":"textlint",".textlintrc.yml":"textlint",".textlintrc.yaml":"textlint","vpkg.json":"vlang","v.mod":"vlang",".sentryclirc":"sentry",".phpunit.result.cache":"phpunit",".phpunit-watcher.yml":"phpunit","phpunit.xml":"phpunit","phpunit.xml.dist":"phpunit","phpunit-watcher.yml":"phpunit","phpunit-watcher.yml.dist":"phpunit",".php_cs":"php-cs-fixer",".php_cs.dist":"php-cs-fixer",".php_cs.php":"php-cs-fixer",".php_cs.dist.php":"php-cs-fixer",".php-cs-fixer.php":"php-cs-fixer",".php-cs-fixer.dist.php":"php-cs-fixer","robots.txt":"robots","tsconfig.json":"tsconfig","tsconfig.app.json":"tsconfig","tsconfig.editor.json":"tsconfig","tsconfig.spec.json":"tsconfig","tsconfig.base.json":"tsconfig","tsconfig.build.json":"tsconfig","tsconfig.eslint.json":"tsconfig","tsconfig.lib.json":"tsconfig","tsconfig.lib.prod.json":"tsconfig","tsconfig.node.json":"tsconfig","tsconfig.test.json":"tsconfig","tsconfig.e2e.json":"tsconfig","tsconfig.web.json":"tsconfig","tsconfig.webworker.json":"tsconfig","tsconfig.worker.json":"tsconfig","tsconfig.config.json":"tsconfig","tsconfig.vitest.json":"tsconfig","tsconfig.cjs.json":"tsconfig","tsconfig.esm.json":"tsconfig","tsconfig.mjs.json":"tsconfig","tsconfig.doc.json":"tsconfig","tsconfig.paths.json":"tsconfig","tsconfig.main.json":"tsconfig","tsconfig.renderer.json":"tsconfig","tsconfig.server.json":"tsconfig","tauri.conf.json":"tauri","tauri.config.json":"tauri","tauri.linux.conf.json":"tauri","tauri.windows.conf.json":"tauri","tauri.macos.conf.json":"tauri",".taurignore":"tauri","jsconfig.json":"jsconfig","maven.config":"maven","jvm.config":"maven","pom.xml":"maven","serverless.yml":"serverless","serverless.yaml":"serverless","serverless.json":"serverless","serverless.js":"serverless","serverless.ts":"serverless","supabase.js":"supabase","supabase.py":"supabase",".ember-cli":"ember",".ember-cli.js":"ember","ember-cli-builds.js":"ember","horusec-config.json":"horusec","poetry.lock":"poetry","pdm.lock":"pdm","pdm.toml":"pdm",".pdm-python":"pdm",".parcelrc":"parcel",".astylerc":"astyle",".lighthouserc.js":"lighthouse","lighthouserc.js":"lighthouse",".lighthouserc.cjs":"lighthouse","lighthouserc.cjs":"lighthouse",".lighthouserc.json":"lighthouse","lighthouserc.json":"lighthouse",".lighthouserc.yml":"lighthouse","lighthouserc.yml":"lighthouse",".lighthouserc.yaml":"lighthouse","lighthouserc.yaml":"lighthouse",".svgrrc":"svgr",".svgrrc.json":"svgr",".svgrrc.jsonc":"svgr",".svgrrc.json5":"svgr",".svgrrc.yaml":"svgr",".svgrrc.yml":"svgr",".svgrrc.toml":"svgr",".svgrrc.js":"svgr",".svgrrc.mjs":"svgr",".svgrrc.cjs":"svgr",".svgrrc.ts":"svgr",".svgrrc.mts":"svgr",".svgrrc.cts":"svgr",".config/svgrrc":"svgr",".config/svgrrc.json":"svgr",".config/svgrrc.jsonc":"svgr",".config/svgrrc.json5":"svgr",".config/svgrrc.yaml":"svgr",".config/svgrrc.yml":"svgr",".config/svgrrc.toml":"svgr",".config/svgrrc.js":"svgr",".config/svgrrc.mjs":"svgr",".config/svgrrc.cjs":"svgr",".config/svgrrc.ts":"svgr",".config/svgrrc.mts":"svgr",".config/svgrrc.cts":"svgr","svgr.config.json":"svgr","svgr.config.jsonc":"svgr","svgr.config.json5":"svgr","svgr.config.yaml":"svgr","svgr.config.yml":"svgr","svgr.config.toml":"svgr","svgr.config.js":"svgr","svgr.config.mjs":"svgr","svgr.config.cjs":"svgr","svgr.config.ts":"svgr","svgr.config.mts":"svgr","svgr.config.cts":"svgr","rome.json":"rome","cypress.json":"cypress","cypress.env.json":"cypress","cypress.config.ts":"cypress","cypress.config.js":"cypress","cypress.config.cjs":"cypress","cypress.config.mjs":"cypress","plopfile.js":"plop","plopfile.cjs":"plop","plopfile.mjs":"plop","plopfile.ts":"plop",".tobimake":"tobimake","gleam.toml":"gleam","pnpm-lock.yaml":"pnpm","pnpm-workspace.yaml":"pnpm",".pnpmfile.cjs":"pnpm","gridsome.config.js":"gridsome","gridsome.server.js":"gridsome",".steadybit.yml":"steadybit","steadybit.yml":"steadybit",".steadybit.yaml":"steadybit","steadybit.yaml":"steadybit",Caddyfile:"caddy","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger","bun.lockb":"bun","bunfig.toml":"bun",".nano-staged.js":"nano-staged","nano-staged.js":"nano-staged",".nano-staged.cjs":"nano-staged","nano-staged.cjs":"nano-staged",".nano-staged.mjs":"nano-staged","nano-staged.mjs":"nano-staged",".nano-staged.json":"nano-staged","nano-staged.json":"nano-staged",".nanostagedrc":"nano-staged","knip.json":"knip","knip.jsonc":"knip",".knip.json":"knip",".knip.jsonc":"knip","knip.ts":"knip","knip.js":"knip","knip.config.ts":"knip","knip.config.js":"knip","taskfile.yml":"taskfile","taskfile.yaml":"taskfile","taskfile.dist.yml":"taskfile","taskfile.dist.yaml":"taskfile",".cracorc":"craco",".cracorc.json":"craco",".cracorc.jsonc":"craco",".cracorc.json5":"craco",".cracorc.yaml":"craco",".cracorc.yml":"craco",".cracorc.toml":"craco",".cracorc.js":"craco",".cracorc.mjs":"craco",".cracorc.cjs":"craco",".cracorc.ts":"craco",".cracorc.mts":"craco",".cracorc.cts":"craco",".config/cracorc":"craco",".config/cracorc.json":"craco",".config/cracorc.jsonc":"craco",".config/cracorc.json5":"craco",".config/cracorc.yaml":"craco",".config/cracorc.yml":"craco",".config/cracorc.toml":"craco",".config/cracorc.js":"craco",".config/cracorc.mjs":"craco",".config/cracorc.cjs":"craco",".config/cracorc.ts":"craco",".config/cracorc.mts":"craco",".config/cracorc.cts":"craco","craco.config.json":"craco","craco.config.jsonc":"craco","craco.config.json5":"craco","craco.config.yaml":"craco","craco.config.yml":"craco","craco.config.toml":"craco","craco.config.js":"craco","craco.config.mjs":"craco","craco.config.cjs":"craco","craco.config.ts":"craco","craco.config.mts":"craco","craco.config.cts":"craco",".hg":"mercurial",".hgignore":"mercurial",".hgflow":"mercurial",".hgrc":"mercurial",hgrc:"mercurial","mercurial.ini":"mercurial","deno.json":"deno","deno.jsonc":"deno","deno.lock":"deno","plastic.branchexplorer":"plastic","plastic.selector":"plastic","plastic.wktree":"plastic","plastic.workspace":"plastic","plastic.workspaces":"plastic","uno.config.js":"unocss","uno.config.mjs":"unocss","uno.config.ts":"unocss","uno.config.mts":"unocss","unocss.config.js":"unocss","unocss.config.mjs":"unocss","unocss.config.ts":"unocss","unocss.config.mts":"unocss",".mincloudrc":"ifanr-cloud","concourse.yml":"concourse",".syncpackrc":"syncpack",".syncpackrc.json":"syncpack",".syncpackrc.jsonc":"syncpack",".syncpackrc.json5":"syncpack",".syncpackrc.yaml":"syncpack",".syncpackrc.yml":"syncpack",".syncpackrc.toml":"syncpack",".syncpackrc.js":"syncpack",".syncpackrc.mjs":"syncpack",".syncpackrc.cjs":"syncpack",".syncpackrc.ts":"syncpack",".syncpackrc.mts":"syncpack",".syncpackrc.cts":"syncpack",".config/syncpackrc":"syncpack",".config/syncpackrc.json":"syncpack",".config/syncpackrc.jsonc":"syncpack",".config/syncpackrc.json5":"syncpack",".config/syncpackrc.yaml":"syncpack",".config/syncpackrc.yml":"syncpack",".config/syncpackrc.toml":"syncpack",".config/syncpackrc.js":"syncpack",".config/syncpackrc.mjs":"syncpack",".config/syncpackrc.cjs":"syncpack",".config/syncpackrc.ts":"syncpack",".config/syncpackrc.mts":"syncpack",".config/syncpackrc.cts":"syncpack","syncpack.config.json":"syncpack","syncpack.config.jsonc":"syncpack","syncpack.config.json5":"syncpack","syncpack.config.yaml":"syncpack","syncpack.config.yml":"syncpack","syncpack.config.toml":"syncpack","syncpack.config.js":"syncpack","syncpack.config.mjs":"syncpack","syncpack.config.cjs":"syncpack","syncpack.config.ts":"syncpack","syncpack.config.mts":"syncpack","syncpack.config.cts":"syncpack","werf.yaml":"werf","werf.yml":"werf","werf-giterminism.yaml":"werf","werf-giterminism.yml":"werf","panda.config.ts":"panda","panda.config.js":"panda","panda.config.mjs":"panda","panda.config.mts":"panda","panda.config.cjs":"panda","biome.json":"biome","esbuild.js":"esbuild","esbuild.ts":"esbuild","esbuild.cjs":"esbuild","esbuild.mjs":"esbuild","esbuild.config.js":"esbuild","esbuild.config.ts":"esbuild","esbuild.config.cjs":"esbuild","esbuild.config.mjs":"esbuild",".puppeteerrc":"puppeteer",".puppeteerrc.json":"puppeteer",".puppeteerrc.jsonc":"puppeteer",".puppeteerrc.json5":"puppeteer",".puppeteerrc.yaml":"puppeteer",".puppeteerrc.yml":"puppeteer",".puppeteerrc.toml":"puppeteer",".puppeteerrc.js":"puppeteer",".puppeteerrc.mjs":"puppeteer",".puppeteerrc.cjs":"puppeteer",".puppeteerrc.ts":"puppeteer",".puppeteerrc.mts":"puppeteer",".puppeteerrc.cts":"puppeteer",".config/puppeteerrc":"puppeteer",".config/puppeteerrc.json":"puppeteer",".config/puppeteerrc.jsonc":"puppeteer",".config/puppeteerrc.json5":"puppeteer",".config/puppeteerrc.yaml":"puppeteer",".config/puppeteerrc.yml":"puppeteer",".config/puppeteerrc.toml":"puppeteer",".config/puppeteerrc.js":"puppeteer",".config/puppeteerrc.mjs":"puppeteer",".config/puppeteerrc.cjs":"puppeteer",".config/puppeteerrc.ts":"puppeteer",".config/puppeteerrc.mts":"puppeteer",".config/puppeteerrc.cts":"puppeteer","puppeteer.config.json":"puppeteer","puppeteer.config.jsonc":"puppeteer","puppeteer.config.json5":"puppeteer","puppeteer.config.yaml":"puppeteer","puppeteer.config.yml":"puppeteer","puppeteer.config.toml":"puppeteer","puppeteer.config.js":"puppeteer","puppeteer.config.mjs":"puppeteer","puppeteer.config.cjs":"puppeteer","puppeteer.config.ts":"puppeteer","puppeteer.config.mts":"puppeteer","puppeteer.config.cts":"puppeteer",PklProject:"pkl","PklProject.deps.json":"pkl","k8s.yml":"kubernetes","k8s.yaml":"kubernetes","kubernetes.yml":"kubernetes","kubernetes.yaml":"kubernetes",".k8s.yml":"kubernetes",".k8s.yaml":"kubernetes"}};function IN(e){const t=e.split("/");return t[t.length-1]??e}function W4(e){return pa.fileNames[e]??pa.fileNames[e.toLowerCase()]??pa.fileExtensions[V4(e)]??pa.fileExtensions[H4(e)]??(e.endsWith(".html")?"html":null)??(e.endsWith(".ts")?"typescript":null)??(e.endsWith(".js")?"javascript":null)??"file"}function $4(e){return pa.folderNames[e]??pa.folderNames[e.toLowerCase()]??"folder"}function H4(e){return e.substring(e.lastIndexOf(".")+1)}function V4(e){return e.slice(e.indexOf(".")+1)}function G4(e,t){return`${t}/${e.toString()}.svg`}function Q4(e){const t=IN(e);return W4(t)}function Y4(e){const t=IN(e);return $4(t)}const X4=[],J4=[],Z4=({onSelect:e,searchQuery:t,onMouseDown:r,selectedIndex:n,setSelectedIndex:o,selectedType:a,queryItems:i,modes:c,dynamicSearchResults:l=J4,commands:d=X4})=>{const[u,p]=h.useState(""),m=h.useRef(null),g=h.useMemo(()=>gf(t,a,i,l,c,d),[t,a,i,l,c,d]),[f,x]=h.useState(!1),v=h.useRef(null);h.useEffect(()=>{if(v.current===null||g!==v.current){x(!1);const _=setTimeout(()=>{x(!0)},100);return()=>clearTimeout(_)}v.current=g},[g]),h.useEffect(()=>{if(m.current){const _=m.current.children[n];if(_){const j=m.current.getBoundingClientRect(),T=_.getBoundingClientRect();T.bottom>j.bottom?m.current.scrollTop+=T.bottom-j.bottom:T.top<j.top&&(m.current.scrollTop-=j.top-T.top)}}},[n]),h.useEffect(()=>{p(window.MATERIAL_ICONS_BASE_URI)},[]);const N=_=>{switch(_.type){case Ee.SectionHeader:return s.jsx("span",{style:{fontWeight:"bold",fontSize:"0.85em",opacity:.8},children:_.label});case Ee.Mode:return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[s.jsx("div",{style:{lineHeight:"1.2"},children:s.jsx("span",{children:_.slashCommand})}),_.description&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:_.description})]});case Ee.Command:return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[s.jsxs("div",{style:{lineHeight:"1.2",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:_.slashCommand}),_.argumentHint&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2"},children:_.argumentHint})]}),_.description&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:_.description})]});case Ee.Problems:return s.jsx("span",{children:br("chat:contextMenu.problems")});case Ee.Terminal:return s.jsx("span",{children:br("chat:contextMenu.terminal")});case Ee.URL:return s.jsx("span",{children:br("chat:contextMenu.url")});case Ee.NoResults:return s.jsx("span",{children:br("chat:contextMenu.noResults")});case Ee.Image:return s.jsx("span",{children:"Add Image"});case Ee.Git:return _.value?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0},children:[s.jsx("span",{style:{lineHeight:"1.2"},children:_.label}),s.jsx("span",{style:{fontSize:"0.85em",opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.2"},children:_.description})]}):s.jsx("span",{children:"Git Commits"});case Ee.File:case Ee.OpenedFile:case Ee.Folder:if(_.value){const T=Qg(_.value||"").replace(/\/$/,"").split("/"),S=T.at(-1),I=T.slice(0,-1).join("/");return s.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",gap:"0.5em",whiteSpace:"nowrap",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[s.jsx("span",{children:S}),s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:"rtl",textAlign:"right",flex:1,opacity:.75,fontSize:"0.75em"},children:I})]})}else return s.jsxs("span",{children:["Add ",_.type===Ee.File?"File":"Folder"]})}},y=_=>{switch(_.type){case Ee.Mode:return"symbol-misc";case Ee.Command:return"play";case Ee.OpenedFile:return"window";case Ee.File:return"file";case Ee.Folder:return"folder";case Ee.Problems:return"warning";case Ee.Terminal:return"terminal";case Ee.URL:return"link";case Ee.Image:return"device-camera";case Ee.Git:return"git-commit";case Ee.NoResults:return"info";default:return"file"}},w=_=>{var S;const j=((S=_.value)==null?void 0:S.split("/").filter(Boolean).at(-1))??"",T=_.type===Ee.Folder?Y4(j):Q4(j);return G4(T,u)},b=_=>_.type!==Ee.NoResults&&_.type!==Ee.URL&&_.type!==Ee.SectionHeader,k=_=>{_.preventDefault(),A.postMessage({type:"switchTab",tab:"settings",values:{section:"slashCommands"}})};return s.jsx("div",{style:{position:"absolute",bottom:"calc(100% - 10px)",left:15,right:15,overflowX:"hidden"},onMouseDown:r,children:s.jsxs("div",{ref:m,style:{backgroundColor:"var(--vscode-dropdown-background)",border:"1px solid var(--vscode-editorGroup-border)",borderRadius:"3px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.25)",zIndex:1e3,display:"flex",flexDirection:"column",maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},children:[t==="/"&&s.jsxs("div",{className:"p-2 flex items-start gap-4 justify-between",children:[t.length===1&&s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-bold text-base text-vscode-foreground mt-1 mb-0.5",children:"Slash Commands"}),s.jsx("p",{className:"text-xs mt-0.5 -mb-1",children:s.jsx(je,{i18nKey:"settings:slashCommands.description",components:{DocsLink:s.jsx("a",{href:It("features/slash-commands"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:underline",children:br("common:docsLink.label")})}})})]}),s.jsx("button",{className:"mt-1 cursor-pointer",onClick:k,onMouseDown:_=>{_.stopPropagation(),_.preventDefault()},onMouseEnter:_=>{_.currentTarget.style.opacity="1",_.currentTarget.style.backgroundColor="var(--vscode-list-hoverBackground)"},onMouseLeave:_=>{_.currentTarget.style.opacity="0.7",_.currentTarget.style.backgroundColor="transparent"},title:br("chat:slashCommands.manageCommands"),children:s.jsx(s_,{size:16})})]}),g&&g.length>0?g.map((_,j)=>s.jsxs("div",{onClick:()=>b(_)&&e(_.type,_.value),style:{padding:_.type===Ee.SectionHeader?"16px 8px 4px 8px":"4px 8px",cursor:b(_)?"pointer":"default",color:"var(--vscode-dropdown-foreground)",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",..._.type===Ee.SectionHeader?{borderBottom:"1px solid var(--vscode-editorGroup-border)",marginBottom:"2px"}:{},...j===n&&b(_)?{backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)"}:{}},onMouseEnter:()=>{f&&b(_)&&o(j)},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,minWidth:0,overflow:"hidden",paddingTop:0,position:"relative"},children:[(_.type===Ee.File||_.type===Ee.Folder||_.type===Ee.OpenedFile)&&s.jsx("img",{src:w(_),alt:"Mode",style:{marginRight:"6px",flexShrink:0,width:"16px",height:"16px"}}),_.type!==Ee.Mode&&_.type!==Ee.Command&&_.type!==Ee.File&&_.type!==Ee.Folder&&_.type!==Ee.OpenedFile&&_.type!==Ee.SectionHeader&&y(_)&&s.jsx("i",{className:`codicon codicon-${y(_)}`,style:{marginRight:"6px",flexShrink:0,fontSize:"14px",marginTop:0}}),N(_)]}),(_.type===Ee.File||_.type===Ee.Folder||_.type===Ee.Git)&&!_.value&&s.jsx("i",{className:"codicon codicon-chevron-right",style:{fontSize:"10px",flexShrink:0,marginLeft:8}})]},`${_.type}-${_.value||j}`)):s.jsx("div",{style:{padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--vscode-foreground)",opacity:.7},children:s.jsx("span",{children:br("chat:contextMenu.noResults")})})]})})},eO=({isVisible:e,messageKey:t,onDismiss:r,className:n})=>{const{t:o}=oe();return h.useEffect(()=>{if(e){const a=setTimeout(()=>{r()},4e3);return()=>clearTimeout(a)}},[e,r]),e?s.jsxs("div",{className:ee("flex items-center gap-2 px-3 py-2 mb-2","rounded-md text-sm","animate-in slide-in-from-top-2 duration-200",n),style:{border:"1px solid var(--vscode-inputValidation-errorBorder)",color:"var(--vscode-notificationsErrorIcon-foreground)"},role:"alert","aria-live":"polite",children:[s.jsx(el,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:o(t)}),s.jsx("button",{onClick:r,className:ee("flex-shrink-0 p-0.5 rounded cursor-pointer","hover:bg-black/10 focus:outline-none focus:ring-1","focus:ring-[var(--vscode-focusBorder)]"),"aria-label":"Dismiss warning",children:s.jsx(xn,{className:"w-3 h-3"})})]}):null},tO=({value:e,onChange:t})=>{const{t:r}=oe(),n=e??Tt.DEFAULT_EMBEDDING_BATCH_SIZE;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:r("kilocode:settings.codeIndex.embeddingBatchSizeLabel")}),s.jsx(de,{content:r("kilocode:settings.codeIndex.embeddingBatchSizeDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:Tt.MIN_EMBEDDING_BATCH_SIZE,max:Tt.MAX_EMBEDDING_BATCH_SIZE,step:Tt.EMBEDDING_BATCH_SIZE_STEP,value:[n],onValueChange:o=>t(o[0]),className:"flex-1","data-testid":"embedding-batch-size-slider"}),s.jsx("span",{className:"w-12 text-center",children:n}),s.jsx(xt,{appearance:"icon",title:r("settings:codeIndex.resetToDefault"),onClick:()=>t(Tt.DEFAULT_EMBEDDING_BATCH_SIZE),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]})},sO=({value:e,onChange:t})=>{const{t:r}=oe(),n=e??Tt.DEFAULT_SCANNER_MAX_BATCH_RETRIES;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:r("kilocode:settings.codeIndex.scannerMaxBatchRetriesLabel")}),s.jsx(de,{content:r("kilocode:settings.codeIndex.scannerMaxBatchRetriesDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:Tt.MIN_SCANNER_MAX_BATCH_RETRIES,max:Tt.MAX_SCANNER_MAX_BATCH_RETRIES,step:Tt.SCANNER_MAX_BATCH_RETRIES_STEP,value:[n],onValueChange:o=>t(o[0]),className:"flex-1","data-testid":"scanner-max-batch-retries-slider"}),s.jsx("span",{className:"w-12 text-center",children:n}),s.jsx(xt,{appearance:"icon",title:r("settings:codeIndex.resetToDefault"),onClick:()=>t(Tt.DEFAULT_SCANNER_MAX_BATCH_RETRIES),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]})},cb="http://localhost:6333",db="http://localhost:11434",rO=(e,t)=>{const r=ys({codebaseIndexEnabled:Tn(),codebaseIndexQdrantUrl:We().min(1,t("settings:codeIndex.validation.qdrantUrlRequired")).url(t("settings:codeIndex.validation.invalidQdrantUrl")),codeIndexQdrantApiKey:We().optional()});switch(e){case"openai":return r.extend({codeIndexOpenAiKey:We().min(1,t("settings:codeIndex.validation.openaiApiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"ollama":return r.extend({codebaseIndexEmbedderBaseUrl:We().min(1,t("settings:codeIndex.validation.ollamaBaseUrlRequired")).url(t("settings:codeIndex.validation.invalidOllamaUrl")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelIdRequired")),codebaseIndexEmbedderModelDimension:ur().min(1,t("settings:codeIndex.validation.modelDimensionRequired")).optional()});case"openai-compatible":return r.extend({codebaseIndexOpenAiCompatibleBaseUrl:We().min(1,t("settings:codeIndex.validation.baseUrlRequired")).url(t("settings:codeIndex.validation.invalidBaseUrl")),codebaseIndexOpenAiCompatibleApiKey:We().min(1,t("settings:codeIndex.validation.apiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelIdRequired")),codebaseIndexEmbedderModelDimension:ur().min(1,t("settings:codeIndex.validation.modelDimensionRequired"))});case"gemini":return r.extend({codebaseIndexGeminiApiKey:We().min(1,t("settings:codeIndex.validation.geminiApiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"mistral":return r.extend({codebaseIndexMistralApiKey:We().min(1,t("settings:codeIndex.validation.mistralApiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"vercel-ai-gateway":return r.extend({codebaseIndexVercelAiGatewayApiKey:We().min(1,t("settings:codeIndex.validation.vercelAiGatewayApiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"bedrock":return r.extend({codebaseIndexBedrockRegion:We().min(1,t("settings:codeIndex.validation.bedrockRegionRequired")),codebaseIndexBedrockProfile:We().optional(),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"openrouter":return r.extend({codebaseIndexOpenRouterApiKey:We().min(1,t("settings:codeIndex.validation.openRouterApiKeyRequired")),codebaseIndexEmbedderModelId:We().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});default:return r}},ub=({children:e})=>s.jsx(s.Fragment,{children:e}),nO=({children:e,contentOnly:t,open:r,onOpenChange:n,onRegisterCloseHandler:o,indexingStatus:a})=>{var $e,ut;const i="",{t:c}=oe(),{codebaseIndexConfig:l,codebaseIndexModels:d,cwd:u,apiConfiguration:p}=Ge(),[m,g]=h.useState(!1),f=r??m,[x,v]=h.useState(!1),[N,y]=h.useState(!1),[w,b]=h.useState(a),[k,_]=h.useState("idle"),[j,T]=h.useState(null),[S,I]=h.useState({}),[E,M]=h.useState(!1),R=h.useRef(null),C=()=>({codebaseIndexEnabled:!0,codebaseIndexQdrantUrl:"",codebaseIndexEmbedderProvider:"openai",codebaseIndexVectorStoreProvider:"qdrant",codebaseIndexLancedbVectorStoreDirectory:void 0,codebaseIndexEmbedderBaseUrl:"",codebaseIndexEmbedderModelId:"",codebaseIndexEmbedderModelDimension:void 0,codebaseIndexSearchMaxResults:Tt.DEFAULT_SEARCH_RESULTS,codebaseIndexSearchMinScore:Tt.DEFAULT_SEARCH_MIN_SCORE,codebaseIndexEmbeddingBatchSize:Tt.DEFAULT_EMBEDDING_BATCH_SIZE,codebaseIndexScannerMaxBatchRetries:Tt.DEFAULT_SCANNER_MAX_BATCH_RETRIES,codebaseIndexBedrockRegion:"",codebaseIndexBedrockProfile:"",codeIndexOpenAiKey:"",codeIndexQdrantApiKey:"",codebaseIndexOpenAiCompatibleBaseUrl:"",codebaseIndexOpenAiCompatibleApiKey:"",codebaseIndexGeminiApiKey:"",codebaseIndexMistralApiKey:"",codebaseIndexVercelAiGatewayApiKey:"",codebaseIndexOpenRouterApiKey:"",codebaseIndexOpenRouterSpecificProvider:""}),[q,B]=h.useState(C()),[U,te]=h.useState(C());h.useEffect(()=>{b(a)},[a]),h.useEffect(()=>{if(!(k==="saving"||k==="saved")&&l){const V={codebaseIndexEnabled:l.codebaseIndexEnabled??!0,codebaseIndexQdrantUrl:l.codebaseIndexQdrantUrl||"",codebaseIndexEmbedderProvider:l.codebaseIndexEmbedderProvider||"openai",codebaseIndexVectorStoreProvider:l.codebaseIndexVectorStoreProvider||"qdrant",codebaseIndexLancedbVectorStoreDirectory:l.codebaseIndexLancedbVectorStoreDirectory,codebaseIndexEmbedderBaseUrl:l.codebaseIndexEmbedderBaseUrl||"",codebaseIndexEmbedderModelId:l.codebaseIndexEmbedderModelId||"",codebaseIndexEmbedderModelDimension:l.codebaseIndexEmbedderModelDimension||void 0,codebaseIndexSearchMaxResults:l.codebaseIndexSearchMaxResults??Tt.DEFAULT_SEARCH_RESULTS,codebaseIndexSearchMinScore:l.codebaseIndexSearchMinScore??Tt.DEFAULT_SEARCH_MIN_SCORE,codebaseIndexEmbeddingBatchSize:l.codebaseIndexEmbeddingBatchSize??Tt.DEFAULT_EMBEDDING_BATCH_SIZE,codebaseIndexScannerMaxBatchRetries:l.codebaseIndexScannerMaxBatchRetries??Tt.DEFAULT_SCANNER_MAX_BATCH_RETRIES,codebaseIndexBedrockRegion:l.codebaseIndexBedrockRegion||"",codebaseIndexBedrockProfile:l.codebaseIndexBedrockProfile||"",codeIndexOpenAiKey:"",codeIndexQdrantApiKey:"",codebaseIndexOpenAiCompatibleBaseUrl:l.codebaseIndexOpenAiCompatibleBaseUrl||"",codebaseIndexOpenAiCompatibleApiKey:"",codebaseIndexGeminiApiKey:"",codebaseIndexMistralApiKey:"",codebaseIndexVercelAiGatewayApiKey:"",codebaseIndexOpenRouterApiKey:"",codebaseIndexOpenRouterSpecificProvider:l.codebaseIndexOpenRouterSpecificProvider||""};B(V),te(V),A.postMessage({type:"requestCodeIndexSecretStatus"})}},[l,k]),h.useEffect(()=>{f&&(A.postMessage({type:"requestIndexingStatus"}),A.postMessage({type:"requestCodeIndexSecretStatus"}));const V=ke=>{ke.data.type==="workspaceUpdated"&&f&&(A.postMessage({type:"requestIndexingStatus"}),A.postMessage({type:"requestCodeIndexSecretStatus"}))};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[f]);const Q=h.useRef(U);Q.current=U,h.useEffect(()=>{const V=ke=>{if(ke.data.type==="indexingStatusUpdate")(!ke.data.values.workspacePath||ke.data.values.workspacePath===u)&&b({systemStatus:ke.data.values.systemStatus,message:ke.data.values.message||"",processedItems:ke.data.values.processedItems,totalItems:ke.data.values.totalItems,currentItemUnit:ke.data.values.currentItemUnit||"items"});else if(ke.data.type==="codeIndexSettingsSaved")if(ke.data.success){_("saved");const Te={...Q.current};B(Te),te(Te),A.postMessage({type:"requestCodeIndexSecretStatus"}),_("idle")}else _("error"),T(ke.data.error||c("settings:codeIndex.saveError")),_("idle"),T(null)};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[c,u]),h.useEffect(()=>{const V=ke=>{if(ke.data.type==="codeIndexSecretStatus"){const Te=ke.data.values,ft=pt=>{const Ct={...pt};return(!pt.codeIndexOpenAiKey||pt.codeIndexOpenAiKey===i)&&(Ct.codeIndexOpenAiKey=Te.hasOpenAiKey?i:""),(!pt.codeIndexQdrantApiKey||pt.codeIndexQdrantApiKey===i)&&(Ct.codeIndexQdrantApiKey=Te.hasQdrantApiKey?i:""),(!pt.codebaseIndexOpenAiCompatibleApiKey||pt.codebaseIndexOpenAiCompatibleApiKey===i)&&(Ct.codebaseIndexOpenAiCompatibleApiKey=Te.hasOpenAiCompatibleApiKey?i:""),(!pt.codebaseIndexGeminiApiKey||pt.codebaseIndexGeminiApiKey===i)&&(Ct.codebaseIndexGeminiApiKey=Te.hasGeminiApiKey?i:""),(!pt.codebaseIndexMistralApiKey||pt.codebaseIndexMistralApiKey===i)&&(Ct.codebaseIndexMistralApiKey=Te.hasMistralApiKey?i:""),(!pt.codebaseIndexVercelAiGatewayApiKey||pt.codebaseIndexVercelAiGatewayApiKey===i)&&(Ct.codebaseIndexVercelAiGatewayApiKey=Te.hasVercelAiGatewayApiKey?i:""),(!pt.codebaseIndexOpenRouterApiKey||pt.codebaseIndexOpenRouterApiKey===i)&&(Ct.codebaseIndexOpenRouterApiKey=Te.hasOpenRouterApiKey?i:""),Ct};(k==="idle"||k==="saved")&&(te(ft),B(ft))}};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[k]);const O=h.useMemo(()=>{const V=[...Object.keys(q),...Object.keys(U)],ke=Array.from(new Set(V));for(const Te of ke){const ft=U[Te],pt=q[Te];if(ft!==i&&ft!==pt)return!0}return!1},[U,q]),F=(V,ke)=>{te(Te=>({...Te,[V]:ke})),S[V]&&I(Te=>{const ft={...Te};return delete ft[V],ft})},W=()=>{if(!U.codebaseIndexEnabled)return I({}),!0;const V=rO(U.codebaseIndexEmbedderProvider,c),ke={};for(const[Te,ft]of Object.entries(U))ft===i?(Te==="codeIndexOpenAiKey"||Te==="codebaseIndexOpenAiCompatibleApiKey"||Te==="codebaseIndexGeminiApiKey"||Te==="codebaseIndexMistralApiKey"||Te==="codebaseIndexVercelAiGatewayApiKey"||Te==="codebaseIndexOpenRouterApiKey")&&(ke[Te]="placeholder-valid"):ke[Te]=ft;try{return V.parse(ke),I({}),!0}catch(Te){if(Te instanceof pj){const ft={};Te.errors.forEach(pt=>{pt.path[0]&&(ft[pt.path[0]]=pt.message)}),I(ft),Object.keys(ft).length>0&&y(!0)}return!1}},re=h.useCallback(V=>{O?(R.current=V,M(!0)):V()},[O]),H=h.useCallback(V=>{var ke;V&&(te(q),I({}),(ke=R.current)==null||ke.call(R)),M(!1)},[q]),Z=h.useCallback(()=>{re(()=>{n?n(!1):g(!1)})},[re,n]);h.useEffect(()=>{o==null||o(Z)},[o,Z]);const Y=h.useCallback(V=>{V?(n==null||n(!0),g(!0)):Z()},[Z,n]),G=n?Y:g,ie=h.useCallback(()=>{re(()=>{G(!1)})},[re,G]);tl(f,ie);const D=h.useCallback(()=>{b(V=>({...V,message:c("settings:codeIndex.cancelling")})),A.postMessage({type:"cancelIndexing"})},[c]),me=()=>{if(!W())return;_("saving"),T(null);const V={};for(const[ke,Te]of Object.entries(U))Te!==i&&(V[ke]=Te);V.codebaseIndexEnabled=U.codebaseIndexEnabled,A.postMessage({type:"saveCodeIndexSettingsAtomic",codeIndexSettings:V})},xe=h.useMemo(()=>w.totalItems>0?Math.round(w.processedItems/w.totalItems*100):0,[w.processedItems,w.totalItems]),we=`translateX(-${100-xe}%)`,Pe=()=>{if(!d)return[];const V=d[U.codebaseIndexEmbedderProvider];return V?Object.keys(V):[]},{data:Ce}=C1(U.codebaseIndexEmbedderProvider==="openrouter"?U.codebaseIndexEmbedderModelId:void 0,(p==null?void 0:p.apiProvider)==="openrouter"?p==null?void 0:p.openRouterBaseUrl:void 0,p==null?void 0:p.apiKey,(p==null?void 0:p.kilocodeOrganizationId)??"personal",{enabled:U.codebaseIndexEmbedderProvider==="openrouter"&&!!U.codebaseIndexEmbedderModelId}),L=Kf("roo-portal"),Se=t?ub:En,X=t?ub:Mn;return s.jsxs(s.Fragment,{children:[s.jsxs(Se,{open:f,onOpenChange:V=>{V?G(V):ie()},children:[e,s.jsxs(X,{className:"w-[calc(100vw-32px)] max-w-[450px] max-h-[80vh] overflow-y-auto p-0",align:"end",alignOffset:0,side:"bottom",sideOffset:5,collisionPadding:16,avoidCollisions:!0,container:L,children:[s.jsxs("div",{className:"p-3 border-b border-vscode-dropdown-border cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:c("settings:codeIndex.title")})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full",children:s.jsx(je,{i18nKey:"settings:codeIndex.description",children:s.jsx(Fe,{href:It("features/codebase-indexing"),style:{display:"inline"}})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{checked:U.codebaseIndexEnabled,onChange:V=>F("codebaseIndexEnabled",V.target.checked),children:s.jsx("span",{className:"font-medium",children:c("settings:codeIndex.enableLabel")})}),s.jsx(de,{content:c("settings:codeIndex.enableDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:c("settings:codeIndex.statusTitle")}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("span",{className:ee("inline-block w-3 h-3 rounded-full mr-2",{"bg-gray-400":w.systemStatus==="Standby","bg-yellow-500 animate-pulse":w.systemStatus==="Indexing","bg-green-500":w.systemStatus==="Indexed","bg-red-500":w.systemStatus==="Error"})}),c(`settings:codeIndex.indexingStatuses.${w.systemStatus.toLowerCase()}`),w.message?` - ${w.message}`:""]}),w.systemStatus==="Indexing"&&s.jsx("div",{className:"mt-2",children:s.jsx(aI,{className:"relative h-2 w-full overflow-hidden rounded-full bg-secondary",value:xe,children:s.jsx(iI,{className:"h-full w-full flex-1 bg-primary transition-transform duration-300 ease-in-out",style:{transform:we}})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>y(!N),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":N,children:[s.jsx("span",{className:`codicon codicon-${N?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{className:"text-base font-semibold",children:c("settings:codeIndex.setupConfigLabel")})]}),N&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.embedderProviderLabel")}),s.jsxs(Dt,{value:U.codebaseIndexEmbedderProvider,onValueChange:V=>{F("codebaseIndexEmbedderProvider",V),F("codebaseIndexEmbedderModelId",""),V==="bedrock"&&(p==null?void 0:p.apiProvider)==="bedrock"&&(!U.codebaseIndexBedrockRegion&&p.awsRegion&&F("codebaseIndexBedrockRegion",p.awsRegion),!U.codebaseIndexBedrockProfile&&p.awsProfile&&F("codebaseIndexBedrockProfile",p.awsProfile))},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"openai",children:c("settings:codeIndex.openaiProvider")}),s.jsx(Be,{value:"ollama",children:c("settings:codeIndex.ollamaProvider")}),s.jsx(Be,{value:"openai-compatible",children:c("settings:codeIndex.openaiCompatibleProvider")}),s.jsx(Be,{value:"gemini",children:c("settings:codeIndex.geminiProvider")}),s.jsx(Be,{value:"mistral",children:c("settings:codeIndex.mistralProvider")}),s.jsx(Be,{value:"vercel-ai-gateway",children:c("settings:codeIndex.vercelAiGatewayProvider")}),s.jsx(Be,{value:"bedrock",children:c("settings:codeIndex.bedrockProvider")}),s.jsx(Be,{value:"openrouter",children:c("settings:codeIndex.openRouterProvider")})]})]})]}),U.codebaseIndexEmbedderProvider==="openai"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.openAiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codeIndexOpenAiKey||"",onInput:V=>F("codeIndexOpenAiKey",V.target.value),placeholder:c("settings:codeIndex.openAiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codeIndexOpenAiKey})}),S.codeIndexOpenAiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codeIndexOpenAiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),U.codebaseIndexEmbedderProvider==="ollama"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.ollamaBaseUrlLabel")}),s.jsx(ce,{value:U.codebaseIndexEmbedderBaseUrl||"",onInput:V=>F("codebaseIndexEmbedderBaseUrl",V.target.value),onBlur:V=>{V.target.value.trim()||(V.target.value=db,F("codebaseIndexEmbedderBaseUrl",db))},placeholder:c("settings:codeIndex.ollamaUrlPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderBaseUrl})}),S.codebaseIndexEmbedderBaseUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderBaseUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsx(ce,{value:U.codebaseIndexEmbedderModelId||"",onInput:V=>F("codebaseIndexEmbedderModelId",V.target.value),placeholder:c("settings:codeIndex.modelPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId})}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelDimensionLabel")}),s.jsx(ce,{value:(($e=U.codebaseIndexEmbedderModelDimension)==null?void 0:$e.toString())||"",onInput:V=>{const ke=V.target.value&&parseInt(V.target.value,10)||void 0;F("codebaseIndexEmbedderModelDimension",ke)},placeholder:c("settings:codeIndex.modelDimensionPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelDimension})}),S.codebaseIndexEmbedderModelDimension&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelDimension})]})]}),U.codebaseIndexEmbedderProvider==="openai-compatible"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.openAiCompatibleBaseUrlLabel")}),s.jsx(ce,{value:U.codebaseIndexOpenAiCompatibleBaseUrl||"",onInput:V=>F("codebaseIndexOpenAiCompatibleBaseUrl",V.target.value),placeholder:c("settings:codeIndex.openAiCompatibleBaseUrlPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexOpenAiCompatibleBaseUrl})}),S.codebaseIndexOpenAiCompatibleBaseUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenAiCompatibleBaseUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.openAiCompatibleApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codebaseIndexOpenAiCompatibleApiKey||"",onInput:V=>F("codebaseIndexOpenAiCompatibleApiKey",V.target.value),placeholder:c("settings:codeIndex.openAiCompatibleApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexOpenAiCompatibleApiKey})}),S.codebaseIndexOpenAiCompatibleApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenAiCompatibleApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsx(ce,{value:U.codebaseIndexEmbedderModelId||"",onInput:V=>F("codebaseIndexEmbedderModelId",V.target.value),placeholder:c("settings:codeIndex.modelPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId})}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelDimensionLabel")}),s.jsx(ce,{value:((ut=U.codebaseIndexEmbedderModelDimension)==null?void 0:ut.toString())||"",onInput:V=>{const ke=V.target.value&&parseInt(V.target.value,10)||void 0;F("codebaseIndexEmbedderModelDimension",ke)},placeholder:c("settings:codeIndex.modelDimensionPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelDimension})}),S.codebaseIndexEmbedderModelDimension&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelDimension})]})]}),U.codebaseIndexEmbedderProvider==="gemini"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.geminiApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codebaseIndexGeminiApiKey||"",onInput:V=>F("codebaseIndexGeminiApiKey",V.target.value),placeholder:c("settings:codeIndex.geminiApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexGeminiApiKey})}),S.codebaseIndexGeminiApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexGeminiApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),U.codebaseIndexEmbedderProvider==="mistral"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.mistralApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codebaseIndexMistralApiKey||"",onInput:V=>F("codebaseIndexMistralApiKey",V.target.value),placeholder:c("settings:codeIndex.mistralApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexMistralApiKey})}),S.codebaseIndexMistralApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexMistralApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.vectorStoreProviderLabel")}),s.jsxs(Dt,{value:U.codebaseIndexVectorStoreProvider,onValueChange:V=>{F("codebaseIndexVectorStoreProvider",V)},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"qdrant",children:"Qdrant"}),s.jsx(Be,{value:"lancedb",children:"LanceDB"})]})]})]}),U.codebaseIndexEmbedderProvider==="vercel-ai-gateway"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.vercelAiGatewayApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codebaseIndexVercelAiGatewayApiKey||"",onInput:V=>F("codebaseIndexVercelAiGatewayApiKey",V.target.value),placeholder:c("settings:codeIndex.vercelAiGatewayApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexVercelAiGatewayApiKey})}),S.codebaseIndexVercelAiGatewayApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexVercelAiGatewayApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),U.codebaseIndexEmbedderProvider==="bedrock"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.bedrockRegionLabel")}),s.jsx(ce,{value:U.codebaseIndexBedrockRegion||"",onInput:V=>F("codebaseIndexBedrockRegion",V.target.value),placeholder:c("settings:codeIndex.bedrockRegionPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexBedrockRegion})}),S.codebaseIndexBedrockRegion&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexBedrockRegion})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium",children:[c("settings:codeIndex.bedrockProfileLabel"),s.jsxs("span",{className:"text-xs text-vscode-descriptionForeground ml-1",children:["(",c("settings:codeIndex.optional"),")"]})]}),s.jsx(ce,{value:U.codebaseIndexBedrockProfile||"",onInput:V=>F("codebaseIndexBedrockProfile",V.target.value),placeholder:c("settings:codeIndex.bedrockProfilePlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexBedrockProfile})}),S.codebaseIndexBedrockProfile&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexBedrockProfile}),!S.codebaseIndexBedrockProfile&&s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1 mb-0",children:c("settings:codeIndex.bedrockProfileDescription")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),U.codebaseIndexEmbedderProvider==="openrouter"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.openRouterApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codebaseIndexOpenRouterApiKey||"",onInput:V=>F("codebaseIndexOpenRouterApiKey",V.target.value),placeholder:c("settings:codeIndex.openRouterApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexOpenRouterApiKey})}),S.codebaseIndexOpenRouterApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenRouterApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.modelLabel")}),s.jsxs($s,{value:U.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:ee("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(yt,{value:"",className:"p-2",children:c("settings:codeIndex.selectModel")}),Pe().map(V=>{var Te;const ke=(Te=d==null?void 0:d[U.codebaseIndexEmbedderProvider])==null?void 0:Te[V];return s.jsxs(yt,{value:V,className:"p-2",children:[V," ",ke?c("settings:codeIndex.modelDimensions",{dimension:ke.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),Ce&&Object.keys(Ce).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:s.jsxs("a",{href:"https://openrouter.ai/docs/features/provider-routing",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:underline",children:[c("settings:codeIndex.openRouterProviderRoutingLabel"),s.jsx("span",{className:"codicon codicon-link-external text-xs"})]})}),s.jsxs(Dt,{value:U.codebaseIndexOpenRouterSpecificProvider||qd,onValueChange:V=>F("codebaseIndexOpenRouterSpecificProvider",V),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:qd,children:qd}),Object.entries(Ce).map(([V,{label:ke}])=>s.jsx(Be,{value:V,children:ke},V))]})]}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1 mb-0",children:c("settings:codeIndex.openRouterProviderRoutingDescription")})]})]}),U.codebaseIndexVectorStoreProvider==="qdrant"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.qdrantUrlLabel")}),s.jsx(ce,{value:U.codebaseIndexQdrantUrl||"",onInput:V=>F("codebaseIndexQdrantUrl",V.target.value),onBlur:V=>{V.target.value.trim()||(U.codebaseIndexQdrantUrl=cb,F("codebaseIndexQdrantUrl",cb))},placeholder:c("settings:codeIndex.qdrantUrlPlaceholder"),className:ee("w-full",{"border-red-500":S.codebaseIndexQdrantUrl})}),S.codebaseIndexQdrantUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexQdrantUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.qdrantApiKeyLabel")}),s.jsx(ce,{type:"password",value:U.codeIndexQdrantApiKey||"",onInput:V=>F("codeIndexQdrantApiKey",V.target.value),placeholder:c("settings:codeIndex.qdrantApiKeyPlaceholder"),className:ee("w-full",{"border-red-500":S.codeIndexQdrantApiKey})}),S.codeIndexQdrantApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codeIndexQdrantApiKey})]})]}),U.codebaseIndexVectorStoreProvider==="lancedb"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.lancedbVectorStoreDirectoryLabel")}),s.jsx(ce,{value:U.codebaseIndexLancedbVectorStoreDirectory||"",onInput:V=>F("codebaseIndexLancedbVectorStoreDirectory",V.target.value),placeholder:c("settings:codeIndex.lancedbVectorStoreDirectoryPlaceholder"),className:"w-full"}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground",children:c("settings:codeIndex.lancedbVectorStoreDirectoryDescription")})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>v(!x),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":x,children:[s.jsx("span",{className:`codicon codicon-${x?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{className:"text-base font-semibold",children:c("settings:codeIndex.advancedConfigLabel")})]}),x&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.searchMinScoreLabel")}),s.jsx(de,{content:c("settings:codeIndex.searchMinScoreDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:Tt.MIN_SEARCH_SCORE,max:Tt.MAX_SEARCH_SCORE,step:Tt.SEARCH_SCORE_STEP,value:[U.codebaseIndexSearchMinScore??Tt.DEFAULT_SEARCH_MIN_SCORE],onValueChange:V=>F("codebaseIndexSearchMinScore",V[0]),className:"flex-1","data-testid":"search-min-score-slider"}),s.jsx("span",{className:"w-12 text-center",children:(U.codebaseIndexSearchMinScore??Tt.DEFAULT_SEARCH_MIN_SCORE).toFixed(2)}),s.jsx(xt,{appearance:"icon",title:c("settings:codeIndex.resetToDefault"),onClick:()=>F("codebaseIndexSearchMinScore",Tt.DEFAULT_SEARCH_MIN_SCORE),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:c("settings:codeIndex.searchMaxResultsLabel")}),s.jsx(de,{content:c("settings:codeIndex.searchMaxResultsDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:Tt.MIN_SEARCH_RESULTS,max:Tt.MAX_SEARCH_RESULTS,step:Tt.SEARCH_RESULTS_STEP,value:[U.codebaseIndexSearchMaxResults??Tt.DEFAULT_SEARCH_RESULTS],onValueChange:V=>F("codebaseIndexSearchMaxResults",V[0]),className:"flex-1","data-testid":"search-max-results-slider"}),s.jsx("span",{className:"w-12 text-center",children:U.codebaseIndexSearchMaxResults??Tt.DEFAULT_SEARCH_RESULTS}),s.jsx(xt,{appearance:"icon",title:c("settings:codeIndex.resetToDefault"),onClick:()=>F("codebaseIndexSearchMaxResults",Tt.DEFAULT_SEARCH_RESULTS),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]}),s.jsx(tO,{value:U.codebaseIndexEmbeddingBatchSize,onChange:V=>F("codebaseIndexEmbeddingBatchSize",V)}),s.jsx(sO,{value:U.codebaseIndexScannerMaxBatchRetries,onChange:V=>F("codebaseIndexScannerMaxBatchRetries",V)})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 pt-6",children:[s.jsxs("div",{className:"flex gap-2",children:[U.codebaseIndexEnabled&&w.systemStatus==="Indexing"&&s.jsx(xt,{appearance:"secondary",onClick:D,disabled:k==="saving",children:c("settings:codeIndex.cancelIndexingButton")}),U.codebaseIndexEnabled&&(w.systemStatus==="Error"||w.systemStatus==="Standby")&&s.jsx(ae,{onClick:()=>A.postMessage({type:"startIndexing"}),disabled:k==="saving"||O,children:c("settings:codeIndex.startIndexingButton")}),U.codebaseIndexEnabled&&(w.systemStatus==="Indexed"||w.systemStatus==="Error")&&s.jsxs(Hr,{children:[s.jsx(pA,{asChild:!0,children:s.jsx(ae,{variant:"secondary",children:c("settings:codeIndex.clearIndexDataButton")})}),s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:c("settings:codeIndex.clearDataDialog.title")}),s.jsx(Xr,{children:c("settings:codeIndex.clearDataDialog.description")})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{children:c("settings:codeIndex.clearDataDialog.cancelButton")}),s.jsx(Sr,{onClick:()=>A.postMessage({type:"clearIndexData"}),children:c("settings:codeIndex.clearDataDialog.confirmButton")})]})]})]})]}),s.jsx(ae,{onClick:me,disabled:!O||k==="saving",children:c(k==="saving"?"settings:codeIndex.saving":"settings:codeIndex.saveSettings")})]}),k==="error"&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-sm text-vscode-errorForeground block",children:j||c("settings:codeIndex.saveError")})})]})]})]}),s.jsx(Hr,{open:E,onOpenChange:M,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{className:"flex items-center gap-2",children:[s.jsx(el,{className:"w-5 h-5 text-yellow-500"}),c("settings:unsavedChangesDialog.title")]}),s.jsx(Xr,{children:c("settings:unsavedChangesDialog.description")})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{onClick:()=>H(!1),children:c("settings:unsavedChangesDialog.cancelButton")}),s.jsx(Sr,{onClick:()=>H(!0),children:c("settings:unsavedChangesDialog.discardButton")})]})]})})]})},oO=ys({type:sT(["setup","scan","file-upsert","git","manifest","config"]),message:We(),timestamp:We(),context:ys({filePath:We().optional(),branch:We().optional(),operation:We().optional()}).optional()}),PN=ys({workspaceFolderPath:We(),workspaceFolderName:We(),gitBranch:We().nullable(),projectId:We().nullable(),repositoryUrl:We().optional(),isIndexing:Tn(),hasManifest:Tn(),manifestFileCount:ur(),hasWatcher:Tn(),error:oO.optional()});ys({isEnabled:Tn(),isActive:Tn(),workspaceFolders:ga(PN)});const aO=ys({type:rT("managedIndexerState"),managedIndexerEnabled:Tn(),managedIndexerState:ga(PN)});function iO(e){try{const t=aO.parse(e);return{isEnabled:t.managedIndexerEnabled,isActive:t.managedIndexerState.length>0,workspaceFolders:t.managedIndexerState}}catch(t){return console.error("[parseManagedIndexerStateMessage] Failed to parse message:",t),null}}const lO={isEnabled:!1,isActive:!1,workspaceFolders:[]};function EN(){const[e,t]=h.useState(lO);return h.useEffect(()=>{A.postMessage({type:"requestManagedIndexerState"});const r=n=>{if(n.data.type==="managedIndexerState"){const o=iO(n.data);o&&t(o)}};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}},[]),e}function cO(){const{workspaceFolders:e}=EN();return e.some(t=>t.isIndexing)}const dO=({workspaceFolders:e})=>{const[t,r]=h.useState(()=>e.length===1?new Set([e[0].workspaceFolderPath]):new Set),n=o=>{r(a=>{const i=new Set(a);return i.has(o)?i.delete(o):i.add(o),i})};return!e||e.length===0?s.jsx("div",{className:"p-4 text-sm text-vscode-descriptionForeground",children:"No workspace folders found for managed indexing."}):s.jsx("div",{className:"space-y-2",children:e.map(o=>{var i,c;const a=t.has(o.workspaceFolderPath);return s.jsxs("div",{className:"bg-vscode-input-background rounded-md border border-vscode-dropdown-border overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(o.workspaceFolderPath),className:"w-full px-3 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground transition-colors",children:[s.jsx(Y1,{className:ee("w-4 h-4 text-vscode-descriptionForeground transition-transform flex-shrink-0",{"transform rotate-90":a})}),s.jsx("h4",{className:"text-sm font-medium text-vscode-foreground flex-1 text-left truncate m-0",title:o.workspaceFolderName,children:o.workspaceFolderName}),s.jsxs("span",{className:ee("inline-flex items-center gap-1.5 text-xs flex-shrink-0",{"text-yellow-500":o.isIndexing,"text-green-500":!o.isIndexing&&o.hasManifest&&!o.error,"text-red-500":o.error,"text-gray-400":!o.isIndexing&&!o.hasManifest&&!o.error}),children:[s.jsx("span",{className:ee("w-2 h-2 rounded-full",{"bg-yellow-500 animate-pulse":o.isIndexing,"bg-green-500":!o.isIndexing&&o.hasManifest&&!o.error,"bg-red-500":o.error,"bg-gray-400":!o.isIndexing&&!o.hasManifest&&!o.error})}),o.isIndexing?"Indexing":o.error?"Error":o.hasManifest?"Indexed":"Standby"]})]}),a&&s.jsxs("div",{className:"px-3 pb-3 space-y-1 text-xs text-vscode-descriptionForeground border-t border-vscode-dropdown-border",children:[o.gitBranch&&s.jsxs("div",{className:"flex justify-between pt-2",children:[s.jsx("span",{children:"Branch:"}),s.jsx("code",{className:"font-mono text-vscode-foreground",children:o.gitBranch})]}),o.repositoryUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Repository:"}),s.jsx("code",{className:"font-mono text-vscode-foreground text-right truncate max-w-[200px]",title:o.repositoryUrl,children:o.repositoryUrl})]}),o.projectId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Project ID:"}),s.jsx("code",{className:"font-mono text-vscode-foreground",children:o.projectId})]}),o.hasManifest&&!!o.manifestFileCount&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Files indexed:"}),s.jsx("span",{className:"font-medium text-vscode-foreground",children:o.manifestFileCount.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"File watcher:"}),s.jsx("span",{className:"font-medium text-vscode-foreground",children:o.hasWatcher?"Active":"Inactive"})]}),o.error&&s.jsxs("div",{className:"mt-2 p-2 bg-vscode-inputValidation-errorBackground border border-vscode-inputValidation-errorBorder rounded",children:[s.jsxs("div",{className:"font-medium text-vscode-inputValidation-errorForeground mb-1",children:[o.error.type.toUpperCase()," ERROR"]}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:o.error.message}),((i=o.error.context)==null?void 0:i.operation)&&s.jsxs("div",{className:"text-vscode-descriptionForeground mt-1 opacity-75",children:["Operation: ",o.error.context.operation]}),((c=o.error.context)==null?void 0:c.branch)&&s.jsxs("div",{className:"text-vscode-descriptionForeground mt-1 opacity-75",children:["Branch: ",o.error.context.branch]})]})]})]},o.workspaceFolderPath)})})},uO=({children:e})=>{const[t,r]=h.useState(!1),n=h.useRef(()=>r(!1)),o=i=>{var c;i?r(!0):(c=n.current)==null||c.call(n)};tl(t,()=>{var i;(i=n.current)==null||i.call(n)});const a=Kf("roo-portal");return s.jsxs(En,{open:t,onOpenChange:o,children:[e,s.jsx(Mn,{className:"w-[calc(100vw-32px)] max-w-[450px] max-h-[80vh] overflow-y-auto p-0",align:"end",alignOffset:0,side:"bottom",sideOffset:5,collisionPadding:16,avoidCollisions:!0,container:a,children:s.jsx(pO,{})})]})},pO=()=>{var a;const r=`https://kilo.ai/organizations/${(a=Ge().apiConfiguration)==null?void 0:a.kilocodeOrganizationId}/code-indexing`,[n,o]=h.useState([]);return h.useEffect(()=>{console.log("[ManagedCodeIndexPopoverContent] requesting managed indexer state"),A.postMessage({type:"requestManagedIndexerState"});const i=c=>{console.log("[ManagedCodeIndexPopoverContent] received event",c),c.data.type==="managedIndexerState"&&o(c.data.managedIndexerState||[])};return window.addEventListener("message",i),()=>window.removeEventListener("message",i)},[]),n.length===0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:"Managed Code Indexing"})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full mb-3",children:s.jsx(Fe,{href:r,children:"Configure on kilo.ai"})})]}),s.jsx("div",{className:"border-t border-vscode-dropdown-border"}),s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:"Managed code indexing is only available when workspace folders are git repositories."})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:"Managed Code Indexing"})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full mb-3",children:s.jsx(Fe,{href:r,children:"Configure on kilo.ai"})})]}),s.jsx("div",{className:"border-t border-vscode-dropdown-border"}),s.jsx("div",{className:"p-4",children:s.jsx(dO,{workspaceFolders:n})})]})},mO=({className:e})=>{const{t}=oe(),{cwd:r}=Ge(),n=EN(),o=cO(),[a,i]=h.useState({systemStatus:"Standby",processedItems:0,totalItems:0,currentItemUnit:"items"});h.useEffect(()=>{n.isEnabled||A.postMessage({type:"requestIndexingStatus"});const m=g=>{if(g.data.type==="indexingStatusUpdate"){const f=g.data.values;(!f.workspacePath||f.workspacePath===r)&&i(f)}};return window.addEventListener("message",m),()=>{window.removeEventListener("message",m)}},[r,n.isEnabled]);const c=h.useMemo(()=>{if(n.isEnabled){const m=n.workspaceFolders.some(f=>f.error!==void 0),g=n.workspaceFolders.some(f=>f.hasManifest);return{systemStatus:m?"Error":o?"Indexing":g?"Indexed":"Standby",processedItems:0,totalItems:0,currentItemUnit:"items"}}return a},[n,o,a]),l=h.useMemo(()=>c.totalItems>0?Math.round(c.processedItems/c.totalItems*100):0,[c.processedItems,c.totalItems]),d=h.useMemo(()=>{if(n.isEnabled){const m=n.workspaceFolders.length,g=n.workspaceFolders.filter(x=>x.isIndexing).length,f=n.workspaceFolders.filter(x=>x.error).length;return f>0?`Managed indexing error (${f} folder${f>1?"s":""})`:g>0?`Indexing ${g} of ${m} workspace folder${m>1?"s":""}`:m>0?`Managed indexing ready (${m} folder${m>1?"s":""})`:"Managed indexing enabled"}switch(c.systemStatus){case"Standby":return t("chat:indexingStatus.ready");case"Indexing":return t("chat:indexingStatus.indexing",{percentage:l});case"Indexed":return t("chat:indexingStatus.indexed");case"Error":return t("chat:indexingStatus.error");default:return t("chat:indexingStatus.status")}},[n,c.systemStatus,l,t]),u=h.useMemo(()=>{const m={Standby:"bg-vscode-descriptionForeground/60",Indexing:"bg-yellow-500 animate-pulse",Indexed:"bg-green-500",Error:"bg-red-500"};return m[c.systemStatus]||m.Standby},[c.systemStatus]),p=n.isEnabled?uO:nO;return s.jsx(p,{indexingStatus:c,children:s.jsx(de,{content:d,children:s.jsx(ao,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",size:"sm","aria-label":d,className:ee("relative h-5 w-5 p-0","text-vscode-foreground opacity-60","hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder",e),children:[s.jsx(Og,{className:"w-4 h-4"}),s.jsx("span",{className:ee("absolute top-0 right-0 w-1.5 h-1.5 rounded-full transition-colors duration-200",u)})]})})})})},hO=({isRecording:e,onClick:t,containerWidth:r,disabled:n=!1,tooltipContent:o})=>{const{t:a}=bt(),i=a(e?"kilocode:speechToText.stopRecording":"kilocode:speechToText.startRecording");return s.jsx(de,{content:o||i,children:s.jsx("button",{"aria-label":a(e?"kilocode:speechToText.stopRecording":"kilocode:speechToText.startRecording"),disabled:n,onClick:t,className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","transition-all duration-150","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder",e?"opacity-100 text-red-500 animate-pulse hover:text-red-600 cursor-pointer":n?"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent text-vscode-descriptionForeground":"opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)] active:bg-[rgba(255,255,255,0.1)] cursor-pointer",r!==void 0&&{hidden:r<235}),children:e?s.jsx(jI,{className:"w-4 h-4 fill-current"}):s.jsx(dR,{className:"w-4 h-4"})})})},ma=5,fO=2,gO=2,xO=16,Sl=10,vO=.15,bO=.001,pb=.02,yO=.12,wO=2,kO=.6;function jO(e){const t=Math.max(0,(e-pb)/(yO-pb)),r=Math.pow(t,kO);return Math.min(1,r*wO)}function _O(e){const t=jO(e),r=Math.floor(ma/2);return Array.from({length:ma},(n,o)=>{const i=1-Math.abs(o-r)*.15,c=.85+Math.random()*.15;return t*i*c})}function NO({volume:e,isActive:t=!0,className:r}){const[n,o]=h.useState(new Array(ma).fill(Sl)),a=h.useRef(e),i=h.useRef({targetHeights:new Array(ma).fill(0),currentHeights:new Array(ma).fill(0),frameId:null});return h.useEffect(()=>{a.current=e},[e]),h.useEffect(()=>{if(!t){o(new Array(ma).fill(Sl));return}const c=i.current,l=()=>{if(!t){c.frameId=null;return}c.targetHeights=_O(a.current);const d=c.currentHeights.map((u,p)=>{const g=c.targetHeights[p]-u;return Math.abs(g)>bO?u+g*vO:u});c.currentHeights=d,o(d.map(u=>Math.max(Sl,u*100))),c.frameId=requestAnimationFrame(l)};return c.frameId=requestAnimationFrame(l),()=>{c.frameId!==null&&(cancelAnimationFrame(c.frameId),c.frameId=null)}},[t]),s.jsx("div",{className:ee("inline-flex items-end justify-center",r),style:{gap:`${gO}px`,height:`${xO}px`},"aria-label":"Volume level indicator",role:"meter","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,children:n.map((c,l)=>s.jsx("div",{className:ee("rounded-full transition-colors duration-200"),style:{width:`${fO}px`,height:`${c}%`,minHeight:`${Sl}%`,backgroundColor:t?"var(--vscode-charts-yellow)":"var(--vscode-descriptionForeground)",opacity:t?1:.4}},l))})}const SO=({textAreaRef:e,cursorPosition:t,isVisible:r})=>{const[n,o]=h.useState(null),a=h.useRef(null);return h.useEffect(()=>{if(!r||!e.current){o(null);return}const i=e.current,c=i.value,l=document.createElement("div"),d=window.getComputedStyle(i);l.style.cssText=`
			position: absolute;
			visibility: hidden;
			white-space: pre-wrap;
			word-wrap: break-word;
			font-family: ${d.fontFamily};
			font-size: ${d.fontSize};
			font-weight: ${d.fontWeight};
			line-height: ${d.lineHeight};
			letter-spacing: ${d.letterSpacing};
			padding: ${d.padding};
			border: ${d.border};
			width: ${i.clientWidth}px;
		`,document.body.appendChild(l);const u=c.substring(0,t);l.textContent=u;const p=document.createElement("span");p.textContent="|",l.appendChild(p);const m=p.getBoundingClientRect(),g=i.getBoundingClientRect(),f=m.top-g.top+i.scrollTop,x=m.left-g.left+i.scrollLeft;document.body.removeChild(l),o({top:f,left:x})},[e,t,r]),!r||!n?null:s.jsx("div",{ref:a,className:ee("absolute pointer-events-none z-50","w-[2px] h-[1.2em]","bg-vscode-editorCursor","animate-[blink_1s_step-end_infinite]"),style:{top:`${n.top}px`,left:`${n.left}px`}})},TO=({clineMessages:e,taskHistoryVersion:t,cwd:r,inputValue:n,setInputValue:o})=>{const[i,c]=h.useState(-1),[l,d]=h.useState(""),[u,p]=h.useState([]),{data:m}=Vg({workspace:"current",sort:"newest",favoritesOnly:!1,pageIndex:0},t),g=h.useMemo(()=>{const b=e==null?void 0:e.filter(_=>{var j;return _.type==="say"&&_.say==="user_feedback"&&((j=_.text)==null?void 0:j.trim())}).map(_=>_.text);if(b!=null&&b.length)return b.slice(-100).reverse();if(e!=null&&e.length)return[];const k=(m==null?void 0:m.historyItems)??[];return!(k!=null&&k.length)||!r?[]:k.filter(_=>{var j;return((j=_.task)==null?void 0:j.trim())&&(!_.workspace||_.workspace===r)}).map(_=>_.task).slice(0,100)},[m,e,r]);h.useEffect(()=>{p(g),c(-1),d("")},[g]);const f=h.useCallback(()=>{i!==-1&&(c(-1),d(""))},[i]),x=h.useCallback((b,k,_)=>{setTimeout(()=>{if(k==="start")b.setSelectionRange(0,0);else if(k==="end"){const j=_??b.value.length;b.setSelectionRange(j,j)}else b.setSelectionRange(k,k)},0)},[]),v=h.useCallback((b,k,_="start")=>{if(b<0||b>=u.length)return!1;const j=u[b];return j?(c(b),o(j),x(k,_,j.length),!0):!1},[u,o,x]),N=h.useCallback((b,k="end")=>{c(-1),o(l),x(b,k,l.length)},[l,o,x]),y=h.useCallback((b,k,_)=>{if(!k&&u.length>0&&!_){const j=b.currentTarget,{selectionStart:T,selectionEnd:S,value:I}=j,E=T!==S,M=T===0&&S===0,R=T===I.length&&S===I.length;if(!E){if(b.key==="ArrowUp"&&M)return b.preventDefault(),i===-1&&d(n),v(i+1,j,"start");if(b.key==="ArrowDown"&&i>=0&&(M||R)){if(b.preventDefault(),i>0)return v(i-1,j,M?"start":"end");if(i===0)return N(j,M?"start":"end"),!0}}}return!1},[u,i,n,v,N]),w=h.useCallback(()=>{c(-1),d("")},[]);return{historyIndex:i,setHistoryIndex:c,tempInput:l,setTempInput:d,promptHistory:u,handleHistoryNavigation:y,resetHistoryNavigation:w,resetOnInputChange:f}};function IO(e={}){const{onComplete:t,onError:r}=e,[n,o]=h.useState(!1),[a,i]=h.useState([]),[c,l]=h.useState(0),d=h.useRef(null),u=h.useRef([]);h.useEffect(()=>{u.current=a},[a]),h.useEffect(()=>{const f=x=>{var N;const v=x.data;if((N=v.type)!=null&&N.startsWith("stt:"))switch(v.type){case"stt:started":d.current=v.sessionId,o(!0),i([]);break;case"stt:transcript":if(v.sessionId!==d.current)return;console.log(" [useSTT WebView]  Received segments:",JSON.stringify(v.segments,null,2)),i(v.segments||[]);break;case"stt:volume":if(v.sessionId!==d.current)return;l(v.level);break;case"stt:stopped":if(v.sessionId!==d.current)return;if(o(!1),l(0),v.reason==="completed"){const y=u.current.map(w=>w.text).join(" ").trim();y&&(t==null||t(y))}else v.reason==="error"&&v.error&&(r==null||r(v.error));i([]),d.current=null;break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[t,r]);const p=h.useCallback(f=>{A.postMessage({type:"stt:start",language:f})},[]),m=h.useCallback(()=>{A.postMessage({type:"stt:stop"})},[]),g=h.useCallback(()=>{A.postMessage({type:"stt:cancel"})},[]);return{isRecording:n,segments:a,volume:c,start:p,stop:m,cancel:g}}function MN(e){return e.replace(/^.*[/\\]/,"")}const PO=e=>{if(e.startsWith(".")&&!e.includes(".",1))return"";const t=e.match(/\.[^.]+$/);return t?t[0].toLowerCase():""};function rx(e,t={},r={}){const n=[{name:"newtask",description:"Create a new task with context from the current task"},{name:"newrule",description:"Create a new Kilo rule with context from your conversation"},{name:"reportbug",description:"Create a KiloCode GitHub issue"},{name:"smol",description:"Condenses your current context window"},{name:"session",description:"Session management <fork|share>"}],o=oo(e).map(i=>({name:i.slug,description:`Switch to ${i.name.replace(/^[]+ /,"")} mode`})),a=MO(t,r);return[...n,...o,...a]}rx();function EO(e,t){const r=e.slice(0,t),n=r.lastIndexOf("/");if(n===-1)return!1;const o=r.slice(0,n);if(!/^\s*$/.test(o))return!1;const a=r.slice(n+1);return!/\s/.test(a)}function mb(e){return Object.entries(e).filter(([t,r])=>r).map(([t,r])=>({name:MN(t),section:"custom"}))}function MO(e={},t={}){return[...mb(e),...mb(t)]}function xf(e,t,r={},n={}){const o=rx(t,r,n);return e?o.filter(a=>a.name.startsWith(e)):[...o]}function AO(e,t){const r=e.indexOf("/"),n=e.indexOf(" ",r);return{newValue:e.substring(0,r+1)+t+(n>-1?e.substring(n):" "),commandIndex:r}}function AN(e,t,r={},n={}){if(!e)return null;const o=rx(t,r,n);return o.some(c=>c.name===e)?"full":o.some(c=>c.name.startsWith(e))?"partial":null}const RO=({onSelect:e,selectedIndex:t,setSelectedIndex:r,onMouseDown:n,query:o,customModes:a})=>{const{localWorkflows:i,globalWorkflows:c}=Ge(),l=h.useRef(null),d=h.useCallback(p=>{e(p)},[e]);h.useEffect(()=>{if(l.current){const p=l.current.children[t];if(p){const m=l.current.getBoundingClientRect(),g=p.getBoundingClientRect();g.bottom>m.bottom?l.current.scrollTop+=g.bottom-m.bottom:g.top<m.top&&(l.current.scrollTop-=m.top-g.top)}}},[t]);const u=xf(o,a,i,c);return s.jsx("div",{className:"absolute bottom-[calc(100%-10px)] left-[15px] right-[15px] overflow-x-hidden z-[1000]",onMouseDown:n,children:s.jsx("div",{ref:l,className:"bg-[var(--vscode-dropdown-background)] border border-[var(--vscode-editorGroup-border)] rounded-[3px] shadow-[0_4px_10px_rgba(0,0,0,0.25)] flex flex-col max-h-[200px] overflow-y-auto",children:u.length>0?u.map((p,m)=>s.jsxs("div",{className:`py-2 px-3 cursor-pointer flex flex-col border-b border-[var(--vscode-editorGroup-border)] ${m===t?"bg-[var(--vscode-quickInputList-focusBackground)] text-[var(--vscode-quickInputList-focusForeground)]":""} hover:bg-[var(--vscode-list-hoverBackground)]`,onClick:()=>d(p),onMouseEnter:()=>r(m),children:[s.jsxs("div",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:["/",p.name]}),s.jsx("div",{className:"text-[0.85em] text-[var(--vscode-descriptionForeground)] whitespace-normal overflow-hidden text-ellipsis",children:p.description})]},p.name)):s.jsxs("div",{className:"py-2 px-3 cursor-default flex flex-col",children:[" ",s.jsx("div",{className:"text-[0.85em] text-[var(--vscode-descriptionForeground)]",children:"No matching commands found"})]})})})};function CO(e,t){if(e.startsWith("/session show"))return A.postMessage({type:"sessionShow"}),t(""),!0;if(e.startsWith("/session share"))return A.postMessage({type:"sessionShare"}),t(""),!0;if(e.startsWith("/session fork ")){const r=e.substring(14).trim();return A.postMessage({type:"sessionFork",shareId:r}),r&&t(""),!0}else if(e.startsWith("/session select ")){const r=e.substring(16).trim();return A.postMessage({type:"sessionSelect",sessionId:r}),t(""),!0}return!1}const RN=h.forwardRef(({inputValue:e,setInputValue:t,sendingDisabled:r,selectApiConfigDisabled:n,placeholderText:o,selectedImages:a,setSelectedImages:i,onSend:c,onSelectImages:l,shouldDisableImages:d,onHeightChange:u,mode:p,setMode:m,modeShortcutText:g,isEditMode:f=!1,onCancel:x,sendMessageOnEnter:v=!0},N)=>{const{t:y}=oe(),{filePaths:w,openedTabs:b,currentApiConfigName:k,listApiConfigMeta:_,customModes:j,customModePrompts:T,cwd:S,pinnedApiConfigs:I,togglePinnedApiConfig:E,localWorkflows:M,globalWorkflows:R,taskHistoryVersion:C,clineMessages:q,ghostServiceSettings:B,language:U,experiments:te,speechToTextStatus:Q}=Ge(),O=h.useMemo(()=>_?_.filter($=>$.profileType!=="autocomplete"):[],[_]),{currentConfigId:F,displayName:W}=h.useMemo(()=>{const $=O==null?void 0:O.find(be=>be.name===k);return{currentConfigId:($==null?void 0:$.id)||"",displayName:k||""}},[O,k]),[re,H]=h.useState([]),[Z,Y]=h.useState(!1),[G,ie]=h.useState([]),[D,me]=h.useState(300),xe=h.useRef(null);h.useEffect(()=>{if(!xe.current||typeof ResizeObserver>"u")return;const $=new ResizeObserver(be=>{for(const Ie of be){const Ae=Ie.contentRect.width;me(Ae)}});return $.observe(xe.current),()=>{$.disconnect()}},[]);const[we,Pe]=h.useState(!1),[Ce,L]=h.useState("");h.useEffect(()=>{const $=()=>{Z&&Y(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[Z]),h.useEffect(()=>{const $=be=>{const Ie=be.data;if(Ie.type==="enhancedPrompt"){if(Ie.text&&qe.current)try{if(document.execCommand){const Ae=qe.current;Ae.focus(),Ae.select(),document.execCommand("insertText",!1,Ie.text)}else t(Ie.text)}catch{t(Ie.text)}Ms(!1)}else if(Ie.type==="commitSearchResults"){const Ae=Ie.commits.map(K=>({type:Ee.Git,value:K.hash,label:K.subject,description:`${K.shortHash} by ${K.author} on ${K.date}`,icon:"$(git-commit)"}));H(Ae)}else Ie.type==="fileSearchResults"?(Pe(!1),Ie.requestId===Ce&&ie(Ie.results||[])):Ie.type==="insertTextToChatArea"&&Ie.text&&(t(Ie.text),setTimeout(()=>{qe.current&&qe.current.focus()},0))};return window.addEventListener("message",$),()=>window.removeEventListener("message",$)},[t,Ce,e,c]);const[Se,X]=h.useState(!1),[$e,ut]=h.useState(!1),[V,ke]=h.useState(0),[Te,ft]=h.useState(""),pt=h.useRef(null),[Ct,Es]=h.useState(void 0),[Me,Je]=h.useState(!1),[_e,Ze]=h.useState(0),[_t,Zt]=h.useState(""),qe=h.useRef(null),[es,as]=h.useState(!1),it=h.useRef(null),{isRecording:Nt,segments:ns,volume:is,start:rt,stop:Kt}=IO({onComplete:$=>{if(it.current){const{beforeCursor:be,afterCursor:Ie}=it.current,Ae=be&&!be.endsWith(" ")?" ":"",K=be+Ae+$+Ie;t(K);const J=be.length+Ae.length+$.length;Ze(J),ct(J)}else t($);it.current=null},onError:$=>{console.error("STT error:",$),it.current=null}}),os=h.useMemo(()=>ns.map($=>$.text).join(" "),[ns]),se=h.useMemo(()=>{const $=[];let be=0;for(let Ie=0;Ie<ns.length;Ie++){const Ae=ns[Ie];Ae.isPreview&&$.push({start:be,end:be+Ae.text.length}),be+=Ae.text.length,Ie<ns.length-1&&(be+=1)}return $},[ns]);h.useEffect(()=>{var $;if(Nt&&!it.current){const be=(($=qe.current)==null?void 0:$.selectionStart)??e.length;it.current={beforeCursor:e.slice(0,be),afterCursor:e.slice(be),position:be}}},[Nt,e]);const Le=h.useMemo(()=>{if(Nt&&os&&it.current){const{beforeCursor:$,afterCursor:be}=it.current,Ie=$&&!$.endsWith(" ")?" ":"";return $+Ie+os+be}return e},[Nt,os,e]),et=Nt&&it.current?it.current.position+(it.current.beforeCursor&&!it.current.beforeCursor.endsWith(" ")?1:0):0,tt=h.useRef(null),Qe=h.useRef(!1),[ht,wt]=h.useState(-1),[Ht,Ot]=h.useState(null),[ts,lt]=h.useState(!1),[gs,ct]=h.useState(null),rr=h.useRef(null),[hr,Ms]=h.useState(!1),{ghostText:Bs,handleKeyDown:zs,handleInputChange:fr}=z4({textAreaRef:qe,enableChatAutocomplete:(B==null?void 0:B.enableChatAutocomplete)??!1}),[gr,Pr]=h.useState(null),{handleHistoryNavigation:Er,resetHistoryNavigation:sn,resetOnInputChange:xr}=TO({clineMessages:q,taskHistoryVersion:C,cwd:S,inputValue:e,setInputValue:t});h.useEffect(()=>{if(Ht===Ee.Git||/^[a-f0-9]+$/i.test(_t)){const $={type:"searchCommits",query:_t||""};A.postMessage($)}},[Ht,_t]);const vn=h.useCallback(()=>{const $=e.trim();$?(Ms(!0),A.postMessage({type:"enhancePrompt",text:$})):t(y("chat:enhancePromptDescription"))},[e,t,y]),ls=h.useCallback($=>{Pr($)},[Pr]),nr=h.useCallback(()=>{Pr(null)},[Pr]),bn=h.useCallback(()=>{Nt?Kt():rt(U||"en")},[Nt,rt,Kt,U]),rn=h.useRef(d);h.useEffect(()=>{!rn.current&&d&&a.length>0&&(i([]),ls("kilocode:imageWarnings.imagesRemovedNoSupport")),rn.current=d},[d,a.length,i,ls]);const ks=h.useMemo(()=>oo(j),[j]),js=h.useMemo(()=>[{type:Ee.Problems,value:"problems"},{type:Ee.Terminal,value:"terminal"},...re,...b.filter($=>$.path).map($=>({type:Ee.OpenedFile,value:"/"+$.path})),...w.map($=>"/"+$).filter($=>!b.some(be=>be.path&&"/"+be.path===$)).map($=>({type:$.endsWith("/")?Ee.Folder:Ee.File,value:$}))],[w,re,b]);h.useEffect(()=>{const $=be=>{rr.current&&!rr.current.contains(be.target)&&Je(!1)};return Me&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[Me,Je]);const Vs=h.useCallback(($,be)=>{if($===Ee.Image){if(Je(!1),Ot(null),qe.current){const Ie=qe.current.value.slice(0,_e),Ae=qe.current.value.slice(_e),K=Ie.lastIndexOf("@");if(K!==-1){const J=Ie.slice(0,K)+Ae;t(J)}}l();return}if($!==Ee.NoResults){if($===Ee.Mode&&be){m(be),t(""),Je(!1),A.postMessage({type:"mode",text:be});return}if(($===Ee.File||$===Ee.Folder||$===Ee.Git)&&!be){Ot($),Zt(""),wt(0);return}if(Je(!1),Ot(null),qe.current){let Ie=be||"";$===Ee.URL||$===Ee.File||$===Ee.Folder?Ie=be||"":$===Ee.Problems?Ie="problems":$===Ee.Terminal?Ie="terminal":$===Ee.Git&&(Ie=be||"");const{newValue:Ae,mentionIndex:K}=O4(qe.current.value,_e,Ie);t(Ae);const J=Ae.indexOf(" ",K+Ie.length)+1;Ze(J),ct(J),setTimeout(()=>{qe.current&&(qe.current.blur(),qe.current.focus())},0)}}},[t,_e]),As=h.useCallback($=>{if(ut(!1),oo(j).map(Ie=>Ie.slug).includes($.name)){m($.name),t(""),A.postMessage({type:"mode",text:$.name});return}if(qe.current){const{newValue:Ie,commandIndex:Ae}=AO(qe.current.value,$.name),K=Ie.indexOf(" ",Ae+1+$.name.length)+1;t(Ie),Ze(K),ct(K),setTimeout(()=>{qe.current&&(qe.current.blur(),qe.current.focus())},0)}},[t,m,j]),nn=h.useCallback($=>{var Ae,K;if($e){if($.key==="Escape"){ut(!1);return}if($.key==="ArrowUp"||$.key==="ArrowDown"){$.preventDefault(),ke(J=>{const ve=$.key==="ArrowUp"?-1:1,he=xf(Te,j,M,R);return he.length===0?J:(J+ve+he.length)%he.length});return}if(($.key==="Enter"||$.key==="Tab")&&V!==-1){$.preventDefault();const J=xf(Te,j,M,R);J.length>0&&As(J[V]);return}}if(Me){if($.key==="Escape"){Je(!1),Ot(null),wt(3);return}if($.key==="ArrowUp"||$.key==="ArrowDown"){$.preventDefault(),wt(J=>{const ve=$.key==="ArrowUp"?-1:1,he=gf(_t,Ht,js,G,ks);if(he.length===0)return J;const Ue=he.filter(Gt=>Gt.type!==Ee.URL&&Gt.type!==Ee.NoResults);if(Ue.length===0)return-1;const Vt=(Ue.findIndex(Gt=>Gt===he[J])+ve+Ue.length)%Ue.length;return he.findIndex(Gt=>Gt===Ue[Vt])});return}if(($.key==="Enter"||$.key==="Tab")&&ht!==-1){$.preventDefault();const J=gf(_t,Ht,js,G,ks)[ht];J&&J.type!==Ee.URL&&J.type!==Ee.NoResults&&Vs(J.type,J.value);return}}if(zs($))return;const be=((Ae=$.nativeEvent)==null?void 0:Ae.isComposing)??!1;if(!be&&$.key==="Enter"&&(v&&!$.shiftKey||!v&&$.shiftKey)){$.preventDefault();const J=e.trim();if(CO(J,t))return;sn(),c()}if(!Er($,Me,be)&&$.key==="Backspace"&&!be){const J=e[_e-1],ve=e[_e+1],he=J===" "||J===`
`||J===`\r
`,Ve=ve===" "||ve===`
`||ve===`\r
`;if(he&&e.slice(0,_e-1).match(new RegExp(Jg.source+"$"))){const Ue=_e-1;Ve||($.preventDefault(),(K=qe.current)==null||K.setSelectionRange(Ue,Ue),Ze(Ue)),Ze(Ue),lt(!0)}else if(ts){const{newText:Ue,newPosition:dt}=D4(e,_e);Ue!==e&&($.preventDefault(),t(Ue),ct(dt)),lt(!1),Je(!1)}else lt(!1)}},[$e,M,R,j,As,V,Te,zs,c,Me,_t,ht,Vs,Ht,e,_e,t,ts,js,ks,G,Er,sn,v]);h.useLayoutEffect(()=>{gs!==null&&qe.current&&(qe.current.setSelectionRange(gs,gs),ct(null))},[e,gs]);const z=h.useRef(null),ge=h.useCallback($=>{const be=$.target,Ie=be.value,Ae=be.selectionStart===be.selectionEnd&&be.selectionEnd===Ie.length;Qe.current=Ae,t(Ie),xr(),fr($);const K=be.selectionStart;Ze(K);let J=F4(Ie,K);const ve=EO(Ie,K);if(ve&&(J=!1),ut(ve),Je(J),ve){const he=Ie.indexOf("/"),Ve=Ie.slice(he+1,K);ft(Ve),ke(0)}else ft(""),ke(0);if(J){const he=Ie.lastIndexOf("@",K-1);if(Ie.startsWith("/")&&he===-1)Zt(Ie),wt(0);else{const Ve=Ie.slice(he+1,K);Zt(Ve),Ve.length>0?(wt(0),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{const Ue=Math.random().toString(36).substring(2,9);L(Ue),Pe(!0),A.postMessage({type:"searchFiles",query:E3(Ve),requestId:Ue})},200)):wt(-1)}}else Zt(""),wt(-1),ie([])},[t,L,ie,Pe,xr,fr]);h.useEffect(()=>{Me||Ot(null)},[Me]);const fe=h.useCallback(()=>{es||(Je(!1),ut(!1))},[es]),Oe=h.useCallback(async $=>{const be=$.clipboardData.items,Ie=$.clipboardData.getData("text");if(/^\S+:\/\/\S+$/.test(Ie.trim())){$.preventDefault();const ve=Ie.trim(),he=e.slice(0,_e)+ve+" "+e.slice(_e);t(he);const Ve=_e+ve.length+1;Ze(Ve),ct(Ve),Je(!1),setTimeout(()=>{qe.current&&(qe.current.blur(),qe.current.focus())},0);return}const K=["png","jpeg","webp"],J=Array.from(be).filter(ve=>{const[he,Ve]=ve.type.split("/");return he==="image"&&K.includes(Ve)});if(J.length>0){if($.preventDefault(),d){ls("kilocode:imageWarnings.modelNoImageSupport");return}if(a.length>=_o){ls("kilocode:imageWarnings.maxImagesReached");return}const ve=J.map(Ue=>new Promise(dt=>{const Vt=Ue.getAsFile();if(!Vt){dt(null);return}const Gt=new FileReader;Gt.onloadend=()=>{if(Gt.error)console.error(y("chat:errorReadingFile"),Gt.error),dt(null);else{const an=Gt.result;dt(typeof an=="string"?an:null)}},Gt.readAsDataURL(Vt)})),Ve=(await Promise.all(ve)).filter(Ue=>Ue!==null);Ve.length>0?i(Ue=>[...Ue,...Ve].slice(0,_o)):console.warn(y("chat:noValidImages"))}},[d,i,_e,t,e,y,a.length,ls]),nt=h.useCallback(()=>{as(!0)},[]),kt=h.useCallback(()=>{if(!qe.current||!tt.current)return;let $=qe.current.value;if($=$.replace(/\n$/,`

`).replace(/[<>&]/g,be=>({"<":"&lt;",">":"&gt;","&":"&amp;"})[be]||be).replace(Zg,'<mark class="mention-context-textarea-highlight">$&</mark>'),/^\s*\//.test($)){const be=$.indexOf("/"),Ie=$.indexOf(" ",be),Ae=Ie>-1?Ie:$.length,K=$.substring(be+1,Ae);if(AN(K,j)){const he=`<mark class="slash-command-match-textarea-highlight">${$.substring(be,Ae)}</mark>`;$=$.substring(0,be)+he+$.substring(Ae)}}if(Nt&&se.length>0&&it.current){const{beforeCursor:be}=it.current,Ie=be&&!be.endsWith(" ")?" ":"",Ae=be.length+Ie.length;for(let K=se.length-1;K>=0;K--){const J=se[K],ve=Ae+J.start,he=Ae+J.end,Ve=$.substring(0,ve),Ue=$.substring(ve,he),dt=$.substring(he);$=Ve+`<span class="stt-preview-text">${Ue}</span>`+dt}}e&&Bs&&($+=`<span class="text-vscode-editor-foreground opacity-60 pointer-events-none">${L4(Bs)}</span>`),tt.current.innerHTML=$,tt.current.scrollTop=qe.current.scrollTop,tt.current.scrollLeft=qe.current.scrollLeft},[j,Bs,e,Nt,se]);h.useLayoutEffect(()=>{if(kt(),!Qe.current||(Qe.current=!1,!qe.current))return;const $=requestAnimationFrame(()=>{qe.current&&(qe.current.scrollTop=qe.current.scrollHeight,kt())});return()=>cancelAnimationFrame($)},[e,os,kt]);const cs=h.useCallback(()=>{qe.current&&Ze(qe.current.selectionStart)},[]),Mt=h.useCallback($=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes($.key)&&cs()},[cs]),_s=h.useCallback(async $=>{$.preventDefault(),X(!1);const be=$.dataTransfer.getData("text"),Ie=$.dataTransfer.getData("application/vnd.code.uri-list"),Ae=be||Ie;if(Ae){const J=Ae.split(/\r?\n/).filter(ve=>ve.trim()!=="");if(J.length>0){let ve=e.slice(0,_e),he=0;for(let Ue=0;Ue<J.length;Ue++){const dt=J[Ue],Vt=R4(dt,S);ve+=Vt,he+=Vt.length,Ue<J.length-1&&(ve+=" ",he+=1)}ve+=" "+e.slice(_e),he+=1,t(ve);const Ve=_e+he;Ze(Ve),ct(Ve)}return}const K=Array.from($.dataTransfer.files);if(K.length>0){const J=["png","jpeg","webp"],ve=K.filter(he=>{const[Ve,Ue]=he.type.split("/");return Ve==="image"&&J.includes(Ue)});if(ve.length>0){if(d){ls("kilocode:imageWarnings.modelNoImageSupport");return}if(a.length>=_o){ls("kilocode:imageWarnings.maxImagesReached");return}const he=ve.map(dt=>new Promise(Vt=>{const Gt=new FileReader;Gt.onloadend=()=>{if(Gt.error)console.error(y("chat:errorReadingFile"),Gt.error),Vt(null);else{const an=Gt.result;Vt(typeof an=="string"?an:null)}},Gt.readAsDataURL(dt)})),Ue=(await Promise.all(he)).filter(dt=>dt!==null);Ue.length>0?(i(dt=>[...dt,...Ue].slice(0,_o)),typeof A<"u"&&A.postMessage({type:"draggedImages",dataUrls:Ue})):console.warn(y("chat:noValidImages"))}}},[_e,S,e,t,Ze,ct,d,i,y,a.length,ls]),[Gs,Mr]=h.useState(!1);tr("message",$=>{const be=$.data;be.type==="ttsStart"?Mr(!0):be.type==="ttsStop"&&Mr(!1)});const on=`
(${y("chat:addContext")}${d?`, ${y("chat:dragFiles")}`:`, ${y("chat:dragFilesImages")}`})`;h.useCallback($=>{m($),A.postMessage({type:"mode",text:$})},[m]),h.useMemo(()=>{const $=(O||[]).filter(Ae=>I&&I[Ae.id]).map(Ae=>({value:Ae.id,label:Ae.name,name:Ae.name,type:us.ITEM,pinned:!0})).sort((Ae,K)=>Ae.label.localeCompare(K.label)),be=(O||[]).filter(Ae=>!I||!I[Ae.id]).map(Ae=>({value:Ae.id,label:Ae.name,name:Ae.name,type:us.ITEM,pinned:!1})).sort((Ae,K)=>Ae.label.localeCompare(K.label)),Ie=$.length>0&&be.length>0;return[...$,...Ie?[{value:"sep-pinned",label:y("chat:separator"),type:us.SEPARATOR}]:[],...be,{value:"sep-2",label:y("chat:separator"),type:us.SEPARATOR},{value:"settingsButtonClicked",label:y("chat:edit"),type:us.ACTION}]},[O,I,y]),h.useCallback($=>{$==="settingsButtonClicked"?A.postMessage({type:"loadApiConfiguration",text:$,values:{section:"providers"}}):A.postMessage({type:"loadApiConfigurationById",text:$})},[]),h.useCallback(({type:$,value:be,label:Ie,pinned:Ae})=>{if($!==us.ITEM)return Ie;const K=O==null?void 0:O.find(ve=>ve.id===be),J=(K==null?void 0:K.name)===k;return s.jsxs("div",{className:"flex justify-between gap-2 w-full h-5",children:[s.jsx("div",{className:ee("truncate min-w-0 overflow-hidden",{"font-medium":J}),children:Ie}),s.jsxs("div",{className:"flex justify-end w-10 flex-shrink-0",children:[s.jsx("div",{className:ee("size-5 p-1",{"block group-hover:hidden":!Ae,hidden:!J}),children:s.jsx(Nr,{className:"size-3"})}),s.jsx(de,{content:y(Ae?"chat:unpin":"chat:pin"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:ve=>{ve.stopPropagation(),E(be),A.postMessage({type:"toggleApiConfigPin",text:be})},className:ee("size-5",{"hidden group-hover:flex":!Ae,"bg-accent":Ae}),children:s.jsx(t_,{className:"size-3 p-0.5 opacity-50"})})})]})]})},[O,k,y,E]);const go=()=>s.jsxs("div",{className:ee("relative","flex-1","flex","flex-col-reverse","min-h-0","overflow-hidden","rounded"),children:[s.jsx("div",{ref:tt,className:ee("absolute","inset-0","pointer-events-none","whitespace-pre-wrap","break-words","text-transparent","overflow-hidden","font-vscode-font-family","text-vscode-editor-font-size","leading-vscode-editor-line-height",Se?"border-2 border-dashed border-vscode-focusBorder":"border border-transparent",f?"pt-1.5 pb-10 px-2":"py-1.5 px-2","px-[8px]","pr-9","z-10","forced-color-adjust-none","pb-16"),style:{color:"transparent"}}),s.jsx(_I,{ref:$=>{typeof N=="function"?N($):N&&(N.current=$),qe.current=$},value:Le,onChange:$=>{Nt||(ge($),kt())},onKeyDown:$=>{var be;if(f&&$.key==="Escape"&&!((be=$.nativeEvent)!=null&&be.isComposing)){$.preventDefault(),x==null||x();return}nn($)},onKeyUp:Mt,onBlur:fe,onPaste:Oe,onSelect:cs,onMouseUp:cs,onHeightChange:$=>{(Ct===void 0||$<Ct)&&Es($),u==null||u($)},placeholder:`${o}
${on}`,minRows:3,maxRows:15,autoFocus:!0,style:{border:Nt?"1px solid var(--vscode-editorError-foreground)":"1px solid transparent"},className:ee("w-full","text-vscode-input-foreground","font-vscode-font-family","text-vscode-editor-font-size","leading-vscode-editor-line-height","cursor-text",f?"pt-1.5 pb-10 px-2":"py-1.5 px-2",Nt&&"focus:outline-0",Se?"bg-[color-mix(in_srgb,var(--vscode-input-background)_95%,var(--vscode-focusBorder))]":"bg-vscode-input-background","transition-background-color duration-150 ease-in-out","will-change-background-color","min-h-[90px]","box-border","rounded","resize-none","overflow-x-hidden","overflow-y-auto","pr-9","flex-none flex-grow","z-[2]","scrollbar-none","scrollbar-hide","pb-16"),onScroll:()=>kt()}),s.jsx("div",{className:"absolute bottom-[1px] left-2 right-2 h-16 bg-gradient-to-t from-[var(--vscode-input-background)] via-[var(--vscode-input-background)] to-transparent pointer-events-none z-[2]","aria-hidden":"true"}),s.jsx(SO,{textAreaRef:qe,cursorPosition:et,isVisible:Nt}),Gs&&s.jsx(de,{content:y("chat:stopTts"),children:s.jsx(ae,{variant:"ghost",size:"icon",className:"absolute top-0 right-0 opacity-25 hover:opacity-100 z-10",onClick:()=>A.postMessage({type:"stopTts"}),children:s.jsx(BR,{className:"size-4"})})}),s.jsx("div",{className:"absolute top-2 right-2 z-30",children:s.jsx(de,{content:y("chat:enhancePrompt"),children:s.jsx("button",{"aria-label":y("chat:enhancePrompt"),disabled:!1,onClick:vn,className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]","cursor-pointer"),children:s.jsx(qR,{className:ee("w-4 h-4",hr&&"animate-spin")})})})}),s.jsxs("div",{className:"absolute bottom-2 end-2 z-30 flex items-center gap-1",children:[Nt&&s.jsx(NO,{volume:is,isActive:Nt}),!f&&s.jsx(mO,{className:ee({hidden:D<235})}),s.jsx(de,{content:"Add Context (@)",children:s.jsx("button",{"aria-label":"Add Context (@)",disabled:Me,onClick:()=>{Me||!qe.current||(qe.current.focus(),t(`${e} @`),Je(!0),Zt(""),wt(4))},className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!Me&&"cursor-pointer",Me&&"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent"),children:s.jsx(mR,{className:ee("w-4","h-4",{hidden:D<235})})})}),f&&s.jsx(de,{content:y("chat:cancel.title"),children:s.jsx("button",{"aria-label":y("chat:cancel.title"),disabled:!1,onClick:x,className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]","cursor-pointer"),children:s.jsx(iR,{className:"w-4 h-4"})})}),(te==null?void 0:te.speechToText)&&s.jsx(hO,{isRecording:Nt,onClick:bn,disabled:!(Q!=null&&Q.available),tooltipContent:!(Q!=null&&Q.available)&&Q?Q.reason==="openaiKeyMissing"?y("kilocode:speechToText.unavailableOpenAiKeyMissing"):Q.reason==="ffmpegNotInstalled"?y("kilocode:speechToText.unavailableFfmpegNotInstalled"):y("kilocode:speechToText.unavailableBoth"):void 0}),e.trim()!==""&&s.jsx(de,{content:y("chat:sendMessage"),children:s.jsx("button",{"aria-label":y("chat:sendMessage"),disabled:r,onClick:r?void 0:c,className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!r&&"cursor-pointer",r&&"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent"),children:s.jsx(NI,{className:"w-4 h-4 rtl:-scale-x-100"})})})]}),!e&&s.jsx("div",{className:"absolute left-2 z-30 pr-9 flex items-center h-8",style:{bottom:"0.25rem",color:"var(--vscode-tab-inactiveForeground)",userSelect:"none",pointerEvents:"none"}})]});return s.jsxs("div",{className:ee("relative","flex","flex-col","gap-1","bg-editor-background",f?"px-0":"px-1.5","pb-1","outline-none","border","border-none",f?"w-full":"w-[calc(100%-16px)]","ml-auto","mr-auto","box-border"),children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:ee("chat-text-area","relative","flex","flex-col","outline-none"),onDrop:_s,onDragOver:$=>{if(!$.shiftKey){X(!1);return}$.preventDefault(),X(!0),$.dataTransfer.dropEffect="copy"},onDragLeave:$=>{$.preventDefault();const be=$.currentTarget.getBoundingClientRect();($.clientX<=be.left||$.clientX>=be.right||$.clientY<=be.top||$.clientY>=be.bottom)&&X(!1)},children:[s.jsx(eO,{messageKey:gr??"",onDismiss:nr,isVisible:!!gr}),$e&&s.jsx("div",{ref:pt,children:s.jsx(RO,{onSelect:As,selectedIndex:V,setSelectedIndex:ke,onMouseDown:nt,query:Te,customModes:j})}),Me&&s.jsx("div",{ref:rr,className:ee("absolute","bottom-full","left-0","right-0","z-[1000]","mb-2","filter","drop-shadow-md"),children:s.jsx(Z4,{onSelect:Vs,searchQuery:_t,inputValue:e,onMouseDown:nt,selectedIndex:ht,setSelectedIndex:wt,selectedType:Ht,queryItems:js,modes:ks,loading:we,dynamicSearchResults:G})}),go(),s.jsx("div",{style:{marginTop:"-38px",zIndex:10,paddingLeft:"8px",paddingRight:"8px",paddingBottom:f?"10px":"0"},ref:xe,className:ee("flex","justify-between","items-center","mt-auto"),children:s.jsxs("div",{className:ee("flex","items-center","gap-1","min-w-0"),children:[s.jsx("div",{className:"shrink-0",children:s.jsx(U4,{value:p,onChange:m,modeShortcutText:g,customModes:j})}),s.jsx(K4,{currentConfigId:F,currentApiConfigName:k,displayName:W,listApiConfigMeta:O,pinnedApiConfigs:I,togglePinnedApiConfig:E,selectApiConfigDisabled:n})]})})]})}),a.length>0&&s.jsx(ud,{images:a,setImages:i,style:{left:"16px",zIndex:2,marginTop:"14px",marginBottom:0}})]})}),OO=({commitRange:e})=>{const{t}=bt(),[r,n]=h.useState(!1),o=h.useCallback(()=>{A.postMessage({type:"seeNewChanges",payload:{commitRange:e}})},[e]),a=h.useCallback(()=>n(!0),[]),i=h.useCallback(()=>{A.postMessage({type:"checkpointRestore",payload:{mode:"restore",ts:e.fromTimeStamp??0,commitHash:e.from}})},[e]),c=h.useCallback(()=>n(!1),[]);return s.jsx("div",{className:"flex flex-horizontal gap-2 w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full mt-2 bg-red-500 text-white",disabled:!e.fromTimeStamp,onClick:i,children:t("kilocode:chat.confirmRevertChanges")}),s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",onClick:c,children:t("kilocode:chat.cancelRevertChanges")})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",onClick:o,children:t("kilocode:chat.seeNewChanges")}),s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",disabled:!e.fromTimeStamp,onClick:a,children:t("kilocode:chat.revertNewChanges")})]})})},DO=Hs.button`
	border: 1px solid red;
	cursor: pointer;
	padding: 0;
	border: 0;
	padding: 4px 4px 0;
	border-radius: 4px;

	&:hover {
		background: var(--vscode-button-secondaryBackground);
	}
`,FO=({onClick:e})=>s.jsx(DO,{onClick:e,children:s.jsx("span",{className:"codicon codicon-refresh"})}),vt=({href:e,children:t,appearance:r,...n})=>{const o=r==="primary"?"primary":r==="secondary"?"secondary":void 0;return s.jsx("a",{href:e,style:{textDecoration:"none",color:"inherit"},children:s.jsx(ae,{variant:o,...n,children:t})})},LO=Hs.div`
	display: flex;
	align-items: center;
	gap: 10px;
	margin-bottom: 10px;
`,BO=Hs.div`
	margin: 0;
	white-space: pre-wrap;
	word-break: break-word;
	overflow-wrap: anywhere;
`,zO=({message:e,isOrganization:t})=>{const{t:r}=bt();let n={title:"Error",message:"Payment required.",balance:"-?.??",buyCreditsUrl:""};try{n=JSON.parse(e.text??"{}")}catch(o){console.error("Failed to parse payment_required_prompt data:",o)}return s.jsxs(s.Fragment,{children:[s.jsxs(LO,{children:[s.jsx("span",{className:"text-blue-400",style:{marginBottom:"-1.5px"},children:"$"}),s.jsx("span",{style:{fontWeight:"bold"},children:n.title})]}),s.jsx(BO,{children:n.message}),s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3",style:{borderRadius:"4px",display:"flex",marginTop:"15px",padding:"14px 16px 22px",justifyContent:"center"},children:[s.jsxs("div",{className:"flex justify-between items-center",children:[r("kilocode:lowCreditWarning.lowBalance"),s.jsx(FO,{onClick:()=>{A.postMessage({type:"askResponse",askResponse:"retry_clicked",text:e.text})}})]}),s.jsx(xt,{className:"p-1 w-full rounded",onClick:o=>{o.preventDefault(),A.postMessage({type:"openInBrowser",url:n.buyCreditsUrl})},children:r("kilocode:lowCreditWarning.addCredit")}),!t&&s.jsx(vt,{onClick:()=>{Yt.capture(Ts.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"low-credit-warning"})},href:jr("/organizations/new"),appearance:"primary",className:"p-1 w-full rounded",children:r("kilocode:lowCreditWarning.newOrganization")})]})]})},qO=({context:e})=>{const{t}=bt();return s.jsxs("div",{className:"bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)] rounded-[3px] p-[14px] pb-[6px]",children:[s.jsx("span",{style:{fontWeight:"bold"},children:t("kilocode:newTaskPreview.task")}),s.jsx(pr,{markdown:e})]})},Qt={USER_INTERACTION:"bg-[color-mix(in_srgb,var(--vscode-editor-findMatchBackground)_50%,var(--vscode-errorForeground))]",SYSTEM_READ:"bg-[var(--vscode-textLink-foreground)]",SYSTEM_WRITE:"bg-[var(--vscode-focusBorder)]",SYSTEM_GENERAL_TOOL:"bg-[var(--vscode-activityBarBadge-background)]",SUCCESS:"bg-[var(--vscode-editorGutter-addedBackground)]",ERROR:"bg-[var(--vscode-errorForeground)]",ASSISTANT_MUTTERING:"bg-[var(--vscode-descriptionForeground)]",ASSISTANT_QUESTION:"bg-[color-mix(in_srgb,var(--vscode-editor-findMatchBackground)_60%,var(--vscode-foreground))]",GROUPED:"bg-[var(--vscode-textLink-activeForeground)]",DEFAULT:"bg-[var(--vscode-badge-background)]"},nx={"ask:tool":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.tool"},"ask:completion_result":{color:Qt.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.completion_result"},"ask:browser_action_launch":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action_launch"},"ask:use_mcp_server":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.use_mcp_server"},"ask:command":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.command"},"ask:followup":{color:Qt.ASSISTANT_QUESTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.followup"},"say:text":{color:Qt.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.text"},"say:reasoning":{color:Qt.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.reasoning"},"say:mcp_server_response":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.mcp_server_response"},"say:command_output":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.command_output"},"say:browser_action":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action"},"say:browser_action_result":{color:Qt.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action_result"},"say:completion_result":{color:Qt.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.completion_result"},"say:error":{color:Qt.ERROR,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.error"},"say:checkpoint_saved":{color:Qt.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.checkpoint_saved"},"say:condense_context":{color:Qt.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.condense_context"},"say:user_feedback":{color:Qt.USER_INTERACTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.user"},"say:user_feedback_diff":{color:Qt.USER_INTERACTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.user"},"ask:condense":{color:Qt.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.condense"}};function ox(e){return e.type==="ask"?`ask:${e.ask||"unknown"}`:e.type==="say"?`say:${e.say||"unknown"}`:"unknown"}function UO(e,t){const r=Array.isArray(e)?e[0]:e;if(!r)return t("kilocode:taskTimeline.tooltip.messageTypes.unknown");const n=ox(r),o=nx[n],a=o?o.translationKey:"kilocode:taskTimeline.tooltip.messageTypes.unknown";return t(a)}function KO(e){var t;if(e.ask==="tool"&&e.text)try{const n=((t=JSON.parse(e.text).tool)==null?void 0:t.toLowerCase())||"";if(n.includes("read_file")||n.includes("write_to_file")||n.includes("apply_diff"))return{isFile:!0,isWrite:n.includes("write")||n.includes("apply")||n.includes("insert")}}catch{console.error("Failed to parse message text JSON - cannot determine if message contained toolData",e)}return{isFile:!1,isWrite:!1}}function CN(e){if(Array.isArray(e))return Qt.GROUPED;const t=e,r=ox(t);if(t.type==="ask"){const o=KO(t);if(o.isFile)return o.isWrite?Qt.SYSTEM_WRITE:Qt.SYSTEM_READ}const n=nx[r];return n?n.color:Qt.DEFAULT}function WO(e){return ox(e)in nx}function $O({message:e}){const{hoveringTaskTimeline:t}=Ge();return s.jsx("div",{className:ee("absolute w-[4px] left-[4px] top-0 bottom-0  opacity-0 transition-opacity",CN(e),t&&"opacity-70")})}const hb=({fastApplyResult:e})=>{const[t,r]=h.useState(!1);return s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none p-2 bg-vscode-badge-background border border-vscode-editorGroup-border rounded-xs",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-rocket text-vscode-badge-foreground"}),s.jsx("span",{className:"font-medium text-vscode-badge-foreground",children:"Fast Apply"}),s.jsxs("div",{className:"flex items-center gap-1",children:[e.tokensIn&&s.jsxs("span",{className:"flex items-center gap-0.5 text-sm text-vscode-badge-foreground",children:[s.jsx("span",{className:"codicon codicon-arrow-up"}),yr(e.tokensIn)]}),e.tokensOut&&s.jsxs("span",{className:"flex items-center gap-0.5 text-sm text-vscode-badge-foreground",children:[s.jsx("span",{className:"codicon codicon-arrow-down"}),yr(e.tokensOut)]})]}),e.cost&&e.cost>0&&s.jsxs(uc,{children:["$",e.cost.toFixed(4)]})]}),s.jsx("span",{className:`codicon codicon-chevron-${t?"up":"down"} text-vscode-badge-foreground`})]}),t&&s.jsx("div",{className:"mt-1 p-3 bg-vscode-editor-background border-l border-r border-b border-vscode-editorGroup-border rounded-b-xs",children:s.jsx(pr,{markdown:e.description||""})})]})},HO=({className:e,origin:t,modelId:r})=>{const{t:n}=oe();return s.jsx(vt,{href:"https://kilo.love/continueforfree",appearance:"primary",className:e,onClick:()=>{Yt.capture(Ts.FREE_MODELS_LINK_CLICKED,{modelId:r,origin:t})},children:n("kilocode:pricing.freeModelsLink")})},pd=({provider:e})=>{switch(e){case"openrouter":return"openRouterModelId";case"requesty":return"requestyModelId";case"glama":return"glamaModelId";case"unbound":return"unboundModelId";case"litellm":return"litellmModelId";case"openai":return"openAiModelId";case"ollama":return"ollamaModelId";case"lmstudio":return"lmStudioModelId";case"vscode-lm":return"vsCodeLmModelSelector";case"kilocode":return"kilocodeModel";case"ovhcloud":return"ovhCloudAiEndpointsModelId";case"nano-gpt":return"nanoGptModelId";default:return"apiModelId"}},ON=({provider:e,apiConfiguration:t,defaultModelId:r})=>{const n=pd({provider:e});switch(e){case"vscode-lm":return t!=null&&t.vsCodeLmModelSelector?`${t.vsCodeLmModelSelector.vendor}/${t.vsCodeLmModelSelector.family}`:r;default:return(t==null?void 0:t[n])??r}},VO={models:Cc,defaultModel:Ui},GO=({provider:e,routerModels:t,kilocodeDefaultModel:r,options:n={isChina:!1}})=>{switch(e){case"openrouter":return{models:t.openrouter,defaultModel:Ki};case"requesty":return{models:t.requesty,defaultModel:Yc};case"glama":return{models:t.glama,defaultModel:Vc};case"unbound":return{models:t.unbound,defaultModel:Xc};case"litellm":return{models:t.litellm,defaultModel:Ti};case"xai":return{models:jg,defaultModel:kg};case"groq":return{models:dg,defaultModel:cg};case"chutes":return{models:t.chutes,defaultModel:Kc};case"cerebras":return{models:tg,defaultModel:eg};case"bedrock":return{models:Lf,defaultModel:Cf};case"vertex":return{models:wg,defaultModel:yg};case"gemini":return{models:t.gemini&&Object.keys(t.gemini).length>0?t.gemini:Qj,defaultModel:Fa};case"deepseek":return{models:rg,defaultModel:sg};case"openai-native":return{models:fg,defaultModel:Jj};case"mistral":return{models:ug,defaultModel:Qc};case"openai":return{models:{},defaultModel:""};case"ollama":return{models:t.ollama,defaultModel:""};case"lmstudio":return{models:t.lmstudio,defaultModel:""};case"vscode-lm":return{models:Zj,defaultModel:qh};case"kilocode":return{models:t.kilocode,defaultModel:r};case"claude-code":return{models:Of,defaultModel:Mf};case"qwen-code":return{models:xg,defaultModel:gg};case"gemini-cli":return{models:lg,defaultModel:Fa};case"anthropic":return{models:Cc,defaultModel:Ui};case"doubao":return{models:Ff,defaultModel:Rf};case"fireworks":return{models:ig,defaultModel:ag};case"synthetic":return{models:t.synthetic,defaultModel:$c};case"ovhcloud":return{models:t.ovhcloud,defaultModel:Wc};case"inception":return{models:t.inception,defaultModel:Hc};case"sap-ai-core":return{models:t["sap-ai-core"],defaultModel:""};case"io-intelligence":return{models:t["io-intelligence"],defaultModel:Gc};case"moonshot":return{models:mg,defaultModel:pg};case"sambanova":return{models:bg,defaultModel:vg};case"featherless":return{models:ng,defaultModel:og};case"deepinfra":return{models:t.deepinfra,defaultModel:Jc};case"nano-gpt":return{models:t["nano-gpt"],defaultModel:hg};case"minimax":return{models:Df,defaultModel:Af};case"baseten":return{models:Jf,defaultModel:Zf};case"zai":return n.isChina?{models:e1,defaultModel:Tg}:{models:Sg,defaultModel:Ng};default:return{models:{},defaultModel:""}}},QO=(e,t)=>{switch(e){case"zai":return{isChina:(t==null?void 0:t.zaiApiLine)==="china_coding"};default:return{}}},ax=e=>{const t=(e==null?void 0:e.apiProvider)||"anthropic",{kilocodeDefaultModel:r}=Ge(),n=Qi({openRouterBaseUrl:e==null?void 0:e.openRouterBaseUrl,openRouterApiKey:e==null?void 0:e.apiKey,kilocodeOrganizationId:(e==null?void 0:e.kilocodeOrganizationId)??"personal",chutesApiKey:e==null?void 0:e.chutesApiKey,geminiApiKey:e==null?void 0:e.geminiApiKey,googleGeminiBaseUrl:e==null?void 0:e.googleGeminiBaseUrl,nanoGptApiKey:e==null?void 0:e.nanoGptApiKey,nanoGptModelList:e==null?void 0:e.nanoGptModelList,syntheticApiKey:e==null?void 0:e.syntheticApiKey}),o=QO(t,e),{models:a,defaultModel:i}=e&&typeof n.data<"u"?GO({provider:t,routerModels:n.data,kilocodeDefaultModel:r,options:o}):VO;return{provider:t,providerModels:a,providerDefaultModel:i,isLoading:n.isLoading,isError:n.isError}},YO="KiloCode token + baseUrl is required to fetch models";function DN(e){var t,r;return!!(e&&e.status===404&&(((t=e.message)==null?void 0:t.indexOf("alpha period"))??-1)>=0&&(((r=e.message)==null?void 0:r.indexOf("has ended"))??-1)>=0)}function XO(e){var t;return!!(e&&e.status===404&&(((t=e.message)==null?void 0:t.indexOf("not allowed for your team"))??-1)>=0)}function JO(e){const t=(e==null?void 0:e.modelId)||"(unknown)";return DN(e==null?void 0:e.error)?Re.t("kilocode:invalidModel.alphaPeriodEnded",{model:t}):XO(e==null?void 0:e.error)?Re.t("kilocode:invalidModel.notAllowedForTeam",{model:t}):Re.t("kilocode:invalidModel.modelUnavailable",{model:t})}const ZO=({message:e,isLast:t})=>{var N;const{t:r}=bt(),{currentApiConfigName:n,apiConfiguration:o}=Ge(),{provider:a,providerModels:i,providerDefaultModel:c,isLoading:l}=ax(o),[d,u]=h.useState(!1),p=o?ON({provider:a,apiConfiguration:o,defaultModelId:c}):c,m=pd({provider:a}),g=dr(e.text),f=DN(g==null?void 0:g.error),v=!!!(p===c||g!=null&&g.modelId&&g.modelId!==p)&&!!o&&!!n&&c in i;return s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3 p-3 text-base",children:[s.jsx("div",{children:JO(g)}),t&&!l&&!d&&s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full",onClick:()=>{u(!0),v&&A.postMessage({type:"upsertApiConfiguration",text:n,apiConfiguration:{...o,[m]:c}}),A.postMessage({type:"askResponse",askResponse:"retry_clicked",text:e.text})},children:v?r("kilocode:invalidModel.continueWith",{model:((N=i[c])==null?void 0:N.displayName)??c}):r("kilocode:invalidModel.continue")}),f&&s.jsx(HO,{className:"w-full",origin:"invalid_model"})]})]})};function eD(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(1)} ${r[n]}`}const Tl=({ts:e})=>s.jsx("span",{className:"inline-flex items-end text-vscode-descriptionForeground font-normal",children:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});function tD(e,t){const r=e.slice().reverse().findIndex(n=>{if(n.ts>=t)return!1;if(n.type==="ask"&&n.ask==="tool")try{return JSON.parse(n.text||"{}").tool==="updateTodoList"}catch{return!1}return!1});if(r!==-1){const n=e.slice().reverse()[r];try{return JSON.parse(n.text||"{}").todos||[]}catch{return[]}}return[]}const sD=h.memo(e=>{const{highlighted:t}=e,{showTaskTimeline:r}=Ge(),{isLast:n,onHeightChange:o,message:a}=e,i=h.useRef(0),[c,{height:l}]=YI(s.jsxs("div",{className:ee(`px-[15px] py-[10px] pr-[6px] relative ${t?"animate-message-highlight":""}`),children:[r&&s.jsx($O,{message:a}),s.jsx(rD,{...e})]}));return h.useEffect(()=>{const d=i.current===0;n&&l!==0&&l!==1/0&&l!==i.current&&(d||o(l>i.current),i.current=l)},[l,n,o,a]),c},gj),rD=({message:e,lastModifiedMessage:t,isExpanded:r,isLast:n,isStreaming:o,onToggleExpand:a,onSuggestionClick:i,onFollowUpUnmount:c,onBatchFileResponse:l,enableCheckpoints:d,isFollowUpAnswered:u,isFollowUpAutoApprovalPaused:p})=>{var V,ke,Te,ft,pt,Ct,Es;const{t:m,i18n:g}=bt(),{mcpServers:f,alwaysAllowMcp:x,currentCheckpoint:v,mode:N,apiConfiguration:y,clineMessages:w,showTimestamps:b}=Ge(),{info:k}=lo(y),[_,j]=h.useState(!1),[T,S]=h.useState(""),[I,E]=h.useState(N||"code"),[M,R]=h.useState([]);h.useEffect(()=>{const Me=Je=>{const _e=Je.data;_e.type==="selectedImages"&&_e.context==="edit"&&_e.messageTs===e.ts&&_&&R(Ze=>i1(Ze,_e.images,_o))};return window.addEventListener("message",Me),()=>window.removeEventListener("message",Me)},[_,e.ts]);const C=h.useCallback(()=>{a(e.ts)},[a,e.ts]),q=h.useCallback(()=>{j(!0),S(e.text||""),R(e.images||[]),E(N||"code")},[e.text,e.images,N]),B=h.useCallback(()=>{j(!1),S(e.text||""),R(e.images||[]),E(N||"code")},[e.text,e.images,N]),U=h.useCallback(()=>{j(!1),A.postMessage({type:"submitEditedMessage",value:e.ts,editedMessageContent:T,images:M})},[e.ts,T,M]),te=h.useCallback(()=>{A.postMessage({type:"selectImages",context:"edit",messageTs:e.ts})},[e.ts]),[Q,O,F,W,re]=h.useMemo(()=>{if(e.text!==null&&e.text!==void 0&&e.say==="api_req_started"){const Me=dr(e.text);return[Me==null?void 0:Me.cost,Me==null?void 0:Me.usageMissing,Me==null?void 0:Me.inferenceProvider,Me==null?void 0:Me.cancelReason,Me==null?void 0:Me.streamingFailedMessage]}return[void 0,void 0,void 0]},[e.text,e.say]),{hideCostBelowThreshold:H}=Ge(),Z=h.useMemo(()=>Q==null||Q<=0?!1:r?!0:Q>=(H??0),[Q,r,H]),Y=n&&(t==null?void 0:t.ask)==="api_req_failed"?t==null?void 0:t.text:void 0,G=n&&(t==null?void 0:t.ask)==="command"&&((V=t==null?void 0:t.text)==null?void 0:V.includes(Sh)),ie=n&&(t==null?void 0:t.say)==="mcp_server_request_started",D=e.type==="ask"?e.ask:e.say,me="var(--vscode-foreground)",xe="var(--vscode-errorForeground)",we="var(--vscode-charts-green)",Pe="var(--vscode-descriptionForeground)",[Ce,L]=h.useMemo(()=>{switch(D){case"error":case"mistake_limit_reached":return[null,null];case"command":return[G?s.jsx(ql,{}):s.jsx($f,{className:"size-4","aria-label":"Terminal icon"}),s.jsx("span",{style:{color:me,fontWeight:"bold"},children:m("chat:commandExecution.running")})];case"use_mcp_server":const Me=dr(e.text);return Me===void 0?[null,null]:[ie?s.jsx(ql,{}):s.jsx("span",{className:"codicon codicon-server",style:{color:me,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:me,fontWeight:"bold"},children:Me.type==="use_mcp_tool"?m("chat:mcp.wantsToUseTool",{serverName:Me.serverName}):m("chat:mcp.wantsToAccessResource",{serverName:Me.serverName})})];case"completion_result":return[s.jsx("span",{className:"codicon codicon-check",style:{color:we,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:we,fontWeight:"bold"},children:m("chat:taskCompleted")})];case"api_req_retry_delayed":return[];case"api_req_started":const Je=(_e,Ze)=>s.jsx("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:`codicon codicon-${_e}`,style:{color:Ze,fontSize:16,marginBottom:"-1.5px"}})});return[W!=null?W==="user_cancelled"?Je("error",Pe):Je("error",xe):Q!=null?Je("arrow-swap",me):Y?Je("error",xe):s.jsx(ql,{}),W!=null?W==="user_cancelled"?s.jsx("span",{style:{color:me,fontWeight:"bold"},children:m("chat:apiRequest.cancelled")}):s.jsx("span",{style:{color:xe,fontWeight:"bold"},children:m("chat:apiRequest.streamingFailed")}):Q!=null?s.jsx(de,{content:F&&`Inference Provider: ${F}`,children:s.jsx("span",{style:{color:me},children:m("chat:apiRequest.title")})}):Y?s.jsx("span",{style:{color:xe},children:m("chat:apiRequest.failed")}):s.jsx("span",{style:{color:me},children:m("chat:apiRequest.streaming")})];case"followup":return[s.jsx(SI,{className:"w-4 shrink-0","aria-label":"Question icon"}),s.jsx("span",{style:{color:me,fontWeight:"bold"},children:m("chat:questions.hasQuestion")})];default:return[null,null]}},[D,G,e,ie,W,Q,Y,m,F]),Se={display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",wordBreak:"break-word"},X=h.useMemo(()=>e.ask==="tool"?dr(e.text):null,[e.ask,e.text]),$e=h.useMemo(()=>{if(X)return X.content??X.diff},[X]),ut=h.useMemo(()=>e.type==="ask"&&e.ask==="followup"&&!e.partial?dr(e.text):null,[e.type,e.ask,e.partial,e.text]);if(X){const Me=Je=>s.jsx("span",{className:`codicon codicon-${Je}`,style:{color:"var(--vscode-foreground)",marginBottom:"-1.5px"}});switch(X.tool){case"editedExistingFile":case"appliedDiff":return e.type==="ask"&&X.batchDiffs&&Array.isArray(X.batchDiffs)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(LA,{className:"w-4 shrink-0","aria-label":"Batch diff icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:fileOperations.wantsToApplyBatchChanges")})]}),s.jsx(hN,{files:X.batchDiffs,ts:e.ts})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[X.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):Me(X.tool==="appliedDiff"?"diff":"edit"),s.jsx("span",{style:{fontWeight:"bold"},children:X.isProtected?m("chat:fileOperations.wantsToEditProtected"):X.isOutsideWorkspace?m("chat:fileOperations.wantsToEditOutsideWorkspace"):m("chat:fileOperations.wantsToEdit")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(pn,{path:X.path,code:$e??X.content??X.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:X.diffStats}),X.fastApplyResult&&s.jsx(hb,{fastApplyResult:X.fastApplyResult})]})]});case"insertContent":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[X.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):Me("insert"),s.jsx("span",{style:{fontWeight:"bold"},children:X.isProtected?m("chat:fileOperations.wantsToEditProtected"):X.isOutsideWorkspace?m("chat:fileOperations.wantsToEditOutsideWorkspace"):X.lineNumber===0?m("chat:fileOperations.wantsToInsertAtEnd"):m("chat:fileOperations.wantsToInsertWithLineNumber",{lineNumber:X.lineNumber})})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{path:X.path,code:$e??X.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:X.diffStats})})]});case"searchAndReplace":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[X.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):Me("replace"),s.jsx("span",{style:{fontWeight:"bold"},children:X.isProtected&&e.type==="ask"?m("chat:fileOperations.wantsToEditProtected"):e.type==="ask"?m("chat:fileOperations.wantsToSearchReplace"):m("chat:fileOperations.didSearchReplace")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{path:X.path,code:$e??X.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:X.diffStats})})]});case"codebaseSearch":return s.jsxs("div",{style:Se,children:[Me("search"),s.jsx("span",{style:{fontWeight:"bold"},children:X.path?s.jsx(je,{i18nKey:"chat:codebaseSearch.wantsToSearchWithPath",components:{code:s.jsx("code",{})},values:{query:X.query,path:X.path}}):s.jsx(je,{i18nKey:"chat:codebaseSearch.wantsToSearch",components:{code:s.jsx("code",{})},values:{query:X.query}})})]});case"updateTodoList":{const _e=X.todos||[],Ze=tD(w,e.ts);return s.jsx(h3,{previousTodos:Ze,newTodos:_e})}case"newFileCreated":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[X.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):Me("new-file"),s.jsx("span",{style:{fontWeight:"bold"},children:X.isProtected?m("chat:fileOperations.wantsToEditProtected"):m("chat:fileOperations.wantsToCreate")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(pn,{path:X.path,code:$e??"",language:"diff",isLoading:e.partial,isExpanded:r,onToggleExpand:C,onJumpToFile:()=>A.postMessage({type:"openFile",text:"./"+X.path}),diffStats:X.diffStats}),X.fastApplyResult&&s.jsx(hb,{fastApplyResult:X.fastApplyResult})]})]});case"deleteFile":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(Ii,{className:"w-4 shrink-0","aria-label":"Delete icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:X.stats?m("chat:fileOperations.wantsToDeleteDirectory"):m("chat:fileOperations.wantsToDelete")})]}),s.jsx("div",{className:"pl-6",children:s.jsxs(so,{children:[s.jsxs(ro,{className:"group",children:[((ke=X.path)==null?void 0:ke.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:Qg(X.path??"")+""})]}),X.stats&&X.stats.isComplete===!0&&s.jsx("div",{className:"py-1.5 text-xs text-vscode-descriptionForeground",style:{borderTop:"1px solid var(--vscode-editorGroup-border)"},children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:X.stats.directories})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:X.stats.files})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:eD(X.stats.size)})]})]})})]})})]});case"readFile":return e.type==="ask"&&X.batchFiles&&Array.isArray(X.batchFiles)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(CA,{className:"w-4 shrink-0","aria-label":"View files icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:fileOperations.wantsToReadMultiple")})]}),s.jsx(mN,{files:X.batchFiles||[],onPermissionResponse:_e=>{l==null||l(_e)},ts:e==null?void 0:e.ts})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(DA,{className:"w-4 shrink-0","aria-label":"Read file icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?X.isOutsideWorkspace?m("chat:fileOperations.wantsToReadOutsideWorkspace"):X.additionalFileCount&&X.additionalFileCount>0?m("chat:fileOperations.wantsToReadAndXMore",{count:X.additionalFileCount}):m("chat:fileOperations.wantsToRead"):m("chat:fileOperations.didRead")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(so,{children:s.jsxs(ro,{className:"group",onClick:()=>A.postMessage({type:"openFile",text:X.content}),children:[((Te=X.path)==null?void 0:Te.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(kc,{content:za(X.path,X.reason),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:za(X.path,X.reason)})}),s.jsx("div",{style:{flexGrow:1}}),s.jsx(SR,{className:"w-4 shrink-0 codicon codicon-link-external opacity-0 group-hover:opacity-100 transition-opacity",style:{fontSize:13.5,margin:"1px 0"}})]})})})]});case"fetchInstructions":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Me("file-code"),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:instructions.wantsToFetch")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{code:X.content,language:"markdown",isLoading:e.partial,isExpanded:r,onToggleExpand:C})})]});case"listFilesTopLevel":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(sR,{className:"w-4 shrink-0","aria-label":"List files icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?X.isOutsideWorkspace?m("chat:directoryOperations.wantsToViewTopLevelOutsideWorkspace"):m("chat:directoryOperations.wantsToViewTopLevel"):X.isOutsideWorkspace?m("chat:directoryOperations.didViewTopLevelOutsideWorkspace"):m("chat:directoryOperations.didViewTopLevel")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{path:X.path,code:X.content,language:"shell-session",isExpanded:r,onToggleExpand:C})})]});case"listFilesRecursive":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx(HA,{className:"w-4 shrink-0","aria-label":"Folder tree icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?X.isOutsideWorkspace?m("chat:directoryOperations.wantsToViewRecursiveOutsideWorkspace"):m("chat:directoryOperations.wantsToViewRecursive"):X.isOutsideWorkspace?m("chat:directoryOperations.didViewRecursiveOutsideWorkspace"):m("chat:directoryOperations.didViewRecursive")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{path:X.path,code:X.content,language:"shellsession",isExpanded:r,onToggleExpand:C})})]});case"searchFiles":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Me("search"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?s.jsx(je,{i18nKey:X.isOutsideWorkspace?"chat:directoryOperations.wantsToSearchOutsideWorkspace":"chat:directoryOperations.wantsToSearch",components:{code:s.jsx("code",{className:"font-medium",children:X.regex})},values:{regex:X.regex}}):s.jsx(je,{i18nKey:X.isOutsideWorkspace?"chat:directoryOperations.didSearchOutsideWorkspace":"chat:directoryOperations.didSearch",components:{code:s.jsx("code",{className:"font-medium",children:X.regex})},values:{regex:X.regex}})})]}),s.jsx("div",{className:"pl-6",children:s.jsx(pn,{path:X.path+(X.filePattern?`/(${X.filePattern})`:""),code:X.content,language:"shellsession",isExpanded:r,onToggleExpand:C})})]});case"switchMode":return s.jsx(s.Fragment,{children:s.jsxs("div",{style:Se,children:[s.jsx(vR,{className:"w-4 shrink-0","aria-label":"Switch mode icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?s.jsx(s.Fragment,{children:X.reason?s.jsx(je,{i18nKey:"chat:modes.wantsToSwitchWithReason",components:{code:s.jsx("code",{className:"font-medium",children:X.mode})},values:{mode:X.mode,reason:X.reason}}):s.jsx(je,{i18nKey:"chat:modes.wantsToSwitch",components:{code:s.jsx("code",{className:"font-medium",children:X.mode})},values:{mode:X.mode}})}):s.jsx(s.Fragment,{children:X.reason?s.jsx(je,{i18nKey:"chat:modes.didSwitchWithReason",components:{code:s.jsx("code",{className:"font-medium",children:X.mode})},values:{mode:X.mode,reason:X.reason}}):s.jsx(je,{i18nKey:"chat:modes.didSwitch",components:{code:s.jsx("code",{className:"font-medium",children:X.mode})},values:{mode:X.mode}})})})]})});case"newTask":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Me("tasklist"),s.jsx("span",{style:{fontWeight:"bold"},children:s.jsx(je,{i18nKey:"chat:subtasks.wantsToCreate",components:{code:s.jsx("code",{children:X.mode})},values:{mode:X.mode}})})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-badge-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"4px 4px 0 0",overflow:"hidden",marginBottom:"2px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-arrow-right"}),m("chat:subtasks.newTaskContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(pr,{markdown:X.content})})]})]});case"finishTask":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Me("check-all"),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:subtasks.wantsToFinish")})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"4px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-check"}),m("chat:subtasks.completionContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(pr,{markdown:m("chat:subtasks.completionInstructions")})})]})]});case"runSlashCommand":{const _e=X;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Me("play"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?m("chat:slashCommand.wantsToRun"):m("chat:slashCommand.didRun")})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-editorGroup-border)",borderRadius:"4px",overflow:"hidden",cursor:"pointer"},onClick:C,children:[s.jsxs(ro,{className:"group",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("span",{style:{fontWeight:"500",fontSize:"var(--vscode-font-size)"},children:["/",_e.command]}),_e.source&&s.jsx(uc,{style:{fontSize:"calc(var(--vscode-font-size) - 2px)"},children:_e.source})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"} opacity-0 group-hover:opacity-100 transition-opacity duration-200`})]}),r&&(_e.args||_e.description)&&s.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid var(--vscode-editorGroup-border)",display:"flex",flexDirection:"column",gap:"8px"},children:[_e.args&&s.jsxs("div",{children:[s.jsx("span",{style:{fontWeight:"500"},children:"Arguments: "}),s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)"},children:_e.args})]}),_e.description&&s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)"},children:_e.description})]})]})]})}case"generateImage":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[X.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):Me("file-media"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?X.isProtected?m("chat:fileOperations.wantsToGenerateImageProtected"):X.isOutsideWorkspace?m("chat:fileOperations.wantsToGenerateImageOutsideWorkspace"):m("chat:fileOperations.wantsToGenerateImage"):m("chat:fileOperations.didGenerateImage")})]}),e.type==="ask"&&s.jsx("div",{className:"pl-6",children:s.jsx(so,{children:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"mb-2 break-words",children:X.content}),s.jsx("div",{className:"flex items-center gap-1 text-xs text-vscode-descriptionForeground",children:X.path})]})})})]});default:return null}}switch(e.type){case"say":switch(e.say){case"diff_error":return s.jsx(oi,{type:"diff_error",message:e.text||"",expandable:!0,showCopyButton:!0});case"subtask_result":return s.jsx("div",{children:s.jsxs("div",{style:{marginTop:"0px",backgroundColor:"var(--vscode-badge-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"0 0 4px 4px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-arrow-left"}),m("chat:subtasks.resultContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(pr,{markdown:e.text})})]})});case"reasoning":return s.jsx(N3,{content:e.text||"",ts:e.ts,isStreaming:o,isLast:n});case"api_req_started":const Me=W===void 0&&Y===void 0&&Q===void 0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`group text-sm transition-opacity ${Me?"opacity-100":"opacity-40 hover:opacity-100"}`,style:{...Se,marginBottom:Q==null&&Y||re?10:0,justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexGrow:1},children:[Ce,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexGrow:1},children:[L,b&&s.jsx(Tl,{ts:e.ts})]})]}),s.jsxs("div",{className:"text-xs text-vscode-dropdown-foreground border-vscode-dropdown-border/50 border px-1.5 py-0.5 rounded-lg",style:{opacity:Z?1:0},children:["$",(ft=Number(Q||0))==null?void 0:ft.toFixed(4)]}),!Q&&O&&s.jsx(de,{content:m("kilocode:pricing.costUnknownDescription"),children:s.jsxs("div",{className:"flex items-center text-xs text-vscode-dropdown-foreground border-vscode-dropdown-border/50 border px-1.5 py-0.5 rounded-lg whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-warning pr-1"}),m("kilocode:pricing.costUnknown")]})})]}),(Q==null&&Y||re)&&s.jsx(oi,{type:"api_failure",message:Y||re||"",docsURL:Y!=null&&Y.toLowerCase().includes("powershell")?"https://github.com/cline/cline/wiki/TroubleShooting-%E2%80%90-%22PowerShell-is-not-recognized-as-an-internal-or-external-command%22":void 0})]});case"api_req_retry_delayed":let Je=m("chat:apiRequest.failed"),_e,Ze,_t,Zt;if(e.text!==void 0){const rt=parseInt(e.text.substring(0,3));if(!isNaN(rt)&&rt>=400){_t=rt;const se=`chat:apiRequest.errorMessage.${_t}`;g.exists(se)?Je=m(se):(Je=m("chat:apiRequest.errorMessage.unknown"),Zt="https://kilo.ai/support")}else e.text.indexOf("Connection error")===0?Je=m("chat:apiRequest.errorMessage.connection"):Je=e.text;const Kt=e.text.match(/<retry_timer>(.*?)<\/retry_timer>/),os=Kt&&Kt[1]?parseInt(Kt[1],10):0;Ze=e.text.replace(/<retry_timer>(.*?)<\/retry_timer>/,"").trim(),_e=os>0&&s.jsxs("p",{className:ee("mt-2 font-light text-xs  text-vscode-descriptionForeground cursor-default flex items-center gap-1 transition-all duration-1000",os===0?"opacity-0 max-h-0":"max-h-2 opacity-100"),children:[s.jsx(yR,{className:"size-3",strokeWidth:1.5}),s.jsxs("span",{children:[os,"s"]})]})}return s.jsx(oi,{type:"api_req_retry_delayed",code:_t,message:Je,docsURL:Zt,additionalContent:_e,errorDetails:Ze});case"api_req_finished":return null;case"text":return s.jsxs("div",{children:[s.jsxs("div",{style:Se,children:[s.jsx(II,{className:"w-4 shrink-0","aria-label":"Speech bubble icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:text.rooSaid")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(Wn,{markdown:e.text,partial:e.partial}),e.images&&e.images.length>0&&s.jsx("div",{style:{marginTop:"10px"},children:e.images.map((rt,Kt)=>s.jsx(Hv,{imageData:rt},Kt))})]})]});case"user_feedback":return s.jsxs("div",{className:"group",children:[s.jsxs("div",{style:Se,children:[s.jsx(TI,{className:"w-4 shrink-0","aria-label":"User icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:feedback.youSaid")})]}),s.jsxs("div",{className:ee("ml-6 border rounded-sm whitespace-pre-wrap",_?"overflow-visible":"overflow-hidden",_?"bg-vscode-editor-background text-vscode-editor-foreground":"cursor-text p-1 bg-vscode-editor-foreground/70 text-vscode-editor-background"),children:[_?s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(RN,{inputValue:T,setInputValue:S,sendingDisabled:!1,selectApiConfigDisabled:!0,placeholderText:m("chat:editMessage.placeholder"),selectedImages:M,setSelectedImages:R,onSend:U,onSelectImages:te,shouldDisableImages:!(k!=null&&k.supportsImages),mode:I,setMode:E,modeShortcutText:"",isEditMode:!0,onCancel:B})}):s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"flex-grow px-2 py-1 wrap-anywhere rounded-lg transition-colors",onClick:rt=>{rt.stopPropagation(),o||q()},title:m("chat:queuedMessages.clickToEdit"),children:s.jsx(pN,{text:e.text,withShadow:!0})}),s.jsxs("div",{className:"flex gap-2 pr-1",children:[s.jsx("div",{className:"cursor-pointer shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{visibility:o?"hidden":"visible"},onClick:rt=>{rt.stopPropagation(),q()},children:s.jsx(o_,{className:"w-4 shrink-0","aria-label":"Edit message icon"})}),s.jsx("div",{className:"cursor-pointer shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{visibility:o?"hidden":"visible"},onClick:rt=>{rt.stopPropagation(),A.postMessage({type:"deleteMessage",value:e.ts})},children:s.jsx(Ii,{className:"w-4 shrink-0","aria-label":"Delete message icon"})})]})]}),!_&&e.images&&e.images.length>0&&s.jsx(ud,{images:e.images,style:{marginTop:"8px"}})]})]});case"user_feedback_diff":const qe=dr(e.text);return s.jsx("div",{style:{marginTop:-10,width:"100%"},children:s.jsx(pn,{code:qe==null?void 0:qe.diff,language:"diff",isFeedback:!0,isExpanded:r,onToggleExpand:C})});case"error":const es=(y==null?void 0:y.apiProvider)==="kilocode"&&((pt=e.text)==null?void 0:pt.includes(YO));return s.jsx(oi,{type:"error",message:m("chat:error"),errorDetails:e.text||void 0,showLoginButton:es,onLoginClick:es?()=>{A.postMessage({type:"switchTab",tab:"auth",values:{returnTo:"chat"}})}:void 0});case"completion_result":const as=(Es=(Ct=e.metadata)==null?void 0:Ct.kiloCode)==null?void 0:Es.commitRange;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Ce,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[L,b&&s.jsx(Tl,{ts:e.ts})]})]}),s.jsx("div",{className:"border-l border-green-600/30 ml-2 pl-4 pb-1",children:s.jsx(Wn,{markdown:e.text})}),!e.partial&&d!==!1&&as?s.jsx(OO,{commitRange:as}):s.jsx(s.Fragment,{})]});case"shell_integration_warning":return s.jsx(e4,{});case"checkpoint_saved":return s.jsx(R3,{ts:e.ts,commitHash:e.text,currentHash:v,checkpoint:e.checkpoint});case"condense_context":return e.partial?s.jsx(rb,{eventType:"condense_context"}):e.contextCondense?s.jsx(r4,{data:e.contextCondense}):null;case"condense_context_error":return s.jsx(n4,{errorText:e.text});case"sliding_window_truncation":return e.partial?s.jsx(rb,{eventType:"sliding_window_truncation"}):e.contextTruncation?s.jsx(o4,{data:e.contextTruncation}):null;case"codebase_search_result":let it=null;try{e.text&&(it=JSON.parse(e.text))}catch(rt){console.error("Failed to parse codebaseSearch content:",rt)}if(it&&!(it!=null&&it.content))return console.error("Invalid codebaseSearch content structure:",it.content),s.jsx("div",{children:"Error displaying search results."});const{results:Nt=[]}=(it==null?void 0:it.content)||{};return s.jsx(i4,{results:Nt});case"user_edit_todos":return s.jsx(p3,{userEdited:!0,onChange:()=>{}});case"tool":const ns=dr(e.text);if(!ns)return null;switch(ns.tool){case"runSlashCommand":{const rt=ns;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx("span",{className:"codicon codicon-terminal-cmd",style:{color:"var(--vscode-foreground)",marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:slashCommand.didRun")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(so,{children:s.jsxs(ro,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[s.jsxs("span",{style:{fontWeight:"500",fontSize:"var(--vscode-font-size)"},children:["/",rt.command]}),rt.args&&s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"var(--vscode-font-size)"},children:rt.args})]}),rt.description&&s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"calc(var(--vscode-font-size) - 1px)"},children:rt.description}),rt.source&&s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:s.jsx(uc,{style:{fontSize:"calc(var(--vscode-font-size) - 2px)"},children:rt.source})})]})})})]})}default:return null}case"image":const is=dr(e.text||"{}");return is?s.jsx("div",{style:{marginTop:"10px"},children:s.jsx(Hv,{imageUri:is.imageUri,imagePath:is.imagePath})}):null;case"browser_action":return null;case"browser_action_result":return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:Se,children:[Ce,L]}),s.jsxs("div",{style:{paddingTop:10},children:[s.jsx("div",{style:{color:"var(--vscode-errorForeground)",fontFamily:"monospace",fontSize:"12px",padding:"8px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-editorError-border)",borderRadius:"4px",marginBottom:"8px"},children:" Browser action result not properly grouped - this is a bug in the message grouping logic"}),s.jsx(Wn,{markdown:e.text,partial:e.partial})]})]});default:return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:Se,children:[Ce,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexGrow:1},children:[L,b&&s.jsx(Tl,{ts:e.ts})]})]}),s.jsx("div",{style:{paddingTop:10},children:s.jsx(Wn,{markdown:e.text,partial:e.partial})})]})}case"ask":switch(e.ask){case"mistake_limit_reached":return s.jsx(oi,{type:"mistake_limit",message:e.text||""});case"command":return s.jsx(fN,{executionId:e.ts.toString(),text:e.text,icon:Ce,title:L});case"use_mcp_server":const Me=dr(e.text,{}),{response:Je,..._e}=Me,Ze={..._e,response:Je};if(!Ze)return null;const _t=f.find(Zt=>Zt.name===Ze.serverName);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[Ce,L]}),s.jsxs("div",{className:"w-full bg-vscode-editor-background border border-vscode-border rounded-xs p-2 mt-2",children:[Ze.type==="access_mcp_resource"&&s.jsx(uN,{item:{...u5(Ze.uri||"",_t==null?void 0:_t.resources,_t==null?void 0:_t.resourceTemplates)||{name:"",mimeType:"",description:""},uri:Ze.uri||""}}),Ze.type==="use_mcp_tool"&&s.jsx(gN,{executionId:e.ts.toString(),text:Ze.arguments!=="{}"?Ze.arguments:void 0,serverName:Ze.serverName,toolName:Ze.toolName,isArguments:!0,server:_t,useMcpServer:Ze,alwaysAllowMcp:x})]})]});case"completion_result":return e.text?s.jsxs("div",{children:[s.jsxs("div",{style:Se,children:[Ce,L]}),s.jsx("div",{style:{color:"var(--vscode-charts-green)",paddingTop:10},children:s.jsx(Wn,{markdown:e.text,partial:e.partial})})]}):null;case"followup":return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:Se,children:[Ce,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[L,b&&s.jsx(Tl,{ts:e.ts})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-6",children:[s.jsx(Wn,{markdown:e.partial===!0?e==null?void 0:e.text:ut==null?void 0:ut.question}),s.jsx(D3,{suggestions:ut==null?void 0:ut.suggest,onSuggestionClick:i,ts:e==null?void 0:e.ts,onCancelAutoApproval:c,isAnswered:u,isFollowUpAutoApprovalPaused:p})]})]});case"condense":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx("span",{className:"codicon codicon-new-file",style:{color:me,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:me,fontWeight:"bold"},children:m("kilocode:chat.condense.wantsToCondense")})]}),s.jsx(qO,{context:e.text||""})]});case"payment_required_prompt":return s.jsx(zO,{message:e,isOrganization:!!y.kilocodeOrganizationId});case"invalid_model":return s.jsx(ZO,{message:e,isLast:n});case"report_bug":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:Se,children:[s.jsx("span",{className:"codicon codicon-new-file",style:{color:me,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:me,fontWeight:"bold"},children:"KiloCode wants to create a Github issue:"})]}),s.jsx(t4,{data:e.text||""})]});case"auto_approval_max_req_reached":return s.jsx(s4,{message:e});default:return null}}},nD=({model:e,settings:t})=>!!e.requiredReasoningBudget||!!e.supportsReasoningBudget&&!!(t!=null&&t.enableReasoningEffort),Yl=16384,oD=8192,aD=128,fb=({modelId:e,model:t,settings:r,format:n})=>{if((r==null?void 0:r.apiProvider)==="claude-code")return r.claudeCodeMaxOutputTokens||nT;if(nD({model:t,settings:r}))return(r==null?void 0:r.modelMaxTokens)||Yl;if((e.includes("claude")||n==="anthropic"||n==="openrouter"&&e.startsWith("anthropic/"))&&(!t.maxTokens||t.maxTokens===0))return wh;if(t.maxTokens)return e.toLowerCase().includes("gpt-5")?t.maxTokens:Math.min(t.maxTokens,Math.ceil(t.contextWindow*.2));if(!n)return wh},FN=({taskId:e,...t})=>{const{t:r}=oe(),[n]=KI("Enter"),{data:o}=V_([e]),{onOpenChange:a}=t,i=o==null?void 0:o.find(d=>d.id===e),c=i==null?void 0:i.isFavorited,l=h.useCallback(()=>{e&&(A.postMessage({type:"deleteTaskWithId",text:e}),a==null||a(!1))},[e,a]);return h.useEffect(()=>{e&&n&&l()},[e,n,l]),s.jsx(Hr,{...t,children:s.jsxs(Vr,{onEscapeKeyDown:()=>a==null?void 0:a(!1),children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:r("history:deleteTask")}),s.jsxs(Xr,{children:[c?s.jsx("div",{className:"text-yellow-500 mb-2",children:r("history:deleteTaskFavoritedWarning")}):null,r("history:deleteTaskMessage")]})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{asChild:!0,children:s.jsx(ae,{variant:"secondary",children:r("history:cancel")})}),s.jsx(Sr,{asChild:!0,children:s.jsx(ae,{variant:"destructive",onClick:l,children:r("history:delete")})})]})]})})},Hn=h.forwardRef(({icon:e,title:t,className:r,disabled:n,tooltip:o=!0,isLoading:a,onClick:i,style:c,...l},d)=>{const u=e;return s.jsx(de,{content:o?t:void 0,children:s.jsx(ae,{ref:d,"aria-label":t,className:ee("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-full","text-vscode-foreground opacity-85","transition-all duration-150","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!n&&"cursor-pointer hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)]",n&&"cursor-not-allowed opacity-40 hover:bg-transparent active:bg-transparent",r),disabled:n,onClick:n?void 0:i,style:{fontSize:16.5,...c},...l,children:a?s.jsx(PI,{className:"size-2.5 animate-spin"}):s.jsx(u,{className:"size-2.5"})})})});Hn.displayName="LucideIconButton";const gb=({item:e,buttonsDisabled:t})=>{const[r,n]=h.useState(null),{t:o}=bt(),{copyWithFeedback:a}=Va(),{debug:i}=Ge();return s.jsxs("div",{className:"flex flex-row items-center -ml-0.5 mt-1 gap-1",children:[s.jsx(Hn,{icon:Dg,title:o("chat:task.export"),onClick:()=>A.postMessage({type:"exportCurrentTask"})}),(e==null?void 0:e.task)&&s.jsx(Hn,{icon:Uf,title:o("history:copyPrompt"),onClick:c=>a(e.task,c)}),!!(e!=null&&e.size)&&e.size>0&&s.jsxs(s.Fragment,{children:[s.jsx(Hn,{icon:Ii,title:o("chat:task.delete"),disabled:t,onClick:c=>{c.stopPropagation(),c.shiftKey?A.postMessage({type:"deleteTaskWithId",text:e.id}):n(e.id)}}),r&&s.jsx(FN,{taskId:r,onOpenChange:c=>!c&&n(null),open:!0})]}),i&&(e==null?void 0:e.id)&&s.jsxs(s.Fragment,{children:[s.jsx(Hn,{icon:zA,title:o("chat:task.openApiHistory"),onClick:()=>A.postMessage({type:"openDebugApiHistory"})}),s.jsx(Hn,{icon:oR,title:o("chat:task.openUiHistory"),onClick:()=>A.postMessage({type:"openDebugUiHistory"})})]})]})},iD=(e={})=>{const{onAuthSuccess:t,autoOpenOnAuth:r=!1}=e,[n,o]=h.useState(!1),[a,i]=h.useState(!1),{cloudIsAuthenticated:c,sharingEnabled:l}=Ge(),d=h.useRef(!1),u=h.useRef(!1);h.useEffect(()=>{!c||!l?d.current=!0:d.current&&c&&l&&(u.current&&(Yt.capture(Ts.ACCOUNT_CONNECT_SUCCESS),o(!1),r&&a&&(t==null||t(),i(!1)),u.current=!1),d.current=!1)},[c,l,t,r,a]);const p=h.useCallback(()=>{o(!0)},[]),m=h.useCallback(()=>{o(!1),i(!1)},[]),g=h.useCallback(()=>{u.current=!0,i(!0),A.postMessage({type:"rooCloudSignIn"}),m()},[m]);return{isOpen:n,openUpsell:p,closeUpsell:m,handleConnect:g,isAuthenticated:c,sharingEnabled:l}},lD=()=>{const[e]=h.useState(()=>window.IMAGES_BASE_URI||"");return s.jsx("div",{className:"pb-4 forced-color-adjust-none group",children:s.jsx("div",{style:{backgroundColor:"var(--vscode-foreground)",WebkitMaskImage:`url('${e}/roo-logo.svg')`,WebkitMaskRepeat:"no-repeat",WebkitMaskSize:"contain",maskImage:`url('${e}/roo-logo.svg')`,maskRepeat:"no-repeat",maskSize:"contain"},className:"mx-auto group-hover:animate-bounce translate-y-0 transition-transform duration-500",children:s.jsx("img",{src:e+"/roo-logo.svg",alt:"Roo logo",className:"h-8 opacity-0"})})})},cD=e=>s.jsxs("div",{className:"text-left cursor-default",children:[s.jsx("div",{className:"w-15",children:s.jsx(lD,{})}),s.jsx("h1",{className:"text-xl font-bold text-vscode-foreground",children:e("cloud:cloudBenefitsTitle")}),s.jsx("div",{className:"text-lg",children:s.jsxs("ul",{className:"text-vscode-descriptionForeground space-y-2 my-8",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(bA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitProvider")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(i_,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitCloudAgents")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(wA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitTriggers")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kR,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitWalkaway")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(SA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitMetrics")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(UA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitHistory")]})]})})]}),dD=({open:e,onOpenChange:t,onConnect:r})=>{const{t:n}=bt();return s.jsx(Go,{open:e,onOpenChange:t,children:s.jsxs(Qo,{className:"max-w-sm",children:[s.jsx(Ya,{children:s.jsx(lI,{})}),s.jsxs("div",{className:"text-left space-y-6",children:[cD(n),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs(ae,{variant:"primary",onClick:r,className:"w-full",children:[n("cloud:connect"),s.jsx(Bf,{})]})})]})]})})},uD=({item:e,disabled:t=!1})=>{const[r,n]=h.useState(!1),[o,a]=h.useState(null),[i,c]=h.useState(!1),{t:l}=bt(),{cloudUserInfo:d}=Ge(),{isOpen:u,openUpsell:p,closeUpsell:m,handleConnect:g,isAuthenticated:f,sharingEnabled:x}=iD({onAuthSuccess:()=>{n(!0),c(!1)}});h.useEffect(()=>{i&&f&&(n(!0),c(!1))},[i,f]),h.useEffect(()=>{const k=_=>{const j=_.data;j.type==="shareTaskSuccess"&&(a({visibility:j.visibility,url:j.text}),setTimeout(()=>{a(null),n(!1)},5e3))};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[]);const v=k=>{a(null),k==="organization"?Yt.capture(Ts.SHARE_ORGANIZATION_CLICKED):Yt.capture(Ts.SHARE_PUBLIC_CLICKED),A.postMessage({type:"shareCurrentTask",visibility:k})},N=()=>{c(!0),g(),n(!1)},y=()=>{Yt.capture(Ts.SHARE_BUTTON_CLICKED),f?n(!0):(p(),Yt.capture(Ts.SHARE_CONNECT_TO_CLOUD_CLICKED))},b=f?x?{disabled:!1,title:l("chat:task.share"),showPopover:!0}:{disabled:!0,title:l("chat:task.sharingDisabledByOrganization"),showPopover:!1}:{disabled:!1,title:l("chat:task.share"),showPopover:!1};return!(e!=null&&e.id)||Math.random()<=1?null:s.jsxs(s.Fragment,{children:[b.showPopover?s.jsxs(En,{open:r,onOpenChange:n,children:[s.jsx(de,{content:b.title,children:s.jsx(ao,{asChild:!0,children:s.jsx(Hn,{icon:Hx,disabled:t||b.disabled,tooltip:!1,onClick:y,"data-testid":"share-button",title:l("chat:task.share")})})}),s.jsx(Mn,{className:"w-56 p-0",align:"start",children:o?s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{className:"codicon codicon-check"}),s.jsx("span",{children:o.visibility==="public"?l("chat:task.shareSuccessPublic"):l("chat:task.shareSuccessOrganization")})]})}):s.jsx(Wi,{children:s.jsx($i,{children:s.jsxs(Hi,{children:[(d==null?void 0:d.organizationName)&&s.jsx(zo,{onSelect:()=>v("organization"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-organization text-sm"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:l("chat:task.shareWithOrganization")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground",children:l("chat:task.shareWithOrganizationDescription")})]})]})}),s.jsx(zo,{onSelect:()=>v("public"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-globe text-sm"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:l("chat:task.sharePublicly")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground",children:l("chat:task.sharePubliclyDescription")})]})]})})]})})})})]}):s.jsx(Hn,{icon:Hx,disabled:t||b.disabled,title:b.title,onClick:y,"data-testid":"share-button"}),s.jsx(dD,{open:u,onOpenChange:m,onConnect:N})]})},pD=(e,t,r)=>{const n=Math.max(0,e),o=Math.max(0,t),a=r&&r>0&&r!==n?r:wh,i=Math.max(0,n-o-a),c=o+a+i;return c<=0?{currentPercent:0,reservedPercent:0,availablePercent:0,reservedForOutput:a,availableSize:i}:{currentPercent:o/c*100,reservedPercent:a/c*100,availablePercent:i/c*100,reservedForOutput:a,availableSize:i}};function mD({currentPercent:e}){const t=e>=50;return s.jsx("div",{className:ee("h-full w-full bg-[var(--vscode-foreground)] transition-width transition-color duration-300 ease-out",t&&"bg-[color-mix(in_srgb,var(--vscode-errorForeground)_60%,rgba(128,0,0,1))]")})}const xb=({contextWindow:e,contextTokens:t,maxTokens:r})=>{const{t:n}=bt(),o=h.useMemo(()=>pD(e,t,r),[e,t,r]),{currentPercent:a,reservedPercent:i,availableSize:c,reservedForOutput:l,availablePercent:d}=o,u=Math.max(0,e),p=Math.max(0,t),m=s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:n("chat:tokenProgress.tokensUsed",{used:yr(p),total:yr(u)})}),l>0&&s.jsx("div",{children:n("chat:tokenProgress.reservedForResponse",{amount:yr(l)})}),c>0&&s.jsx("div",{children:n("chat:tokenProgress.availableSpace",{amount:yr(c)})})]});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-1 whitespace-nowrap",children:[s.jsx("div",{"data-testid":"context-tokens-count",children:yr(p)}),s.jsx(de,{content:m,side:"top",sideOffset:8,children:s.jsx("div",{className:"flex-1 relative",children:s.jsxs("div",{className:"flex items-center h-1 rounded-[2px] overflow-hidden w-full bg-[color-mix(in_srgb,var(--vscode-foreground)_20%,transparent)]",children:[s.jsx("div",{className:"relative h-full",style:{width:`${a}%`},"data-testid":"context-tokens-used",children:s.jsx(mD,{currentPercent:a})}),s.jsx("div",{className:"relative h-full",style:{width:`${i}%`},"data-testid":"context-reserved-tokens",children:s.jsx("div",{className:"h-full w-full bg-[color-mix(in_srgb,var(--vscode-foreground)_30%,transparent)] transition-width duration-300 ease-out"})}),d>0&&s.jsx("div",{className:"relative h-full",style:{width:`${d}%`},"data-testid":"context-available-space-section"})]})})}),s.jsx("div",{"data-testid":"context-window-size",children:yr(u)})]})})};function hD(e,t,r){return Math.max(t,Math.min(e,r))}const Fs={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function vb(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function bb(e,t,r,n=.15){return n===0?hD(e,t,r):e<t?-vb(t-e,r-t,n)+t:e>r?+vb(e-r,r-t,n)+r:e}function fD(e,[t,r],[n,o]){const[[a,i],[c,l]]=e;return[bb(t,a,i,n),bb(r,c,l,o)]}function gD(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xD(e){var t=gD(e,"string");return typeof t=="symbol"?t:String(t)}function Ys(e,t,r){return t=xD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const LN={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function wb(e){return e?e[0].toUpperCase()+e.slice(1):""}const vD=["enter","leave"];function bD(e=!1,t){return e&&!vD.includes(t)}function yD(e,t="",r=!1){const n=LN[e],o=n&&n[t]||t;return"on"+wb(e)+wb(o)+(bD(r,o)?"Capture":"")}const wD=["gotpointercapture","lostpointercapture"];function kD(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const n=wD.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(n);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:r}}function jD(e,t=""){const r=LN[e],n=r&&r[t]||t;return e+n}function md(e){return"touches"in e}function BN(e){return md(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function _D(e){return Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,t.target))})}function ND(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function zN(e){return md(e)?ND(e)[0]:e}function SD(e){return _D(e).map(t=>t.identifier)}function Xd(e){const t=zN(e);return md(e)?t.identifier:t.pointerId}function kb(e){const t=zN(e);return[t.clientX,t.clientY]}function TD(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:o,ctrlKey:a}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:o,ctrlKey:a})}return t}function Nc(e,...t){return typeof e=="function"?e(...t):e}function ID(){}function PD(...e){return e.length===0?ID:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function jb(e,t){return Object.assign({},t,e||{})}const ED=32;class MD{constructor(t,r,n){this.ctrl=t,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:n,args:o}=this;r[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=n.from?Nc(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:n,shared:o}=this;r.args=this.args;let a=0;if(t&&(r.event=t,n.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,TD(t)),o.down=o.pressed=o.buttons%2===1||o.touches>0,a=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const _=r._delta.map(Math.abs);Fs.addTo(r._distance,_)}this.axisIntent&&this.axisIntent(t);const[i,c]=r._movement,[l,d]=n.threshold,{_step:u,values:p}=r;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(i)>=l&&p[0]),u[1]===!1&&(u[1]=Math.abs(c)>=d&&p[1])):(u[0]===!1&&(u[0]=Math.abs(i)>=l&&Math.sign(i)*l),u[1]===!1&&(u[1]=Math.abs(c)>=d&&Math.sign(c)*d)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const m=[0,0];if(n.hasCustomTransform){const[_,j]=p;m[0]=u[0]!==!1?_-u[0]:0,m[1]=u[1]!==!1?j-u[1]:0}else m[0]=u[0]!==!1?i-u[0]:0,m[1]=u[1]!==!1?c-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(m);const g=r.offset,f=r._active&&!r._blocked||r.active;f&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=o[this.ingKey]=r._active,t&&(r.first&&("bounds"in n&&(r._bounds=Nc(n.bounds,r)),this.setup&&this.setup()),r.movement=m,this.computeOffset()));const[x,v]=r.offset,[[N,y],[w,b]]=r._bounds;r.overflow=[x<N?-1:x>y?1:0,v<w?-1:v>b?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const k=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=fD(r._bounds,r.offset,k),r.delta=Fs.sub(r.offset,g),this.computeMovement(),f&&(!r.last||a>ED)){r.delta=Fs.sub(r.offset,g);const _=r.delta.map(Math.abs);Fs.addTo(r.distance,_),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[_[0]/a,_[1]/a],r.timeDelta=a)}}emit(){const t=this.state,r=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const o=this.handler(Xt(Xt(Xt({},r),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function AD([e,t],r){const n=Math.abs(e),o=Math.abs(t);if(n>o&&n>r)return"x";if(o>n&&o>r)return"y"}class RD extends MD{constructor(...t){super(...t),Ys(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Fs.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Fs.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,n=this.config;if(!r.axis&&t){const o=typeof n.axisThreshold=="object"?n.axisThreshold[BN(t)]:n.axisThreshold;r.axis=AD(r._movement,o)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const CD=e=>e,_b=.15,qN={enabled(e=!0){return e},eventOptions(e,t,r){return Xt(Xt({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[_b,_b];case!1:return[0,0];default:return Fs.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return Fs.toVector(e)},transform(e,t,r){const n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||CD},threshold(e){return Fs.toVector(e,0)}},OD=0,rl=Xt(Xt({},qN),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=OD){return e},bounds(e={}){if(typeof e=="function")return a=>rl.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:o=1/0}=e;return[[t,r],[n,o]]}}),Nb={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class DD extends RD{constructor(...t){super(...t),Ys(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),o={left:r.left-n.left+t.offset[0],right:r.right-n.right+t.offset[0],top:r.top-n.top+t.offset[1],bottom:r.bottom-n.bottom+t.offset[1]};t._bounds=rl.bounds(o)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,n=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const o=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(o&&o.size>1&&n._pointerActive)&&(this.start(t),this.setupPointer(t),n._pointerId=Xd(t),n._pointerActive=!0,this.computeValues(kb(t)),this.computeInitial(),r.preventScrollAxis&&BN(t)!=="mouse"?(n._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,n=this.config;if(!r._pointerActive)return;const o=Xd(t);if(r._pointerId!==void 0&&o!==r._pointerId)return;const a=kb(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=Fs.sub(a,r._values),this.computeValues(a)),Fs.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;const o=Xd(t);if(r._pointerId!==void 0&&o!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,i]=r._distance;if(r.tap=a<=n.tapsThreshold&&i<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{const[c,l]=r._delta,[d,u]=r._movement,[p,m]=n.swipe.velocity,[g,f]=n.swipe.distance,x=n.swipe.duration;if(r.elapsedTime<x){const v=Math.abs(c/r.timeDelta),N=Math.abs(l/r.timeDelta);v>p&&Math.abs(d)>g&&(r.swipe[0]=Math.sign(c)),N>m&&Math.abs(u)>f&&(r.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,n=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,FD(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=Nb[t.key];if(r){const n=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=r(this.config.keyboardDisplacement,o),n._keyboardActive=!0,Fs.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Nb&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function FD(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const nl=typeof window<"u"&&window.document&&window.document.createElement;function UN(){return nl&&"ontouchstart"in window}function LD(){return UN()||nl&&window.navigator.maxTouchPoints>1}function BD(){return nl&&"onpointerdown"in window}function zD(){return nl&&"exitPointerLock"in window.document}function qD(){try{return"constructor"in GestureEvent}catch{return!1}}const wr={isBrowser:nl,gesture:qD(),touch:UN(),touchscreen:LD(),pointer:BD(),pointerLock:zD()},UD=250,KD=180,WD=.5,$D=50,HD=250,VD=10,Sb={mouse:0,touch:0,pen:8},GD=Xt(Xt({},rl),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:o=!1}={}}){return this.pointerLock=n&&wr.pointerLock,wr.touch&&r?"touch":this.pointerLock?"mouse":wr.pointer&&!o?"pointer":wr.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?UD:void 0,!(!wr.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:o=!0}={}}){return this.pointerButtons=n,this.keys=o,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:o=void 0}){const a=Fs.toVector(e,r?n:o?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:e=WD,distance:t=$D,duration:r=HD}={}){return{velocity:this.transform(Fs.toVector(e)),distance:this.transform(Fs.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return KD;case!1:return 0;default:return e}},axisThreshold(e){return e?Xt(Xt({},Sb),e):Sb},keyboardDisplacement(e=VD){return e}});Xt(Xt({},qN),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!wr.touch&&wr.gesture)return"gesture";if(wr.touch&&n)return"touch";if(wr.touchscreen){if(wr.pointer)return"pointer";if(wr.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const o=i=>{const c=jb(Nc(r,i),{min:-1/0,max:1/0});return[c.min,c.max]},a=i=>{const c=jb(Nc(n,i),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof r!="function"&&typeof n!="function"?[o(),a()]:i=>[o(i),a(i)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",Fs.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Xt(Xt({},rl),{},{mouseOnly:(e=!0)=>e});Xt(Xt({},rl),{},{mouseOnly:(e=!0)=>e});const KN=new Map,vf=new Map;function QD(e){KN.set(e.key,e.engine),vf.set(e.key,e.resolver)}const YD={key:"drag",engine:DD,resolver:GD};function XD(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function JD(e,t){if(e==null)return{};var r=XD(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const ZD={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=wr.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},eF=["target","eventOptions","window","enabled","transform"];function Xl(e={},t){const r={};for(const[n,o]of Object.entries(t))switch(typeof o){case"function":r[n]=o.call(r,e[n],n,e);break;case"object":r[n]=Xl(e[n],o);break;case"boolean":o&&(r[n]=e[n]);break}return r}function tF(e,t,r={}){const n=e,{target:o,eventOptions:a,window:i,enabled:c,transform:l}=n,d=JD(n,eF);if(r.shared=Xl({target:o,eventOptions:a,window:i,enabled:c,transform:l},ZD),t){const u=vf.get(t);r[t]=Xl(Xt({shared:r.shared},d),u)}else for(const u in d){const p=vf.get(u);p&&(r[u]=Xl(Xt({shared:r.shared},d[u]),p))}return r}class WN{constructor(t,r){Ys(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,n,o,a){const i=this._listeners,c=jD(r,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=Xt(Xt({},l),a);t.addEventListener(c,o,d);const u=()=>{t.removeEventListener(c,o,d),i.delete(u)};return i.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class sF{constructor(){Ys(this,"_timeouts",new Map)}add(t,r,n=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(r,n,...o))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class rF{constructor(t){Ys(this,"gestures",new Set),Ys(this,"_targetEventStore",new WN(this)),Ys(this,"gestureEventStores",{}),Ys(this,"gestureTimeoutStores",{}),Ys(this,"handlers",{}),Ys(this,"config",{}),Ys(this,"pointerIds",new Set),Ys(this,"touchIds",new Set),Ys(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),nF(this,t)}setEventIds(t){if(md(t))return this.touchIds=new Set(SD(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=tF(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,n={};let o;if(!(r.target&&(o=r.target(),!o))){if(r.enabled){for(const i of this.gestures){const c=this.config[i],l=Tb(n,c.eventOptions,!!o);if(c.enabled){const d=KN.get(i);new d(this,t,i).bind(l)}}const a=Tb(n,r.eventOptions,!!o);for(const i in this.nativeHandlers)a(i,"",c=>this.nativeHandlers[i](Xt(Xt({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const a in n)n[a]=PD(...n[a]);if(!o)return n;for(const a in n){const{device:i,capture:c,passive:l}=kD(a);this._targetEventStore.add(o,i,"",n[a],{capture:c,passive:l})}}}}function sa(e,t){e.gestures.add(t),e.gestureEventStores[t]=new WN(e,t),e.gestureTimeoutStores[t]=new sF}function nF(e,t){t.drag&&sa(e,"drag"),t.wheel&&sa(e,"wheel"),t.scroll&&sa(e,"scroll"),t.move&&sa(e,"move"),t.pinch&&sa(e,"pinch"),t.hover&&sa(e,"hover")}const Tb=(e,t,r)=>(n,o,a,i={},c=!1)=>{var l,d;const u=(l=i.capture)!==null&&l!==void 0?l:t.capture,p=(d=i.passive)!==null&&d!==void 0?d:t.passive;let m=c?n:yD(n,o,u);r&&p&&(m+="Passive"),e[m]=e[m]||[],e[m].push(a)};function oF(e,t={},r,n){const o=He.useMemo(()=>new rF(e),[]);if(o.applyHandlers(e,n),o.applyConfig(t,r),He.useEffect(o.effect.bind(o)),He.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function aF(e,t){return QD(YD),oF({drag:e},t||{},"drag")}const Ri=26,$N=3e3,Jd=8,iF=32,Ib=8,lF=4;function cF(e){if(e.length===0)return[];const t=e.map((o,a)=>{const i=HN(o),c=dF(o,e[a+1]||null);return{contentLength:i,timingMs:c}}),{maxContentLength:r,maxTiming:n}=uF(t);return t.map(({contentLength:o,timingMs:a},i)=>{const c=Math.min(1,o/Math.max(1,r)),l=i===e.length-1?Jd:a??$N,d=Math.min(1,l/Math.max(1,n)),u=Jd+d*(iF-Jd),p=Ib+c*(Ri-Ib-lF);return{width:Math.round(u),height:Math.round(p),contentLength:o,timingMs:a}})}function HN(e){var r,n,o,a;if(Array.isArray(e))return e.reduce((i,c)=>i+HN(c),0);let t=0;return t+=((r=e.text)==null?void 0:r.length)??0,t+=((n=e.reasoning)==null?void 0:n.length)??0,t+=(((o=e.images)==null?void 0:o.length)??0)*100,t+=((a=e.contextCondense)==null?void 0:a.summary.length)??0,Math.max(1,t)}function dF(e,t){var o,a;if(!t)return null;const r=Array.isArray(e)?(o=e[0])==null?void 0:o.ts:e.ts,n=Array.isArray(t)?(a=t[0])==null?void 0:a.ts:t.ts;return!r||!n?null:Math.max(0,n-r)}function uF(e){const t=Math.max(...e.map(o=>o.contentLength)),r=e.map(o=>o.timingMs).filter(o=>o!==null),n=r.length>0?Math.max(...r):$N;return{maxContentLength:t,maxTiming:n}}function pF(e){if(e.length<=1)return{processedMessages:[],messageToOriginalIndex:new Map};const t=[],r=new Map;for(let c=1;c<e.length;c++){const l=e[c];Array.isArray(l)?l.forEach(d=>{t.push(d),r.set(d,c)}):(t.push(l),r.set(l,c))}const n=Ej(t),o=l1(n),a=new Map(r);return o.forEach(c=>{if(!a.has(c)){const l=t.find(d=>d.ts===c.ts);l&&r.has(l)&&a.set(c,r.get(l))}}),{processedMessages:o.filter(WO),messageToOriginalIndex:a}}const VN=h.memo(({data:e,activeIndex:t,onClick:r})=>{const{t:n}=bt(),o=UO(e.message,n),a=n("kilocode:taskTimeline.tooltip.clickToScroll",{messageType:o,messageNumber:e.index+1}),i=t===e.index,[c,l]=h.useState(!0);return h.useEffect(()=>{const d=setTimeout(()=>l(!1),1e3);return()=>clearTimeout(d)},[]),s.jsx("div",{className:"mr-0.5 relative overflow-hidden",style:{width:`${e.sizeData.width}px`,height:`${Ri}px`},children:s.jsxs(zc,{children:[s.jsx(qc,{asChild:!0,children:s.jsx("div",{className:ee("absolute bottom-0 left-0 right-0 cursor-pointer rounded-t-xs","transition-all duration-200 hover:opacity-70",c&&"animate-fade-in",i&&"animate-slow-pulse-delayed",e.color),style:{height:`${e.sizeData.height/Ri*100}%`},onClick:r})}),s.jsx(Uc,{children:a})]})})});VN.displayName="TaskTimelineMessageProps";const mF=25,hF=h.forwardRef(({style:e,children:t,className:r,...n},o)=>{const a=aF(({active:i,delta:[c]})=>{const l=o.current;l&&(l.scrollLeft-=c,i?(l.style.cursor="grabbing",l.style.userSelect="none"):(l.style.cursor="grab",l.style.userSelect="auto"))},{axis:"x",eventOptions:{passive:!1},filterTaps:!0,pointer:{capture:!0},touchAction:"pan-x"});return s.jsx("div",{...n,...a(),ref:o,className:`overflow-x-auto overflow-y-hidden touch-none cursor-grab ${r||""}`,style:e,onWheel:i=>{i.preventDefault(),o.current.scrollLeft+=i.deltaY},children:t})}),Sc=h.memo(({groupedMessages:e,onMessageClick:t,isTaskActive:r=!1})=>{const{setHoveringTaskTimeline:n}=Ge(),o=h.useRef(null),a=h.useRef(e.length),i=h.useCallback(()=>{n(!0)},[n]),c=h.useCallback(()=>{n(!1)},[n]),l=h.useMemo(()=>{const{processedMessages:p,messageToOriginalIndex:m}=pF(e),g=cF(p);return p.map((f,x)=>({index:m.get(f)||0,color:CN(f),message:f,sizeData:g[x]}))},[e]),d=r?e.length-1:-1,u=h.useCallback(p=>s.jsx(VN,{data:l[p],activeIndex:d,onClick:()=>t==null?void 0:t(l[p].index)}),[l,d,t]);return h.useEffect(()=>{var x;const p=e.length,m=a.current,g=p>m,f=m===0&&p>0;if(l.length>0&&(g||f)){const v=l.length-1,N=f?"auto":"smooth";(x=o.current)==null||x.scrollToIndex({index:v,align:"end",behavior:N})}a.current=p},[e.length,l.length]),s.jsx(Vi,{children:s.jsx("div",{className:"w-full px-2 overflow-hidden",style:{height:`${Ri}px`},onMouseEnter:i,onMouseLeave:c,children:s.jsx(Hf,{ref:o,data:l,components:{Scroller:hF},itemContent:u,horizontalDirection:!0,initialTopMostItemIndex:l.length-1,className:"w-full",style:{height:`${Ri+mF}px`}})})})});Sc.displayName="TaskTimeline";function fF(e){switch(e){case"completed":return s.jsx(Nr,{className:"size-3 mt-1 shrink-0"});case"in_progress":return s.jsx(Bf,{className:"size-3 mt-1 shrink-0"});default:return s.jsx(r_,{className:"size-3 mt-1 shrink-0"})}}function gF({todos:e}){const[t,r]=h.useState(!0),n=h.useRef(null),o=h.useRef([]),a=h.useMemo(()=>{const u=e.findIndex(p=>p.status==="in_progress");return u!==-1?u:e.findIndex(p=>p.status!=="completed")},[e]),i=h.useMemo(()=>{const u=e.find(p=>p.status==="in_progress");return u||e.find(p=>p.status!=="completed")},[e]);if(h.useEffect(()=>{if(t||!n.current||a===-1)return;const u=o.current[a];if(u&&n.current){const p=n.current,m=u.offsetTop-p.offsetTop,g=u.offsetHeight,f=p.clientHeight,x=m-(f/2-g/2);p.scrollTop=x}},[e,t,a]),!Array.isArray(e)||e.length===0)return null;const c=e.length,l=e.filter(u=>u.status==="completed").length,d=l===c&&c>0;return s.jsxs("div",{"data-todo-list":!0,className:"mt-1 -mx-2.5 border-t border-vscode-sideBar-background overflow-hidden",children:[s.jsxs("div",{className:ee("flex items-center gap-2 pt-2 px-2.5 cursor-pointer select-none",(i==null?void 0:i.status)==="in_progress"&&t?"text-vscode-charts-yellow":"text-vscode-foreground"),onClick:()=>r(u=>!u),children:[s.jsx(Z1,{className:"size-3 shrink-0"}),s.jsx("span",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap",children:t?d?br("chat:todo.complete",{total:l}):i==null?void 0:i.content:br("chat:todo.partial",{completed:l,total:c})}),t&&l<c&&s.jsxs("div",{className:"shrink-0 text-vscode-descriptionForeground text-xs",children:[l,"/",c]})]}),!t&&s.jsx("ul",{ref:n,className:"list-none max-h-[300px] overflow-y-auto mt-2 -mb-1 pb-0 px-2 cursor-default",children:e.map((u,p)=>{const m=fF(u.status);return s.jsxs("li",{ref:g=>o.current[p]=g,className:ee("font-light flex flex-row gap-2 items-start min-h-[20px] leading-normal mb-2",u.status==="in_progress"&&"text-vscode-charts-yellow",u.status!=="in_progress"&&u.status!=="completed"&&"opacity-60"),children:[m,s.jsx("span",{children:u.content})]},u.id||u.content)})})]})}const xF=({task:e,tokensIn:t,tokensOut:r,cacheWrites:n,cacheReads:o,totalCost:a,contextTokens:i,buttonsDisabled:c,handleCondenseContext:l,onClose:d,groupedMessages:u,onMessageClick:p,isTaskActive:m=!1,todos:g})=>{var R;const{t:f}=bt(),{showTaskTimeline:x}=Ge(),{apiConfiguration:v,currentTaskItem:N,customModes:y}=Ge(),{id:w,info:b}=lo(v),[k,_]=h.useState(!1),j=h.useRef(null),T=h.useRef(null),S=(b==null?void 0:b.contextWindow)||1,{width:I}=Vf(),E=s.jsx(de,{content:f("chat:task.condenseContext"),children:s.jsx("button",{disabled:c,onClick:()=>N&&l(N.id),className:"shrink-0 min-h-[20px] min-w-[20px] p-[2px] cursor-pointer disabled:cursor-not-allowed opacity-85 hover:opacity-100 bg-transparent border-none rounded-md",children:s.jsx(nd,{size:16})})}),M=g&&Array.isArray(g)&&g.length>0;return s.jsxs("div",{className:"py-2 px-3",children:[s.jsxs("div",{className:ee("p-2.5 flex flex-col relative z-1 border",M?"rounded-t-xs":"rounded-xs",k?"border-vscode-panel-border text-vscode-foreground":"border-vscode-panel-border/80 text-vscode-foreground/80"),children:[s.jsxs("div",{className:"flex justify-between items-center gap-2",children:[s.jsxs("div",{className:"flex items-center cursor-pointer -ml-0.5 select-none grow min-w-0",onClick:()=>_(!k),children:[s.jsx("div",{className:"flex items-center shrink-0",children:s.jsx("span",{className:`codicon codicon-chevron-${k?"down":"right"}`})}),s.jsxs("div",{className:"ml-1.5 whitespace-nowrap overflow-hidden text-ellipsis grow min-w-0",children:[s.jsxs("span",{className:"font-bold",children:[f("chat:task.title"),!k&&":"]}),!k&&s.jsx("span",{style:{marginLeft:4},children:Eb(e.text,!1,y)})]})]}),s.jsx(de,{content:f("chat:task.closeAndStart"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:d,className:"shrink-0 w-5 h-5",children:s.jsx("span",{className:"codicon codicon-close"})})})]}),!k&&S>0&&s.jsxs("div",{className:"w-full flex flex-col gap-1 h-auto",children:[x&&s.jsx(Sc,{groupedMessages:u,onMessageClick:p,isTaskActive:m}),s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(xb,{contextWindow:S,contextTokens:i||0,maxTokens:b?fb({modelId:w,model:b,settings:v}):void 0}),E,s.jsx(uD,{item:N,disabled:c}),!!a&&s.jsxs("span",{children:["$",a.toFixed(2)]})]})]}),k&&s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:j,className:"-mt-0.5 text-vscode-font-size overflow-y-auto break-words break-anywhere relative",children:s.jsx("div",{ref:T,className:"overflow-auto max-h-80 whitespace-pre-wrap break-words break-anywhere",style:{display:"-webkit-box",WebkitLineClamp:"unset",WebkitBoxOrient:"vertical"},children:Eb(e.text,!1,y)})}),e.images&&e.images.length>0&&s.jsx(ud,{images:e.images}),x&&s.jsx(Sc,{groupedMessages:u,onMessageClick:p,isTaskActive:m}),s.jsxs("div",{className:"flex flex-col gap-1",children:[k&&S>0&&s.jsxs("div",{className:`w-full flex ${I<400?"flex-col":"flex-row"} gap-1 h-auto`,children:[s.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:s.jsx("span",{className:"font-bold","data-testid":"context-window-label",children:f("chat:task.contextWindow")})}),s.jsx(xb,{contextWindow:S,contextTokens:i||0,maxTokens:b?fb({modelId:w,model:b,settings:v}):void 0}),E]}),s.jsxs("div",{className:"flex justify-between items-center h-[20px]",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.tokens")}),typeof t=="number"&&t>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx("i",{className:"codicon codicon-arrow-up text-xs font-bold"}),yr(t)]}),typeof r=="number"&&r>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx("i",{className:"codicon codicon-arrow-down text-xs font-bold"}),yr(r)]})]}),!a&&s.jsx(gb,{item:N,buttonsDisabled:c})]}),(typeof o=="number"&&o>0||typeof n=="number"&&n>0)&&s.jsxs("div",{className:"flex items-center gap-1 flex-wrap h-[20px]",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.cache")}),typeof n=="number"&&n>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx(EA,{size:16}),yr(n)]}),typeof o=="number"&&o>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx(IA,{size:16}),yr(o)]})]}),!!a&&s.jsxs("div",{className:"flex justify-between items-center h-[20px]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.apiCost")}),s.jsxs("span",{children:["$",a==null?void 0:a.toFixed(2)]})]}),s.jsx(gb,{item:N,buttonsDisabled:c})]})]})]})]}),s.jsx(gF,{todos:g??((R=e==null?void 0:e.tool)==null?void 0:R.todos)??[]})]})},vF=(e,t=!0,r)=>{const n=e.match(/^\s*\/([a-zA-Z0-9_-]+)(\s*|$)/);if(!n)return e;const o=n[1],a=AN(o,r);if(!a||a!=="full")return e;const i=n[0].length,c=e.substring(0,e.indexOf("/")),l=n[2]+e.substring(i);return[c,s.jsxs("span",{className:t?"mention-context-highlight-with-shadow":"mention-context-highlight",children:["/",o]},"slashCommand"),l]},Pb=(e,t=!0)=>e.split(Zg).map((n,o)=>o%2===0?n:s.jsxs("span",{className:t?"mention-context-highlight-with-shadow":"mention-context-highlight",style:{cursor:"pointer"},onClick:()=>A.postMessage({type:"openMention",text:n}),children:["@",n]},o)),Eb=(e,t=!0,r)=>{if(!e)return e;const n=vF(e,t,r);if(n===e)return Pb(n,t);if(Array.isArray(n)&&n.length===3){const[o,a,i]=n;return[o,a,...Pb(i,t)]}return[e]},bF=h.memo(xF),GN={alwaysAllowReadOnly:{key:"alwaysAllowReadOnly",labelKey:"settings:autoApprove.readOnly.label",descriptionKey:"settings:autoApprove.readOnly.description",icon:"eye",testId:"always-allow-readonly-toggle"},alwaysAllowWrite:{key:"alwaysAllowWrite",labelKey:"settings:autoApprove.write.label",descriptionKey:"settings:autoApprove.write.description",icon:"edit",testId:"always-allow-write-toggle"},alwaysAllowDelete:{key:"alwaysAllowDelete",labelKey:"settings:autoApprove.delete.label",descriptionKey:"settings:autoApprove.delete.description",icon:"trash",testId:"always-allow-delete-toggle"},alwaysAllowBrowser:{key:"alwaysAllowBrowser",labelKey:"settings:autoApprove.browser.label",descriptionKey:"settings:autoApprove.browser.description",icon:"globe",testId:"always-allow-browser-toggle"},alwaysApproveResubmit:{key:"alwaysApproveResubmit",labelKey:"settings:autoApprove.retry.label",descriptionKey:"settings:autoApprove.retry.description",icon:"refresh",testId:"always-approve-resubmit-toggle"},alwaysAllowMcp:{key:"alwaysAllowMcp",labelKey:"settings:autoApprove.mcp.label",descriptionKey:"settings:autoApprove.mcp.description",icon:"plug",testId:"always-allow-mcp-toggle"},alwaysAllowModeSwitch:{key:"alwaysAllowModeSwitch",labelKey:"settings:autoApprove.modeSwitch.label",descriptionKey:"settings:autoApprove.modeSwitch.description",icon:"sync",testId:"always-allow-mode-switch-toggle"},alwaysAllowSubtasks:{key:"alwaysAllowSubtasks",labelKey:"settings:autoApprove.subtasks.label",descriptionKey:"settings:autoApprove.subtasks.description",icon:"list-tree",testId:"always-allow-subtasks-toggle"},alwaysAllowExecute:{key:"alwaysAllowExecute",labelKey:"settings:autoApprove.execute.label",descriptionKey:"settings:autoApprove.execute.description",icon:"terminal",testId:"always-allow-execute-toggle"},alwaysAllowFollowupQuestions:{key:"alwaysAllowFollowupQuestions",labelKey:"settings:autoApprove.followupQuestions.label",descriptionKey:"settings:autoApprove.followupQuestions.description",icon:"question",testId:"always-allow-followup-questions-toggle"},alwaysAllowUpdateTodoList:{key:"alwaysAllowUpdateTodoList",labelKey:"settings:autoApprove.updateTodoList.label",descriptionKey:"settings:autoApprove.updateTodoList.description",icon:"checklist",testId:"always-allow-update-todo-list-toggle"}},QN=({onToggle:e,...t})=>{const{t:r}=oe();return s.jsx("div",{className:ee("flex flex-row flex-wrap gap-2 py-2"),children:Object.values(GN).map(({key:n,descriptionKey:o,labelKey:a,icon:i,testId:c})=>s.jsx(de,{content:r(o||""),children:s.jsxs(ae,{variant:t[n]?"primary":"secondary",onClick:()=>e(n,!t[n]),"aria-label":r(a),"aria-pressed":!!t[n],"data-testid":c,className:ee("gap-1.5 text-xs whitespace-nowrap",!t[n]&&"opacity-50"),children:[s.jsx("span",{className:`codicon codicon-${i} text-sm`}),s.jsx("span",{children:r(a)})]})},n))})};function yF(e,t){const{className:r,style:n,"data-testid":o,leftNodes:a,rightNodes:i,...c}=e,l=h.useRef(null),d=h.useCallback(g=>{var v,N,y;if(!g)return;const f=g,x=((N=(v=f.shadowRoot)==null?void 0:v.querySelector)==null?void 0:N.call(v,"input"))||((y=f.querySelector)==null?void 0:y.call(f,"input"));x&&x instanceof HTMLInputElement&&(l.current=x,typeof t=="function"?t==null||t(x):t&&(t.current=x))},[t]),u=h.useCallback(async()=>{l.current&&document.activeElement!==l.current&&setTimeout(()=>{var g;(g=l.current)==null||g.focus()})},[]),p=a&&a.filter(Boolean).length>0,m=i&&i.filter(Boolean).length>0;return s.jsxs("div",{className:ee("group","relative flex items-center cursor-text","bg-[var(--input-background)] text-[var(--input-foreground)]","rounded-[calc(var(--corner-radius-round)*1px)]",r),style:n,onMouseDown:u,children:[p&&s.jsx("div",{className:"absolute left-2 z-10 flex items-center gap-1 pointer-events-none",children:a}),s.jsx(ce,{"data-testid":o,ref:d,style:{flex:1,paddingLeft:p?"24px":void 0,paddingRight:m?"24px":void 0},className:"[--border-width:0]",...c}),m&&s.jsx("div",{className:"absolute right-2 z-10 flex items-center gap-1 pointer-events-none",children:i}),s.jsx("div",{className:"absolute top-0 left-0 size-full border border-vscode-input-border group-focus-within:border-[var(--focus-border)] rounded"})]})}const wF=h.forwardRef(yF);function kF({value:e,onValueChange:t,formatter:r,...n},o){const[a,i]=h.useState(""),[c,l]=h.useState(!1);h.useEffect(()=>{c||i(r.format(e))},[e,r,c]);const d=h.useCallback(m=>{const g=m.target;l(!0);let f=g.value;r.filter&&(f=r.filter(g.value),g.value=f),i(f);const x=r.parse(f);t(x)},[r,t]),u=h.useCallback(()=>{l(!1),i(r.format(e))},[r,e]),p=c?a:r.format(e);return s.jsx(wF,{...n,value:p,onInput:d,onBlur:u,ref:o})}const YN=h.forwardRef(kF),jF={parse:e=>{if(e.trim()==="")return;const t=parseInt(e);return!isNaN(t)&&t>0?t:void 0},format:e=>e===void 0||e===1/0?"":e.toString(),filter:e=>e.replace(/[^0-9]/g,"")},_F={parse:e=>{if(e.trim()==="")return;const t=parseFloat(e);return!isNaN(t)&&t>=0?t:void 0},format:e=>e===void 0||e===1/0?"":e.toString(),filter:e=>{let t=e.replace(/[^0-9.]/g,"");const r=t.indexOf(".");if(r!==-1){const n=t.substring(0,r+1),o=t.substring(r+1).replace(/\./g,"");t=n+o}return t}};function XN({allowedMaxRequests:e,onValueChange:t}){const{t:r}=bt();return s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-pulse"}),r("settings:autoApprove.apiRequestLimit.title"),":"]}),s.jsx(YN,{value:e,onValueChange:t,formatter:jF,placeholder:r("settings:autoApprove.apiRequestLimit.unlimited"),style:{maxWidth:"200px"},"data-testid":"max-requests-input"})]})}function JN({allowedMaxCost:e,onValueChange:t}){const{t:r}=bt();return s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-credit-card"}),r("settings:autoApprove.apiCostLimit.title"),":"]}),s.jsx(YN,{value:e,onValueChange:t,formatter:_F,placeholder:r("settings:autoApprove.apiCostLimit.unlimited"),style:{maxWidth:"200px"},"data-testid":"max-cost-input",leftNodes:[s.jsx("span",{children:"$"},"dollar")]})]})}function ZN(e,t){const r=h.useMemo(()=>Object.values(e).some(o=>!!o),[e]),n=h.useMemo(()=>t??!1,[t]);return{hasEnabledOptions:r,effectiveAutoApprovalEnabled:n}}function e2(){const{alwaysAllowReadOnly:e,alwaysAllowWrite:t,alwaysAllowDelete:r,alwaysAllowExecute:n,alwaysAllowBrowser:o,alwaysAllowMcp:a,alwaysAllowModeSwitch:i,alwaysAllowSubtasks:c,alwaysApproveResubmit:l,alwaysAllowFollowupQuestions:d,alwaysAllowUpdateTodoList:u}=Ge();return h.useMemo(()=>({alwaysAllowReadOnly:e,alwaysAllowWrite:t,alwaysAllowDelete:r,alwaysAllowExecute:n,alwaysAllowBrowser:o,alwaysAllowMcp:a,alwaysAllowModeSwitch:i,alwaysAllowSubtasks:c,alwaysApproveResubmit:l,alwaysAllowFollowupQuestions:d,alwaysAllowUpdateTodoList:u}),[e,t,r,n,o,a,i,c,l,d,u])}const NF=({style:e})=>{const[t,r]=h.useState(!1),{autoApprovalEnabled:n,setAutoApprovalEnabled:o,alwaysApproveResubmit:a,allowedMaxRequests:i,allowedMaxCost:c,setAlwaysAllowReadOnly:l,setAlwaysAllowWrite:d,setAlwaysAllowDelete:u,setAlwaysAllowExecute:p,setAlwaysAllowBrowser:m,setAlwaysAllowMcp:g,setAlwaysAllowModeSwitch:f,setAlwaysAllowSubtasks:x,setAlwaysApproveResubmit:v,setAlwaysAllowFollowupQuestions:N,setAlwaysAllowUpdateTodoList:y,setAllowedMaxRequests:w,setAllowedMaxCost:b}=Ge(),{t:k}=oe(),_=e2(),j=h.useMemo(()=>({..._,alwaysApproveResubmit:a}),[_,a]),{hasEnabledOptions:T,effectiveAutoApprovalEnabled:S}=ZN(j,n),I=h.useCallback((q,B)=>{switch(A.postMessage({type:"updateSettings",updatedSettings:{[q]:B}}),q){case"alwaysAllowReadOnly":l(B);break;case"alwaysAllowWrite":d(B);break;case"alwaysAllowDelete":u(B);break;case"alwaysAllowExecute":p(B);break;case"alwaysAllowBrowser":m(B);break;case"alwaysAllowMcp":g(B);break;case"alwaysAllowModeSwitch":f(B);break;case"alwaysAllowSubtasks":x(B);break;case"alwaysApproveResubmit":v(B);break;case"alwaysAllowFollowupQuestions":N(B);break;case"alwaysAllowUpdateTodoList":y(B);break}const U={...j,[q]:B},te=Object.values(U).some(Q=>!!Q);B&&!T&&te?(o(!0),A.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:!0}})):!B&&T&&!te&&(o(!1),A.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:!1}}))},[j,T,l,d,u,p,m,g,f,x,v,N,y,o]),E=h.useCallback(()=>{r(q=>!q)},[]),M=Object.entries(j).filter(([q,B])=>!!B).map(([q])=>k(GN[q].labelKey)).join(", "),R=h.useMemo(()=>!S||!T?k("chat:autoApprove.none"):M||k("chat:autoApprove.none"),[S,T,M,k]),C=h.useCallback(()=>window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"autoApprove"}}),[]);return s.jsxs("div",{style:{padding:"0 15px",userSelect:"none",borderTop:t?"0.5px solid color-mix(in srgb, var(--vscode-titleBar-inactiveForeground) 20%, transparent)":"none",overflowY:"auto",...e},children:[t&&s.jsxs("div",{className:"flex flex-col gap-2 py-4",children:[s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"12px"},children:s.jsx(je,{i18nKey:"chat:autoApprove.description",components:{settingsLink:s.jsx(Fe,{href:"#",onClick:C})}})}),s.jsx(QN,{...j,onToggle:I}),s.jsxs("div",{className:"flex gap-2 w-full justify-stretch mb-2",children:[s.jsx(XN,{allowedMaxRequests:i??void 0,onValueChange:q=>w(q)}),s.jsx(JN,{allowedMaxCost:c??void 0,onValueChange:q=>b(q)})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"2px 0 0 0",cursor:"pointer"},onClick:E,children:[s.jsx("div",{onClick:q=>q.stopPropagation(),children:s.jsx(de,{content:T?void 0:k("chat:autoApprove.selectOptionsFirst"),children:s.jsx(ze,{checked:S,disabled:!T,"aria-label":k(T?"chat:autoApprove.toggleAriaLabel":"chat:autoApprove.disabledAriaLabel"),onChange:()=>{if(T){const q=!(n??!1);o(q),A.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:q}})}}})})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",flex:1,minWidth:0},children:[s.jsx("span",{style:{color:"var(--vscode-foreground)",flexShrink:0},children:k("chat:autoApprove.title")}),s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,minWidth:0},children:R}),s.jsx("span",{className:`codicon codicon-chevron-right flex-shrink-0 transition-transform duration-200 ease-in-out ${t?"-rotate-90 ml-[2px]":"rotate-0 -ml-[2px]"}`})]})]})]})},Mb=h.memo(NF),t2=He.forwardRef(({onClick:e,iconClass:t,ariaLabel:r,title:n,...o},a)=>s.jsx("button",{ref:a,className:"vscode-button flex items-center gap-1.5 p-0.75 rounded-sm text-vscode-foreground cursor-pointer hover:bg-vscode-list-hoverBackground","aria-label":r,title:n,onClick:e,...o,children:s.jsx("span",{className:`codicon ${t} text-sm`})})),SF=[".md",".txt"],TF=({isGlobal:e,ruleType:t})=>{const{t:r}=bt(),[n,o]=h.useState(!1),[a,i]=h.useState(""),c=h.useRef(null),[l,d]=h.useState(null),u=h.useRef(null);h.useEffect(()=>{n&&c.current&&c.current.focus()},[n]),Rj(u,()=>{n&&(o(!1),i(""),d(null))});const p=async g=>{if(g.preventDefault(),a.trim()){const f=a.trim(),x=PO(f);if(x!==""&&!SF.includes(x)){d(r("kilocode:rules.validation.invalidFileExtension"));return}let v=f;x===""&&(v=`${f}.md`);try{A.postMessage({type:"createRuleFile",isGlobal:e,filename:v,ruleType:t})}catch(N){console.error("Error creating rule file:",N)}i(""),d(null),o(!1)}},m=g=>{g.key==="Escape"&&(o(!1),i(""))};return s.jsxs("div",{ref:u,className:`mb-2.5 transition-all duration-300 ease-in-out ${n?"opacity-100":"opacity-70 hover:opacity-100"}`,onClick:()=>!n&&o(!0),children:[s.jsx("div",{className:`flex items-center p-2 rounded bg-[var(--vscode-input-background)] transition-all duration-300 ease-in-out h-[18px] ${n?"shadow-sm":""}`,children:n?s.jsxs("form",{onSubmit:p,className:"flex flex-1 items-center",children:[s.jsx("input",{ref:c,type:"text",placeholder:r(t==="workflow"?"kilocode:rules.placeholders.workflowName":"kilocode:rules.placeholders.ruleName"),value:a,onChange:g=>i(g.target.value),onKeyDown:m,className:"flex-1 bg-[var(--vscode-input-background)] text-[var(--vscode-input-foreground)] border-0 outline-0 rounded focus:outline-none focus:ring-0 focus:border-transparent",style:{outline:"none"}}),s.jsx("div",{className:"flex items-center ml-2 space-x-2",children:s.jsx(xt,{appearance:"icon",type:"submit","aria-label":"Create rule file",title:"Create rule file",style:{padding:"0px"},children:s.jsx("span",{className:"codicon codicon-add text-[14px]"})})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-[var(--vscode-descriptionForeground)] bg-[var(--vscode-input-background)] italic text-xs",children:r(t==="workflow"?"kilocode:rules.newFile.newWorkflowFile":"kilocode:rules.newFile.newRuleFile")}),s.jsx("div",{className:"flex items-center ml-2 space-x-2",children:s.jsx(xt,{appearance:"icon","aria-label":"New rule file",title:"New rule file",onClick:g=>{g.stopPropagation(),o(!0)},style:{padding:"0px"},children:s.jsx("span",{className:"codicon codicon-add text-[14px]"})})})]})}),n&&l&&s.jsx("div",{className:"text-[var(--vscode-errorForeground)] text-xs mt-1 ml-2",children:l})]})},IF=({rulePath:e,enabled:t,toggleRule:r})=>{const n=()=>{A.postMessage({type:"openFile",text:e})},o=()=>{A.postMessage({type:"deleteRuleFile",rulePath:e})};return s.jsx("div",{className:"mb-2.5",children:s.jsxs("div",{className:`flex items-center p-2 rounded bg-[var(--vscode-textCodeBlock-background)] h-[18px] ${t?"opacity-100":"opacity-60"}`,children:[s.jsx("span",{className:"flex-1 overflow-hidden break-all whitespace-normal flex items-center mr-1",title:e,children:s.jsx("span",{className:"ph-no-capture",children:MN(e)})}),s.jsxs("div",{className:"flex items-center ml-2 space-x-2",children:[s.jsx("div",{role:"switch","aria-checked":t,tabIndex:0,className:`w-[20px] h-[10px] rounded-[5px] relative cursor-pointer transition-colors duration-200 flex items-center ${t?"bg-[var(--vscode-testing-iconPassed)] opacity-90":"bg-[var(--vscode-titleBar-inactiveForeground)] opacity-50"}`,onClick:()=>r(e,!t),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r(e,!t))},children:s.jsx("div",{className:`w-[8px] h-[8px] bg-white border border-[#66666699] rounded-full absolute transition-all duration-200 ${t?"left-[11px]":"left-[1px]"}`})}),s.jsx(xt,{appearance:"icon","aria-label":"Edit rule file",title:"Edit rule file",onClick:n,style:{height:"20px"},children:s.jsx("span",{className:"codicon codicon-edit",style:{fontSize:"14px"}})}),s.jsx(xt,{appearance:"icon","aria-label":"Delete rule file",title:"Delete rule file",onClick:o,style:{height:"20px"},children:s.jsx("span",{className:"codicon codicon-trash",style:{fontSize:"14px"}})})]})]})})},Ab=({rules:e,toggleRule:t,isGlobal:r,ruleType:n})=>s.jsxs("div",{className:"flex flex-col gap-0",children:[e.length>0&&e.map(([o,a])=>s.jsx(IF,{rulePath:o,enabled:a,toggleRule:t},o)),s.jsx(TF,{isGlobal:r,ruleType:n})]}),PF=({type:e,globalItems:t,localItems:r,toggleGlobal:n,toggleLocal:o})=>{const{t:a}=bt(),i=e==="rule"?"kilocode:rules.sections.globalRules":"kilocode:rules.sections.globalWorkflows",c=e==="rule"?"kilocode:rules.sections.workspaceRules":"kilocode:rules.sections.workspaceWorkflows";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm font-normal mb-2",children:a(i)}),s.jsx(Ab,{rules:t,toggleRule:n,isGlobal:!0,ruleType:e})]}),s.jsxs("div",{style:{marginBottom:-10},children:[s.jsx("div",{className:"text-sm font-normal mb-2",children:a(c)}),s.jsx(Ab,{rules:r,toggleRule:o,isGlobal:!1,ruleType:e})]})]})},Il=e=>Object.entries(e||{}).map(([t,r])=>[t,r]).sort(([t],[r])=>t.localeCompare(r)),Rb=({children:e,href:t,linkText:r})=>s.jsxs("p",{children:[e," ",s.jsx(Fe,{href:t,style:{display:"inline"},className:"text-xs",children:r})]}),EF=()=>{const{t:e}=bt(),[t,r]=h.useState(!1),n=h.useRef(null),o=h.useRef(null),{width:a,height:i}=Vf(),[c,l]=h.useState(0),[d,u]=h.useState(0),[p,m]=h.useState("rule"),[g,f]=h.useState([]),[x,v]=h.useState([]),[N,y]=h.useState([]),[w,b]=h.useState([]);h.useEffect(()=>{t&&A.postMessage({type:"refreshRules"})},[t]),h.useEffect(()=>{const j=T=>{const S=T.data;S.type==="rulesData"&&(f(Il(S.localRules)),v(Il(S.globalRules)),y(Il(S.localWorkflows)),b(Il(S.globalWorkflows)))};return window.addEventListener("message",j),()=>window.removeEventListener("message",j)},[]);const k=(j,T,S)=>{A.postMessage({type:"toggleRule",rulePath:T,enabled:S,isGlobal:j})},_=(j,T,S)=>{A.postMessage({type:"toggleWorkflow",workflowPath:T,enabled:S,isGlobal:j})};return Rj(o,()=>{r(!1)}),h.useEffect(()=>{if(t&&n.current){const j=n.current.getBoundingClientRect(),T=j.left+j.width/2,S=document.documentElement.clientWidth-T-5;l(S),u(j.top+1)}},[t,a,i]),s.jsxs("div",{ref:o,children:[s.jsx("div",{ref:n,className:"inline-flex min-w-0 max-w-full",children:s.jsx(Vi,{children:s.jsxs(zc,{open:t?!1:void 0,children:[s.jsx(qc,{asChild:!0,children:s.jsx(t2,{iconClass:"codicon-law",ariaLabel:e("kilocode:rules.ariaLabel"),onClick:()=>r(!t)})}),s.jsx(Uc,{children:e("kilocode:rules.tooltip")})]})})}),t&&s.jsxs("div",{className:"fixed left-[15px] right-[15px] border border-[var(--vscode-editorGroup-border)] p-3 rounded z-[1000] overflow-y-auto",style:{bottom:`calc(100vh - ${d}px + 6px)`,background:"var(--vscode-editor-background)",maxHeight:"calc(100vh - 100px)",overscrollBehavior:"contain"},children:[s.jsx("div",{className:"fixed w-[10px] h-[10px] z-[-1] rotate-45 border-r border-b border-[var(--vscode-editorGroup-border)]",style:{bottom:`calc(100vh - ${d}px)`,right:c,background:"var(--vscode-editor-background)"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:s.jsxs("div",{style:{display:"flex",gap:"1px",borderBottom:"1px solid var(--vscode-panel-border)"},children:[s.jsx(Cb,{$isActive:p==="rule",onClick:()=>m("rule"),children:e("kilocode:rules.tabs.rules")}),s.jsx(Cb,{$isActive:p==="workflow",onClick:()=>m("workflow"),children:e("kilocode:rules.tabs.workflows")})]})}),s.jsx("div",{className:"text-xs text-[var(--vscode-descriptionForeground)] mb-4",children:p==="rule"?s.jsx(Rb,{href:"https://kilo.ai/docs/advanced-usage/custom-rules",linkText:e("kilocode:docs"),children:e("kilocode:rules.description.rules")}):s.jsxs(Rb,{href:"https://kilo.ai/docs/features/slash-commands/workflows",linkText:e("kilocode:docs"),children:[e("kilocode:rules.description.workflows")," ",s.jsx("span",{className:"text-[var(--vscode-foreground)] font-bold",children:"/workflow-name"})," ",e("kilocode:rules.description.workflowsInChat")]})}),s.jsx(PF,{type:p,globalItems:p==="rule"?x:w,localItems:p==="rule"?g:N,toggleGlobal:(j,T)=>p==="rule"?k(!0,j,T):_(!0,j,T),toggleLocal:(j,T)=>p==="rule"?k(!1,j,T):_(!1,j,T)})]})]})},Cb=Hs.button`
	background: none;
	border: none;
	border-bottom: 2px solid ${e=>e.$isActive?"var(--vscode-foreground)":"transparent"};
	color: ${e=>e.$isActive?"var(--vscode-foreground)":"var(--vscode-descriptionForeground)"};
	padding: 8px 16px;
	cursor: pointer;
	font-size: 13px;
	margin-bottom: -1px;
	font-family: inherit;

	&:hover {
		color: var(--vscode-foreground);
	}
`,Ob=e=>{if(!e)return"";const[t,r]=e.split(":"),n=t.includes("/")?t.split("/")[0]:"",o=t.includes("/")?t.split("/")[1]:t,a=n?n.charAt(0).toUpperCase()+n.slice(1):"",i=o.split("-").filter(Boolean).map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),c=r?`(${r.charAt(0).toUpperCase()+r.slice(1)})`:"";return[[a,i].filter(Boolean).join(" / "),c].join(" ")},s2=e=>h.useMemo(()=>{if(!e)return[];const t=[],r=[];for(const[n,o]of Object.entries(e))Number.isInteger(o.preferredIndex)&&t.push(n);t.sort((n,o)=>{const a=e[n],i=e[o];return(a.preferredIndex??0)-(i.preferredIndex??0)});for(const[n]of Object.entries(e))t.includes(n)||r.push(n);return r.sort((n,o)=>n.localeCompare(o)),[...t,...r]},[e]),MF=({currentApiConfigName:e,apiConfiguration:t,fallbackText:r,virtualQuotaActiveModel:n})=>{const{t:o}=oe(),{provider:a,providerModels:i,providerDefaultModel:c,isLoading:l,isError:d}=ax(t),u=ON({provider:a,apiConfiguration:t,defaultModelId:c}),p=pd({provider:a}),m=t.profileType==="autocomplete",g=s2(i),f=h.useMemo(()=>(g.indexOf(u)>=0?[]:[u]).concat(g).map(y=>{var w;return{value:y,label:((w=i[y])==null?void 0:w.displayName)??Ob(y),type:us.ITEM}}),[g,i,u]),x=l||d||m,v=N=>{e&&t[p]!==N&&A.postMessage({type:"upsertApiConfiguration",text:e,apiConfiguration:{...t,[p]:N,openRouterSpecificProvider:yi}})};return l?null:a==="virtual-quota-fallback"&&n?s.jsx("span",{className:"text-xs text-vscode-descriptionForeground opacity-70 truncate",children:Ob(n.id)}):d||m||f.length<=0?s.jsx("span",{className:"text-xs text-vscode-descriptionForeground opacity-70 truncate",children:r}):s.jsx(Wf,{value:u,disabled:x,title:o("chat:selectApiConfig"),options:f,onChange:v,contentClassName:"max-h-[300px] overflow-y-auto",triggerClassName:ee("w-full text-ellipsis overflow-hidden p-0","bg-transparent border-transparent hover:bg-transparent hover:border-transparent"),triggerIcon:!1,itemClassName:"group"})},AF=()=>{const{currentApiConfigName:e,apiConfiguration:t,virtualQuotaActiveModel:r}=Ge(),{id:n,provider:o}=lo(t);return t?s.jsx(s.Fragment,{children:s.jsx("div",{className:"w-auto overflow-hidden","data-testid":"model-selector",children:s.jsx(MF,{currentApiConfigName:e,apiConfiguration:t,fallbackText:`${o}:${n}`,virtualQuotaActiveModel:r?{id:r.id,name:r.id}:void 0})})}):null},ix=({showApiConfig:e=!1})=>{const{t}=oe(),r=()=>{A.postMessage({type:"showFeedbackOptions"})};return s.jsxs("div",{className:"flex flex-row w-auto items-center justify-between h-[30px] mx-3.5 mt-2.5 mb-1 gap-1",children:[s.jsx("div",{className:"flex flex-item flex-row justify-start gap-1 grow overflow-hidden",children:e&&s.jsx(AF,{})}),s.jsx("div",{className:"flex flex-row justify-end w-auto",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(EF,{}),s.jsx(t2,{iconClass:"codicon-feedback",title:t("common:feedback.title"),onClick:r})]})})]})},RF=()=>{const{t:e}=oe();return s.jsxs("div",{className:"flex items-center px-4 py-2 mb-2 text-sm rounded bg-vscode-editorWarning-foreground text-vscode-editor-background",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 mr-2",children:s.jsx("span",{className:"codicon codicon-warning"})}),s.jsx("span",{children:e("chat:systemPromptWarning")})]})},CF=({warning:e})=>{const t=s.jsx(Fe,{href:"#",onClick:n=>{n.preventDefault(),window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"checkpoints"}},"*")},className:"inline"}),r=e.type==="WAIT_TIMEOUT"?"errors.wait_checkpoint_long_time":"errors.init_checkpoint_fail_long_time";return s.jsxs("div",{className:"flex items-center p-3 my-3 bg-vscode-inputValidation-warningBackground border border-vscode-inputValidation-warningBorder rounded",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin mr-2"}),s.jsx("span",{className:"text-vscode-foreground",children:s.jsx(je,{i18nKey:r,ns:"common",values:{timeout:e.timeout},components:{settingsLink:t}})})]})},OF=()=>{const{t:e}=bt("kilocode"),t=Object.values(e("ideaSuggestionsBox.ideas",{returnObjects:!0})),r=()=>{const n=Math.floor(Math.random()*t.length),o=t[n];A.postMessage({type:"insertTextToChatArea",text:o}),Yt.capture(Ts.SUGGESTION_BUTTON_CLICKED,{randomIdea:o})};return s.jsxs("div",{className:"mt-4 p-3 bg-vscode-input-background rounded border border-vscode-panel-border",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground font-bold",children:e("ideaSuggestionsBox.newHere")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:"kilocode:ideaSuggestionsBox.suggestionText",components:{suggestionButton:s.jsx("button",{onClick:r,className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground cursor-pointer bg-transparent border-none p-0 font-sans"}),sendIcon:s.jsx("span",{className:"codicon codicon-send inline-block align-middle"})}})})]})},Db="Try model",DF=()=>{const{dismissedNotificationIds:e,currentApiConfigName:t,apiConfiguration:r}=Ge(),{provider:n,providerModels:o,isLoading:a,isError:i}=ax(r),[c,l]=h.useState([]),d=c.filter(_=>!(e||[]).includes(_.id)),[u,p]=h.useState(0);h.useEffect(()=>{const _=j=>{const T=j.data;T.type==="kilocodeNotificationsResponse"&&l(T.notifications||[])};return window.addEventListener("message",_),p(Math.max(0,Math.min(u,d.length-1))),()=>{window.removeEventListener("message",_)}},[u,d.length,e]),h.useEffect(()=>{A.postMessage({type:"fetchKilocodeNotifications"})},[]);const m=_=>{A.postMessage({type:"openInBrowser",url:_.actionURL}),Yt.capture(Ts.NOTIFICATION_CLICKED,{actionText:_.actionText,actionURL:_.actionURL})},g=pd({provider:n}),f=_=>{A.postMessage({type:"upsertApiConfiguration",text:t,apiConfiguration:{...r,[g]:_,openRouterSpecificProvider:yi}}),Yt.capture(Ts.NOTIFICATION_CLICKED,{actionText:Db,suggestModelId:_})},x=()=>{p(_=>(_+1)%d.length)},v=()=>{p(_=>(_-1+d.length)%d.length)},N=_=>{A.postMessage({type:"dismissNotificationId",notificationId:_})},y=d[u];if(!y)return null;const w=y.action,b=y.suggestModelId,k=!a&&!i&&b&&b in o&&t&&r&&b!==r[g];return s.jsxs("div",{className:"kilocode-notifications flex flex-col mb-4",children:[s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded-lg p-3 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-vscode-foreground m-0",children:y.title}),s.jsx("button",{onClick:()=>N(y.id),className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1",title:"Dismiss notification",children:s.jsx("span",{className:"codicon codicon-close"})})]}),s.jsx("p",{className:"text-vscode-descriptionForeground",children:y.message}),(w||k)&&s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b&&k&&s.jsx(xt,{appearance:"primary",onClick:()=>f(b),children:Db}),w&&s.jsx(xt,{appearance:"primary",onClick:()=>m(w),children:w.actionText})]})]}),d.length>1&&s.jsxs("div",{className:"flex items-center justify-end pt-2",children:[s.jsx("button",{onClick:v,className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1 inline-flex items-center",title:"Previous notification",children:s.jsx("span",{className:"codicon codicon-chevron-left"})}),s.jsxs("span",{className:"text-xs text-vscode-descriptionForeground whitespace-nowrap",children:[u+1," / ",d.length]}),s.jsx("button",{onClick:x,className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1 inline-flex items-center",title:"Next notification",children:s.jsx("span",{className:"codicon codicon-chevron-right"})})]})]})},FF=({queue:e,onRemove:t,onUpdate:r})=>{const{t:n}=bt("chat"),[o,a]=h.useState({});if(e.length===0)return null;const i=(d,u)=>o[d]||{isEditing:!1,value:u},c=(d,u,p)=>{a(m=>{var g;return{...m,[d]:{isEditing:u,value:p??((g=m[d])==null?void 0:g.value)??""}}})},l=(d,u,p)=>{r(d,p),c(u,!1)};return s.jsxs("div",{className:"px-[15px] py-[10px] pr-[6px]","data-testid":"queued-messages",children:[s.jsx("div",{className:"text-vscode-descriptionForeground text-md mb-2",children:n("queuedMessages.title")}),s.jsx("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto pr-2",children:e.map((d,u)=>{const p=i(d.id,d.text);return s.jsxs("div",{className:"bg-vscode-editor-background border rounded-xs p-1 overflow-hidden whitespace-pre-wrap flex-shrink-0",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"flex-grow px-2 py-1 wrap-anywhere",children:p.isEditing?s.jsx("textarea",{ref:m=>{m&&m.setSelectionRange(m.value.length,m.value.length)},value:p.value,onChange:m=>c(d.id,!0,m.target.value),onBlur:()=>l(u,d.id,p.value),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),l(u,d.id,p.value)),m.key==="Escape"&&c(d.id,!1,d.text)},className:"w-full bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border rounded px-2 py-1 resize-none focus:outline-0 focus:ring-1 focus:ring-vscode-focusBorder",placeholder:n("chat:editMessage.placeholder"),autoFocus:!0,rows:Math.min(p.value.split(`
`).length,10)}):s.jsx("div",{onClick:()=>c(d.id,!0,d.text),className:"cursor-pointer hover:bg-vscode-list-hoverBackground px-1 py-0.5 -mx-1 -my-0.5 rounded transition-colors",title:n("chat:queuedMessages.clickToEdit"),children:s.jsx(pN,{text:d.text,withShadow:!0})})}),s.jsx("div",{className:"flex",children:s.jsx(ae,{variant:"ghost",size:"icon",className:"shrink-0",onClick:m=>{m.stopPropagation(),t(u)},children:s.jsx("span",{className:"codicon codicon-trash"})})})]}),d.images&&d.images.length>0&&s.jsx(ud,{images:d.images,style:{marginTop:"8px"}})]},d.id)})})]})},_o=20,Fb=navigator.platform.toUpperCase().indexOf("MAC")>=0,LF=({isHidden:e,showAnnouncement:t,hideAnnouncement:r},n)=>{const o=h.useRef(!0),[a]=h.useState(()=>window.AUDIO_BASE_URI||""),{t:i}=oe(),c=`${Fb?"":"Ctrl"} + . ${i("chat:forNextMode")}, ${Fb?"":"Ctrl"} + Shift + . ${i("chat:forPreviousMode")}`,{clineMessages:l,currentTaskItem:d,currentTaskTodos:u,taskHistoryFullLength:p,taskHistoryVersion:m,apiConfiguration:g,organizationAllowList:f,mode:x,setMode:v,alwaysAllowModeSwitch:N,showAutoApproveMenu:y,enableCheckpoints:w,alwaysAllowUpdateTodoList:b,customModes:k,telemetrySetting:_,hasSystemPromptOverride:j,historyPreviewCollapsed:T,soundEnabled:S,soundVolume:I,messageQueue:E=[],sendMessageOnEnter:M,isBrowserSessionActive:R}=Ge(),C=h.useRef(l);h.useEffect(()=>{C.current=l},[l]);const q=h.useMemo(()=>l.at(0),[l]),[B,U]=h.useState(T===void 0?!0:!T),te=h.useCallback(()=>{const K=!B;U(K),A.postMessage({type:"setHistoryPreviewCollapsed",bool:!K})},[B]),Q=h.useMemo(()=>{if(u&&u.length>0){const K=hv(l);return K&&K.length>0?K:u}return hv(l)},[l,u]),O=h.useMemo(()=>l1(Ej(l.slice(1))),[l]),F=h.useMemo(()=>uE(O),[O]),[W,re]=h.useState(""),H=h.useRef(W),Z=h.useRef(null),[Y,G]=h.useState(!1),[ie,D]=h.useState([]),[me,xe]=h.useState(void 0),[we,Pe]=h.useState(!1),[Ce,L]=h.useState(void 0),[Se,X]=h.useState(void 0),[$e,ut]=h.useState(!1),V=h.useRef(null),[ke,Te]=h.useState({}),ft=h.useRef(),pt=h.useRef(null),Ct=h.useRef(!1),[Es,Me]=h.useState(!1),[Je,_e]=h.useState(!1),Ze=h.useRef(""),[_t,Zt]=h.useState(!1),[qe,es]=h.useState(void 0),[as,it]=h.useState(!1),[Nt,ns]=h.useState(!1),is=h.useRef(new xc({max:100,ttl:1e3*60*5})),rt=h.useRef(null),Kt=h.useRef(!1),[os,se]=h.useState(null),Le=h.useRef(me);h.useEffect(()=>{Le.current=me},[me]),h.useEffect(()=>{H.current=W},[W]);const et=h.useMemo(()=>!!(W&&W.trim().length>0&&me==="followup"),[W,me]);h.useEffect(()=>{et&&A.postMessage({type:"cancelAutoApproval"})},[et]),h.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]);const tt=h.useMemo(()=>!!g&&!pE.isProfileAllowed(g,f),[g,f]),Qe=h.useMemo(()=>l.at(-1),[l]),ht=h.useMemo(()=>l.at(-2),[l]),wt=typeof I=="number"?I:.5,[Ht]=Fd(`${a}/notification.wav`,{volume:wt,soundEnabled:S}),[Ot]=Fd(`${a}/celebration.wav`,{volume:wt,soundEnabled:S}),[ts]=Fd(`${a}/progress_loop.wav`,{volume:wt,soundEnabled:S}),lt=h.useCallback(K=>{if(S)switch(K){case"notification":Ht();break;case"celebration":Ot();break;case"progress_loop":ts();break;default:console.warn(`Unknown audio type: ${K}`)}},[S,Ht,Ot,ts]);function gs(K){A.postMessage({type:"playTts",text:K})}zI(()=>{if(Qe)switch(Qe.type){case"ask":Kt.current=!1;const K=Qe.partial===!0;switch(Qe.ask){case"api_req_failed":lt("progress_loop"),G(!0),xe("api_req_failed"),Pe(!0),L(i("chat:retry.title")),X(i("chat:startNewTask.title"));break;case"mistake_limit_reached":lt("progress_loop"),G(!1),xe("mistake_limit_reached"),Pe(!0),L(i("chat:proceedAnyways.title")),X(i("chat:startNewTask.title"));break;case"followup":G(K),xe("followup"),Pe(!0),L(void 0),X(void 0);break;case"tool":G(K),xe("tool"),Pe(!K);const J=JSON.parse(Qe.text||"{}");switch(J.tool){case"editedExistingFile":case"appliedDiff":case"newFileCreated":case"generateImage":L(i("chat:save.title")),X(i("chat:reject.title"));break;case"finishTask":L(i("chat:completeSubtaskAndReturn")),X(void 0);break;case"readFile":J.batchFiles&&Array.isArray(J.batchFiles)?(L(i("chat:read-batch.approve.title")),X(i("chat:read-batch.deny.title"))):(L(i("chat:approve.title")),X(i("chat:reject.title")));break;default:L(i("chat:approve.title")),X(i("chat:reject.title"));break}break;case"browser_action_launch":G(K),xe("browser_action_launch"),Pe(!K),L(i("chat:approve.title")),X(i("chat:reject.title"));break;case"command":G(K),xe("command"),Pe(!K),L(i("chat:runCommand.title")),X(i("chat:reject.title"));break;case"command_output":G(!1),xe("command_output"),Pe(!0),L(i("chat:proceedWhileRunning.title")),X(i("chat:killCommand.title"));break;case"use_mcp_server":G(K),xe("use_mcp_server"),Pe(!K),L(i("chat:approve.title")),X(i("chat:reject.title"));break;case"completion_result":!K&&E.length===0&&lt("celebration"),G(K),xe("completion_result"),Pe(!K),L(i("chat:startNewTask.title")),X(void 0);break;case"resume_task":G(!1),xe("resume_task"),Pe(!0),(d==null?void 0:d.parentTaskId)&&l.some(he=>he.ask==="completion_result"||he.say==="completion_result")?(L(i("chat:startNewTask.title")),X(void 0)):(L(i("chat:resumeTask.title")),X(i("chat:terminate.title"))),ut(!1);break;case"resume_completed_task":G(!1),xe("resume_completed_task"),Pe(!0),L(i("chat:startNewTask.title")),X(void 0),ut(!1);break;case"report_bug":K||lt("notification"),G(K),xe("report_bug"),Pe(!K),L(i("chat:reportBug.title"));break;case"condense":G(K),xe("condense"),Pe(!K),L(i("kilocode:chat.condense.condenseConversation")),X(void 0);break}break;case"say":switch(Qe.say){case"api_req_retry_delayed":G(!0);break;case"api_req_started":(ht==null?void 0:ht.ask)==="command_output"&&(G(!0),D([]),xe(void 0),Pe(!1));break}break}},[Qe,ht]),h.useEffect(()=>{me==="resume_task"&&(d!=null&&d.parentTaskId)&&l.some(J=>J.ask==="completion_result"||J.say==="completion_result")&&(L(i("chat:startNewTask.title")),X(void 0))},[me,d==null?void 0:d.parentTaskId,l,i]),h.useEffect(()=>{l.length===0&&(G(!1),xe(void 0),Pe(!1),L(void 0),X(void 0))},[l.length]),h.useEffect(()=>{Te({}),is.current.clear(),se(null),it(!1),rt.current&&(clearTimeout(rt.current),rt.current=null),Kt.current=!1},[q==null?void 0:q.ts]),h.useEffect(()=>{e&&is.current.clear()},[e]),h.useEffect(()=>{const K=is.current;return()=>{K.clear()}},[]),h.useEffect(()=>{const K=ft.current;let J=!1;if(K)for(const[ve,he]of Object.entries(ke)){const Ve=Number(ve);if(he&&!(K[Ve]??!1)){J=!0;break}}J&&(Ct.current=!1),ft.current=ke},[ke]);const ct=h.useMemo(()=>{var he,Ve;if(!!((he=O.at(-1))!=null&&he.ask)&&me!==void 0&&we&&Ce!==void 0)return!1;if(((Ve=O.at(-1))==null?void 0:Ve.partial)===!0)return!0;{const Ue=oT(O,dt=>dt.say==="api_req_started");if(Ue&&Ue.text!==null&&Ue.text!==void 0&&Ue.say==="api_req_started"&&JSON.parse(Ue.text).cost===void 0)return!0}return!1},[O,me,we,Ce]),rr=h.useCallback(()=>{const K=C.current.findLast(J=>J.ask==="followup");K&&se(K.ts)},[]),hr=h.useCallback(()=>{rt.current&&(clearTimeout(rt.current),rt.current=null),Kt.current=!1,re(""),G(!0),D([]),xe(void 0),Pe(!1)},[]),Ms=h.useCallback((K,J)=>{if(K=K.trim(),K||J.length>0){if(Y||ct||E.length>0){try{console.log("queueMessage",K,J),A.postMessage({type:"queueMessage",text:K,images:J}),re(""),D([])}catch(ve){console.error(`Failed to queue message: ${ve instanceof Error?ve.message:String(ve)}`)}return}if(Kt.current=!0,C.current.length===0)A.postMessage({type:"newTask",text:K,images:J});else if(Le.current)switch(Le.current==="followup"&&rr(),Le.current){case"followup":case"tool":case"browser_action_launch":case"command":case"command_output":case"use_mcp_server":case"completion_result":case"resume_task":case"resume_completed_task":case"mistake_limit_reached":A.postMessage({type:"askResponse",askResponse:"messageResponse",text:K,images:J});break}else A.postMessage({type:"askResponse",askResponse:"messageResponse",text:K,images:J});hr()}},[hr,rr,Y,ct,E.length]),Bs=h.useCallback((K,J)=>{let ve=K;W!==""&&(ve=W+" "+K),re(ve),D([...ie,...J])},[W,ie]),zs=h.useCallback(()=>A.postMessage({type:"clearTask"}),[]),fr=h.useCallback((K,J)=>{Kt.current=!0;const ve=K==null?void 0:K.trim();switch(me){case"api_req_failed":case"command":case"tool":case"browser_action_launch":case"use_mcp_server":case"mistake_limit_reached":case"report_bug":ve||J&&J.length>0?(A.postMessage({type:"askResponse",askResponse:"yesButtonClicked",text:ve,images:J}),re(""),D([])):A.postMessage({type:"askResponse",askResponse:"yesButtonClicked"});break;case"resume_task":(d==null?void 0:d.parentTaskId)&&C.current.some(Ve=>Ve.ask==="completion_result"||Ve.say==="completion_result")?zs():ve||J&&J.length>0?(A.postMessage({type:"askResponse",askResponse:"yesButtonClicked",text:ve,images:J}),re(""),D([])):A.postMessage({type:"askResponse",askResponse:"yesButtonClicked"});break;case"completion_result":case"resume_completed_task":zs();break;case"command_output":A.postMessage({type:"terminalOperation",terminalOperation:"continue"});break;case"condense":A.postMessage({type:"condense",text:Qe==null?void 0:Qe.text});break}G(!0),xe(void 0),Pe(!1)},[me,zs,d==null?void 0:d.parentTaskId,Qe==null?void 0:Qe.text]),gr=h.useCallback((K,J)=>{Kt.current=!0;const ve=K==null?void 0:K.trim();if(ct){A.postMessage({type:"cancelTask"}),ut(!0);return}switch(me){case"api_req_failed":case"mistake_limit_reached":case"resume_task":zs();break;case"command":case"tool":case"browser_action_launch":case"use_mcp_server":ve||J&&J.length>0?(A.postMessage({type:"askResponse",askResponse:"noButtonClicked",text:ve,images:J}),re(""),D([])):A.postMessage({type:"askResponse",askResponse:"noButtonClicked"});break;case"command_output":A.postMessage({type:"terminalOperation",terminalOperation:"abort"});break}G(!0),xe(void 0),Pe(!1)},[me,zs,ct]),Pr=h.useCallback(()=>zs(),[zs]),{info:Er}=lo(g),sn=h.useCallback(()=>A.postMessage({type:"selectImages"}),[]),xr=!(Er!=null&&Er.supportsImages)||ie.length>=_o,vn=h.useCallback(K=>{var ve,he;const J=K.data;switch(J.type){case"action":switch(J.action){case"didBecomeVisible":!e&&!Y&&!we&&((ve=Z.current)==null||ve.focus());break;case"focusInput":(he=Z.current)==null||he.focus();break}break;case"selectedImages":J.context!=="edit"&&D(Ve=>i1(Ve,J.images,_o));break;case"invoke":switch(J.invoke){case"newChat":hr();break;case"sendMessage":Ms(J.text??"",J.images??[]);break;case"setChatBoxMessage":Bs(J.text??"",J.images??[]);break;case"primaryButtonClick":fr(J.text??"",J.images??[]);break;case"secondaryButtonClick":gr(J.text??"",J.images??[]);break}break;case"condenseTaskContextStarted":J.text&&it(!0);break;case"condenseTaskContextResponse":J.text&&(as&&Y&&G(!1),it(!1));break;case"checkpointInitWarning":es(J.checkpointWarning);break;case"interactionRequired":lt("notification");break}},[as,e,Y,we,hr,Ms,Bs,fr,gr,es,lt]);tr("message",vn);const ls=h.useMemo(()=>{const K=new Set;O.forEach(he=>{he.say==="user_feedback"&&he.checkpoint&&he.checkpoint.type==="user_message"&&he.checkpoint.hash&&K.add(he.checkpoint.hash)});const J=O.filter(he=>{var Ve,Ue;if(he.say==="checkpoint_saved"&&(he.checkpoint&&typeof he.checkpoint=="object"&&"suppressMessage"in he.checkpoint&&he.checkpoint.suppressMessage||he.text&&K.has(he.text)))return!1;if(is.current.has(he.ts)){const dt=["api_req_failed","resume_task","resume_completed_task"],Vt=["api_req_finished","api_req_retried","api_req_deleted","mcp_server_request_started"];return!(he.ask&&dt.includes(he.ask)||he.say&&Vt.includes(he.say)||he.say==="text"&&(he.text??"")===""&&(((Ve=he.images)==null?void 0:Ve.length)??0)===0)}switch(he.ask){case"completion_result":if(he.text==="")return!1;break;case"api_req_failed":case"resume_task":case"resume_completed_task":return!1}switch(he.say){case"api_req_finished":case"api_req_retried":case"api_req_deleted":return!1;case"api_req_retry_delayed":const dt=O.at(-1),Vt=O.at(-2);if((dt==null?void 0:dt.ask)==="resume_task"&&Vt===he)return!0;if(he!==dt)return!1;break;case"text":if((he.text??"")===""&&(((Ue=he.images)==null?void 0:Ue.length)??0)===0)return!1;break;case"mcp_server_request_started":return!1}return!0}),ve=Math.max(0,J.length-100);return J.slice(ve).forEach(he=>is.current.set(he.ts,!0)),J},[O]);h.useEffect(()=>{const K=setInterval(()=>{const J=is.current,ve=new Set(O.map(Ue=>Ue.ts)),he=ls.slice(Math.max(0,ls.length-100)),Ve=new Set(he.map(Ue=>Ue.ts));J.forEach((Ue,dt)=>{!ve.has(dt)&&!Ve.has(dt)&&J.delete(dt)})},6e4);return()=>clearInterval(K)},[O,ls]),a1(()=>{var K;!e&&!Y&&!we&&((K=Z.current)==null||K.focus())},50,[e,Y,we]),h.useEffect(()=>{if(Qe&&l.length>1&&Qe.text&&(Qe.say==="text"||Qe.say==="completion_result")&&!Qe.partial&&typeof Qe.text=="string"&&!Qe.text.startsWith("{")){let K=(Qe==null?void 0:Qe.text)||"";const J=/```mermaid[\s\S]*?```/g;if(K=K.replace(J,""),K=aE(K),K!==Ze.current)try{gs(K),Ze.current=K}catch(ve){console.error("Failed to execute text-to-speech:",ve)}}Zt(ct)},[ct,Qe,_t,l.length]);const nr=h.useMemo(()=>{for(let K=0;K<l.length;K++)if(l[K].ask==="browser_action_launch")return K;return-1},[l]);h.useMemo(()=>nr===-1?[]:l.slice(nr),[nr,l]);const bn=h.useMemo(()=>!!(q&&(nr!==-1||R)),[q,nr,R]),rn=h.useCallback(K=>K.type==="ask"&&K.ask==="browser_action_launch"||K.type==="say"&&K.say==="browser_action_result",[]),ks=h.useMemo(()=>{const K=ls.filter(J=>!rn(J));return as&&K.push({type:"say",say:"condense_context",ts:Date.now(),partial:!0}),K},[as,ls,rn]),js=h.useMemo(()=>t1(()=>{var K;return(K=V.current)==null?void 0:K.scrollTo({top:Number.MAX_SAFE_INTEGER,behavior:"smooth"})},10,{immediate:!0}),[]);h.useEffect(()=>()=>{js&&typeof js.cancel=="function"&&js.cancel()},[js]);const Vs=h.useCallback(()=>{var K;(K=V.current)==null||K.scrollTo({top:Number.MAX_SAFE_INTEGER,behavior:"auto"})},[]),As=h.useRef(),[nn,z]=h.useState(null),ge=h.useCallback(K=>{var J;z(K),(J=V.current)==null||J.scrollToIndex({index:K,align:"end",behavior:"smooth"}),As.current&&clearTimeout(As.current),As.current=setTimeout(()=>{z(null),As.current=void 0},1e3)},[]);h.useEffect(()=>()=>{As.current&&clearTimeout(As.current)},[]);const fe=h.useCallback((K,J)=>{Te(ve=>({...ve,[K]:J===void 0?!ve[K]:J}))},[Te]),Oe=h.useCallback(K=>{fe(K)},[fe]),nt=h.useCallback(K=>{Je&&(K?js():setTimeout(()=>Vs(),0))},[js,Vs,Je]),kt=h.useCallback(K=>{var ve;const J=K;J.deltaY<0&&((ve=pt.current)!=null&&ve.contains(J.target))&&(Ct.current=!1)},[]);tr("wheel",kt,window,{passive:!0}),h.useEffect(()=>{const K=pt.current;if(!K)return;const J=()=>{const ve=Math.abs(K.scrollHeight-K.scrollTop-K.clientHeight)<10;ve||(Ct.current=!1),Me(!ve)};return K.addEventListener("scroll",J,{passive:!0}),()=>K.removeEventListener("scroll",J)},[]),h.useEffect(()=>{(e||!q)&&es(void 0)},[O.length,ct,e,q]);const cs=i(q?"chat:typeMessage":"chat:typeTask"),Mt=h.useCallback(K=>{v(K),A.postMessage({type:"mode",text:K})},[v]),_s=h.useCallback((K,J)=>{if(J&&(Kt.current=!0),me==="followup"&&!(J!=null&&J.shiftKey)&&rr(),K.mode&&(J||N)&&Mt(K.mode),J!=null&&J.shiftKey)re(ve=>ve!==""?`${ve} 
${K.answer}`:K.answer);else{const ve=H.current;Ms(K.answer,[]),re(ve)}},[Ms,re,Mt,N,me,rr]),Gs=h.useCallback(K=>{A.postMessage({type:"askResponse",askResponse:"objectResponse",text:JSON.stringify(K)})},[]),Mr=h.useCallback((K,J)=>{const ve=O.some(he=>he.say==="checkpoint_saved");if(J.type==="say"&&J.say==="browser_action"){const he=O.find(Vt=>Vt.ts>J.ts&&Vt.say==="browser_action_result"),Ve=O.filter(Vt=>Vt.say==="browser_action"),Ue=Ve.findIndex(Vt=>Vt.ts===J.ts)+1,dt=Ve.length;return s.jsx(Y_,{message:J,nextMessage:he,actionIndex:Ue,totalActions:dt},J.ts)}return J.type==="say"&&J.say==="browser_session_status"?s.jsx(X_,{message:J},J.ts):s.jsx(sD,{message:J,isExpanded:ke[J.ts]||!1,onToggleExpand:Oe,lastModifiedMessage:O.at(-1),isLast:K===ks.length-1,onHeightChange:nt,isStreaming:ct,onSuggestionClick:_s,onBatchFileResponse:Gs,highlighted:nn===K,enableCheckpoints:w,isFollowUpAnswered:J.isAnswered===!0||J.ts===os,isFollowUpAutoApprovalPaused:et,editable:J.type==="ask"&&J.ask==="tool"&&(()=>{var Ve;let he={};try{he=JSON.parse(J.text||"{}")}catch{(Ve=J.text)!=null&&Ve.includes("updateTodoList")&&(he={tool:"updateTodoList"})}return he.tool==="updateTodoList"&&b?!1:he.tool==="updateTodoList"&&we&&!!Ce})(),hasCheckpoint:ve},J.ts)},[ke,Oe,O,ks.length,nt,ct,_s,Gs,nn,w,os,et,b,we,Ce]),on=h.useCallback(()=>{const K=oo(k),ve=(K.findIndex(he=>he.slug===x)+1)%K.length;Mt(K[ve].slug)},[x,k,Mt]),go=h.useCallback(()=>{const K=oo(k),ve=(K.findIndex(he=>he.slug===x)-1+K.length)%K.length;Mt(K[ve].slug)},[x,k,Mt]),$=h.useCallback(K=>{(K.metaKey||K.ctrlKey)&&K.key==="."&&(K.preventDefault(),K.shiftKey?go():on())},[on,go]);h.useEffect(()=>(window.addEventListener("keydown",$),window.addEventListener("wheel",kt,{passive:!0}),()=>{window.removeEventListener("keydown",$),window.removeEventListener("wheel",kt)}),[$,kt]),h.useImperativeHandle(n,()=>({acceptInput:()=>{we&&Ce?fr(W,ie):!Y&&!tt&&(W.trim()||ie.length>0)&&Ms(W,ie)},focusInput:()=>{Z.current&&Z.current.focus()}}));const be=K=>{as||Y||(it(!0),G(!0),A.postMessage({type:"condenseTaskContextRequest",text:K}))},Ie=Es||Ce||Se||ct,Ae=_==="unset";return s.jsxs("div",{"data-testid":"chat-view",className:e?"hidden":"fixed top-0 left-0 right-0 bottom-0 flex flex-col overflow-hidden",children:[(t||Nt)&&s.jsx(l5,{hideAnnouncement:()=>{Nt&&ns(!1),t&&r()}}),q?s.jsxs(s.Fragment,{children:[s.jsx(bF,{task:q,tokensIn:F.totalTokensIn,tokensOut:F.totalTokensOut,cacheWrites:F.totalCacheWrites,cacheReads:F.totalCacheReads,totalCost:F.totalCost,contextTokens:F.contextTokens,buttonsDisabled:Y,handleCondenseContext:be,onClose:Pr,groupedMessages:ks,onMessageClick:ge,isTaskActive:Y,todos:Q}),j&&s.jsx("div",{className:"px-3",children:s.jsx(RF,{})}),qe&&s.jsx("div",{className:"px-3",children:s.jsx(CF,{warning:qe})})]}):s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto flex flex-col gap-4 relative",children:[p!==0&&s.jsx("div",{className:"flex text-vscode-descriptionForeground w-full mx-auto px-5 pt-3",children:s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",onClick:te,children:[p<10&&s.jsx("span",{className:"font-medium text-xs ",children:i("history:recentTasks")}),s.jsx("span",{className:`codicon  ${B?"codicon-eye":"codicon-eye-closed"} scale-90`})]})}),!Ae&&s.jsx("div",{children:s.jsx(Hg,{className:"absolute top-2 right-3"})}),s.jsxs("div",{className:"w-full h-full flex flex-col gap-4 px-3.5 transition-all duration-300",children:[Ae&&s.jsx(CC,{}),!Ae&&s.jsx("div",{className:p===0?"mt-10":void 0,children:s.jsx(DF,{})}),s.jsxs("div",{className:"flex flex-grow flex-col justify-center gap-4",children:[s.jsx("p",{className:"text-vscode-editor-foreground leading-normal font-vscode-font-family text-center text-balance max-w-[380px] mx-auto my-0",children:s.jsx(je,{i18nKey:"chat:about",components:{DocsLink:s.jsx("a",{href:It(""),target:"_blank",rel:"noopener noreferrer",children:"the docs"})}})}),p===0&&s.jsx(OF,{})," ",p>0&&B&&s.jsx(VC,{taskHistoryVersion:m})]})]})]}),!q&&y&&s.jsx("div",{className:"mb-1 flex-initial min-h-0",children:s.jsx(Mb,{})}),q&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grow flex flex-col min-h-0",ref:pt,children:s.jsx("div",{className:"flex-auto min-h-0",children:s.jsx(Hf,{ref:V,className:"scrollable grow overflow-y-scroll mb-1",increaseViewportBy:{top:400,bottom:400},data:ks,itemContent:Mr,followOutput:K=>K||Ct.current,atBottomStateChange:K=>{_e(K),Me(!K)},atBottomThreshold:10,initialTopMostItemIndex:ks.length-1},q.ts)})}),s.jsx("div",{className:`flex-initial min-h-0 ${Ie?"":"mb-1"}`,children:y&&s.jsx(Mb,{})}),Ie&&s.jsx("div",{className:`flex h-9 items-center mb-1 px-[15px] ${Es||we||ct&&!$e?"opacity-100":"opacity-50"}`,children:Es?s.jsx(de,{content:i("chat:scrollToBottom"),children:s.jsx(xt,{className:"flex-[2]",onClick:()=>{Ct.current=!0,Vs(),Me(!1)},children:s.jsx("span",{className:"codicon codicon-chevron-down"})})}):s.jsxs(s.Fragment,{children:[Ce&&!ct&&s.jsx(de,{content:Ce===i("chat:retry.title")?i("chat:retry.tooltip"):Ce===i("chat:save.title")?i("chat:save.tooltip"):Ce===i("chat:approve.title")?i("chat:approve.tooltip"):Ce===i("chat:runCommand.title")?i("chat:runCommand.tooltip"):Ce===i("chat:startNewTask.title")?i("chat:startNewTask.tooltip"):Ce===i("chat:resumeTask.title")?i("chat:resumeTask.tooltip"):Ce===i("chat:proceedAnyways.title")?i("chat:proceedAnyways.tooltip"):Ce===i("chat:proceedWhileRunning.title")?i("chat:proceedWhileRunning.tooltip"):void 0,children:s.jsx(xt,{disabled:!we,className:Se?"flex-1 mr-[6px]":"flex-[2] mr-0",onClick:()=>fr(W,ie),children:Ce})}),(Se||ct)&&s.jsx(de,{content:ct?i("chat:cancel.tooltip"):Se===i("chat:startNewTask.title")?i("chat:startNewTask.tooltip"):Se===i("chat:reject.title")?i("chat:reject.tooltip"):Se===i("chat:terminate.title")?i("chat:terminate.tooltip"):void 0,children:s.jsx(xt,{disabled:!we&&!(ct&&!$e),className:ct?"flex-[2] ml-0":"flex-1 ml-[6px]",onClick:()=>gr(W,ie),children:ct?i("chat:cancel.title"):Se})})]})})]}),s.jsx(FF,{queue:E,onRemove:K=>{E[K]&&A.postMessage({type:"removeQueuedMessage",text:E[K].id})},onUpdate:(K,J)=>{E[K]&&A.postMessage({type:"editQueuedMessage",payload:{id:E[K].id,text:J,images:E[K].images}})}}),s.jsx(RN,{ref:Z,inputValue:W,setInputValue:re,sendingDisabled:Y||tt,selectApiConfigDisabled:Y&&me!=="api_req_failed",placeholderText:cs,selectedImages:ie,setSelectedImages:D,onSend:()=>Ms(W,ie),onSelectImages:sn,shouldDisableImages:xr,onHeightChange:()=>{Je&&Vs()},mode:x,setMode:v,modeShortcutText:c,sendMessageOnEnter:M,showBrowserDockToggle:bn}),s.jsx(ix,{showApiConfig:!0}),s.jsx("div",{id:"roo-portal"})]})},BF=h.forwardRef(LF),zF=({taskIds:e,...t})=>{const{t:r}=oe(),{data:n}=V_(e),{onOpenChange:o}=t,a=(n==null?void 0:n.filter(l=>e.includes(l.id)&&l.isFavorited))??[],i=a.length>0,c=h.useCallback(()=>{e.length>0&&(A.postMessage({type:"deleteMultipleTasksWithIds",ids:e}),o==null||o(!1))},[e,o]);return s.jsx(Hr,{...t,children:s.jsxs(Vr,{className:"max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:r("history:deleteTasks")}),s.jsxs(Xr,{className:"text-vscode-foreground",children:[s.jsx("div",{className:"mb-2",children:r("history:confirmDeleteTasks",{count:e.length})}),i&&s.jsx("div",{className:"text-yellow-500 mb-2",children:r("history:deleteTasksFavoritedWarning",{count:a.length})}),s.jsx("div",{className:"text-vscode-editor-foreground bg-vscode-editor-background p-2 rounded text-sm",children:r("history:deleteTasksWarning")})]})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{asChild:!0,children:s.jsx(ae,{variant:"secondary",children:r("history:cancel")})}),s.jsx(Sr,{asChild:!0,children:s.jsxs(ae,{variant:"destructive",onClick:c,children:[s.jsx("span",{className:"codicon codicon-trash mr-1"}),r("history:deleteItems",{count:e.length})]})})]})]})})},Xo=({className:e,children:t,...r})=>s.jsx("div",{className:ee("fixed inset-0 bottom-9 flex flex-col",e),...r,children:t}),ol=({className:e,children:t,...r})=>s.jsx("div",{className:ee("px-5 py-2.5 border-b border-vscode-panel-border",e),...r,children:t}),Jo=h.forwardRef(({className:e,children:t,...r},n)=>{const{renderContext:o}=Ge(),a=h.useCallback(i=>{if(o!=="editor")return;const c=i.target;c.role==="listbox"||c.role==="option"||(i.currentTarget.scrollTop+=i.deltaY)},[o]);return s.jsx("div",{ref:n,className:ee("flex-1 overflow-auto p-5",e),onWheel:a,...r,children:t})});Jo.displayName="TabContent";const qF=h.forwardRef(({children:e,className:t,value:r,onValueChange:n,...o},a)=>s.jsx("div",{ref:a,role:"tablist",className:ee("flex",t),...o,children:He.Children.map(e,i=>He.isValidElement(i)?He.cloneElement(i,{isSelected:i.props.value===r,onSelect:()=>n(i.props.value)}):i)})),UF=h.forwardRef(({children:e,className:t,value:r,isSelected:n,onSelect:o,...a},i)=>s.jsx("button",{ref:i,role:"tab","aria-selected":n,tabIndex:n?0:-1,className:ee("focus:outline-none focus:ring-2 focus:ring-vscode-focusBorder",t),onClick:o,...a,children:e})),KF=()=>{const{taskHistoryFullLength:e,taskHistoryVersion:t}=Ge(),[r,n]=h.useState(""),[o,a]=h.useState("newest"),[i,c]=h.useState("newest"),[l,d]=h.useState(!1),[u,p]=h.useState(0),[m,g]=h.useState(!1),{data:f}=Vg({workspace:l?"all":"current",sort:o,favoritesOnly:m,pageIndex:u,search:r},t);return h.useEffect(()=>{r&&o!=="mostRelevant"&&!i?(c(o),a("mostRelevant")):!r&&o==="mostRelevant"&&i&&(a(i),c(null))},[r,o,i]),{tasks:(f==null?void 0:f.historyItems)??[],searchQuery:r,setSearchQuery:n,sortOption:o,setSortOption:a,lastNonRelevantSort:i,setLastNonRelevantSort:c,showAllWorkspaces:l,setShowAllWorkspaces:d,data:f,taskHistoryFullLength:e,showFavoritesOnly:m,setShowFavoritesOnly:g,requestedPageIndex:u,setRequestedPageIndex:p}},WF=({onDone:e})=>{const{data:t,searchQuery:r,setSearchQuery:n,sortOption:o,setSortOption:a,setLastNonRelevantSort:i,showAllWorkspaces:c,setShowAllWorkspaces:l,taskHistoryFullLength:d,showFavoritesOnly:u,setShowFavoritesOnly:p,setRequestedPageIndex:m}=KF(),g=(t==null?void 0:t.historyItems)??[],f=(t==null?void 0:t.pageIndex)??0,x=(t==null?void 0:t.pageCount)??1,{t:v}=oe(),[N,y]=h.useState(null),[w,b]=h.useState(!1),[k,_]=h.useState([]),[j,T]=h.useState(!1),S=()=>{b(!w),w&&_([])},I=(R,C)=>{_(C?q=>[...q,R]:q=>q.filter(B=>B!==R))},E=R=>{_(R?g.map(C=>C.id):[])},M=()=>{k.length>0&&T(!0)};return s.jsxs(Xo,{children:[s.jsxs(ol,{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:v("history:history")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{content:w?`${v("history:exitSelectionMode")}`:`${v("history:enterSelectionMode")}`,children:s.jsxs(ae,{variant:w?"primary":"secondary",onClick:S,"data-testid":"toggle-selection-mode-button",children:[s.jsx("span",{className:`codicon ${w?"codicon-check-all":"codicon-checklist"} mr-1`}),v(w?"history:exitSelection":"history:selectionMode")]})}),s.jsx(ae,{onClick:e,children:v("history:done")})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(ce,{className:"w-full",placeholder:v("history:searchPlaceholder"),value:r,"data-testid":"history-search-input",onInput:R=>{var q;const C=(q=R.target)==null?void 0:q.value;n(C),C&&!r&&o!=="mostRelevant"&&(i(o),a("mostRelevant"))},children:[s.jsx("div",{slot:"start",className:"codicon codicon-search mt-0.5 opacity-80 text-sm!"}),r&&s.jsx("div",{className:"input-icon-button codicon codicon-close flex justify-center items-center h-full","aria-label":"Clear search",onClick:()=>n(""),slot:"end"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Dt,{value:c?"all":"current",onValueChange:R=>l(R==="all"),children:[s.jsx(Lt,{className:"flex-1",children:s.jsxs(Ft,{children:[v("history:workspace.prefix")," ",v(`history:workspace.${c?"all":"current"}`)]})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"current",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-folder"}),v("history:workspace.current")]})}),s.jsx(Be,{value:"all",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-folder-opened"}),v("history:workspace.all")]})})]})]}),s.jsxs(Dt,{value:o,onValueChange:R=>a(R),children:[s.jsx(Lt,{className:"flex-1",children:s.jsxs(Ft,{children:[v("history:sort.prefix")," ",v(`history:sort.${o}`)]})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"newest","data-testid":"select-newest",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-arrow-down"}),v("history:newest")]})}),s.jsx(Be,{value:"oldest","data-testid":"select-oldest",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-arrow-up"}),v("history:oldest")]})}),s.jsx(Be,{value:"mostExpensive","data-testid":"select-most-expensive",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-credit-card"}),v("history:mostExpensive")]})}),s.jsx(Be,{value:"mostTokens","data-testid":"select-most-tokens",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-symbol-numeric"}),v("history:mostTokens")]})}),s.jsx(Be,{value:"mostRelevant",disabled:!r,"data-testid":"select-most-relevant",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-search"}),v("history:mostRelevant")]})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mc,{id:"show-favorites-only",checked:u,onCheckedChange:R=>p(R===!0),variant:"description"}),s.jsx("label",{htmlFor:"show-favorites-only",className:"text-vscode-foreground cursor-pointer",children:v("history:showFavoritesOnly")})]}),w&&g.length>0&&s.jsx("div",{className:"flex items-center py-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mc,{checked:g.length>0&&k.length===g.length,onCheckedChange:R=>E(R===!0),variant:"description"}),s.jsx("span",{className:"text-vscode-foreground",children:k.length===g.length?v("history:deselectAll"):v("history:selectAll")}),s.jsx("span",{className:"ml-auto text-vscode-descriptionForeground text-xs",children:v("history:selectedItems",{selected:k.length,total:d})})]})})]})]}),s.jsx(Jo,{className:"px-2 py-0",children:s.jsx(Hf,{className:"flex-1 overflow-y-scroll",data:g,"data-testid":"virtuoso-container",initialTopMostItemIndex:0,components:{List:He.forwardRef((R,C)=>s.jsx("div",{...R,ref:C,"data-testid":"virtuoso-item-list"}))},itemContent:(R,C)=>s.jsx(H_,{item:C,variant:"full",showWorkspace:c,isSelectionMode:w,isSelected:k.includes(C.id),onToggleSelection:I,onDelete:y,className:"m-2"},C.id)})}),s.jsxs("div",{className:"bg-vscode-editor-background",children:[w&&k.length>0&&s.jsxs("div",{className:"border-t border-vscode-panel-border p-2 flex justify-between items-center",children:[s.jsx("div",{className:"text-vscode-foreground",children:v("history:selectedItems",{selected:k.length,total:d})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{variant:"secondary",onClick:()=>_([]),children:v("history:clearSelection")}),s.jsx(ae,{variant:"primary",onClick:M,children:v("history:deleteSelected")})]})]}),s.jsxs("div",{className:"border-t border-b border-vscode-panel-border p-2 flex justify-between items-center",children:[v("kilocode:pagination.page",{page:f+1,count:x}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{disabled:f<=0,onClick:()=>{f>0&&m(f-1)},children:v("kilocode:pagination.previous")}),s.jsx(ae,{disabled:f>=x-1,onClick:()=>{f<x-1&&m(f+1)},children:v("kilocode:pagination.next")})]})]})]}),N&&s.jsx(FN,{taskId:N,onOpenChange:R=>!R&&y(null),open:!0}),j&&s.jsx(zF,{taskIds:k,open:j,onOpenChange:R=>{R||(T(!1),_([]),b(!1))}}),s.jsx("div",{className:"fixed bottom-0 right-0",children:s.jsx(ix,{})})]})},$F=h.memo(WF);function HF(){document.body.style.pointerEvents==="none"&&(document.body.style.pointerEvents="")}const ws=({description:e,children:t,className:r,...n})=>s.jsxs("div",{className:ee("sticky top-0 z-10 text-vscode-sideBar-foreground bg-vscode-sideBar-background brightness-90 px-5 py-4",r),...n,children:[s.jsx("h4",{className:"m-0",children:t}),e&&s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-2 mb-0",children:e})]}),VF=({currentApiConfigName:e="",activeApiConfigName:t,listApiConfigMeta:r=[],organizationAllowList:n,onSelectConfig:o,onActivateConfig:a,onDeleteConfig:i,onRenameConfig:c,onUpsertConfig:l})=>{const{t:d}=oe(),[u,p]=h.useState(!1),[m,g]=h.useState(!1),[f,x]=h.useState(""),[v,N]=h.useState(""),[y,w]=h.useState("chat"),[b,k]=h.useState(null),_=h.useRef(null),j=h.useRef(null),T=F=>{if(!n||n.allowAll)return!0;const W=F.apiProvider;if(!W)return!0;const re=n.providers[W];return re?!!re.allowAll||!!(re.models&&re.models.length>0):!1},S=(F,W)=>{const re=F.trim();if(!re)return d("settings:providers.nameEmpty");const H=r==null?void 0:r.some(Z=>Z.name.toLowerCase()===re.toLowerCase());return W&&H||!W&&H&&re.toLowerCase()!==(e==null?void 0:e.toLowerCase())?d("settings:providers.nameExists"):null},I=()=>{g(!1),N(""),w("chat"),k(null)},E=()=>{p(!1),x(""),k(null)};h.useEffect(()=>{if(u){const F=setTimeout(()=>{var W;return(W=_.current)==null?void 0:W.focus()},0);return()=>clearTimeout(F)}},[u]),h.useEffect(()=>{if(m){const F=setTimeout(()=>{var W;return(W=j.current)==null?void 0:W.focus()},0);return()=>clearTimeout(F)}},[m]),h.useEffect(()=>{I(),E()},[e]);const M=F=>{F&&o(F)},R=()=>{I(),g(!0)},C=()=>{p(!0),x(e||""),k(null)},q=()=>{E()},B=()=>{const F=f.trim(),W=S(F,!1);if(W){k(W);return}if(u&&e){if(e===F){E();return}c(e,F)}E()},U=()=>{const F=v.trim(),W=S(F,!0);if(W){k(W);return}l(F,y),I()},te=()=>{!e||!r||r.length<=1||i(e)},Q=(r==null?void 0:r.length)===1,O=t&&e!==t;return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:d("settings:providers.configProfile")}),u?s.jsxs("div",{"data-testid":"rename-form",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ce,{ref:_,value:f,onInput:F=>{x(F.target.value),k(null)},placeholder:d("settings:providers.enterNewName"),onKeyDown:({key:F})=>{F==="Enter"&&f.trim()?B():F==="Escape"&&q()},className:"grow"}),s.jsx(de,{content:d("settings:common.save"),children:s.jsx(ae,{variant:"ghost",size:"icon",disabled:!f.trim(),onClick:B,"data-testid":"save-rename-button",children:s.jsx("span",{className:"codicon codicon-check"})})}),s.jsx(de,{content:d("settings:common.cancel"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:q,"data-testid":"cancel-rename-button",children:s.jsx("span",{className:"codicon codicon-close"})})})]}),b&&s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1","data-testid":"error-message",children:b})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ko,{value:e,onValueChange:M,options:r.map(F=>{const W=T(F),H=(F.profileType||"chat")==="autocomplete"?`${F.name} ${d("settings:providers.autocompleteLabel")}`:F.name,Z=F.name===t;return{value:F.name,label:Z?`${H} (Active)`:H,disabled:!W,icon:W?void 0:s.jsx(de,{content:d("settings:validation.profileInvalid"),children:s.jsx("span",{children:s.jsx(el,{size:16,className:"mr-2 text-vscode-errorForeground"})})})}}),placeholder:d("settings:common.select"),searchPlaceholder:d("settings:providers.searchPlaceholder"),emptyMessage:d("settings:providers.noMatchFound"),className:"grow","data-testid":"select-component"}),s.jsx(de,{content:d("settings:providers.addProfile"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:R,"data-testid":"add-profile-button",children:s.jsx("span",{className:"codicon codicon-add"})})}),e&&s.jsxs(s.Fragment,{children:[s.jsx(de,{content:d("settings:providers.renameProfile"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:C,"data-testid":"rename-profile-button",children:s.jsx("span",{className:"codicon codicon-edit"})})}),s.jsx(de,{content:d(Q?"settings:providers.cannotDeleteOnlyProfile":"settings:providers.deleteProfile"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:te,"data-testid":"delete-profile-button",disabled:Q,children:s.jsx("span",{className:"codicon codicon-trash"})})})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:d("settings:providers.description")}),O&&a&&s.jsx(de,{content:d("settings:providers.makeActiveTooltip"),children:s.jsx(ae,{className:"mt-2",onClick:()=>a(e),"data-testid":"activate-profile-button",children:d("settings:providers.makeActiveProfile")})})]}),s.jsx(Go,{open:m,onOpenChange:F=>{F?(g(!0),N(""),k(null)):I()},"aria-labelledby":"new-profile-title",children:s.jsxs(Qo,{className:"p-4 max-w-sm bg-card",children:[s.jsx(Xa,{children:d("settings:providers.newProfile")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:d("settings:providers.profileName")}),s.jsx(_r,{ref:j,value:v,onInput:F=>{N(F.target.value),k(null)},placeholder:d("settings:providers.enterProfileName"),"data-testid":"new-profile-input",style:{width:"100%"},onKeyDown:F=>{const W=F;W.key==="Enter"&&v.trim()?U():W.key==="Escape"&&I()}})]}),Ig]}),b&&s.jsx("p",{className:"text-vscode-errorForeground text-sm mt-2","data-testid":"error-message",children:b}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(ae,{variant:"secondary",onClick:I,"data-testid":"cancel-new-profile-button",children:d("settings:common.cancel")}),s.jsx(ae,{variant:"primary",disabled:!v.trim(),onClick:U,"data-testid":"create-profile-button",children:d("settings:providers.createProfile")})]})]})})]})},GF=h.memo(VF),bf=e=>{const t={};for(const[r,n]of e){const o=r.trim();o&&(t[o]=n.trim())}return t};function QF(e,t,r){const n=r2(e);if(n)return n;const o=lx(e,r);return o?o.message:n2(e,t)}function r2(e){switch(e.apiProvider){case"openrouter":if(!e.openRouterApiKey)return Re.t("settings:validation.apiKey");break;case"glama":if(!e.glamaApiKey)return Re.t("settings:validation.apiKey");break;case"unbound":if(!e.unboundApiKey)return Re.t("settings:validation.apiKey");break;case"requesty":if(!e.requestyApiKey)return Re.t("settings:validation.apiKey");break;case"deepinfra":if(!e.deepInfraApiKey)return Re.t("settings:validation.apiKey");break;case"litellm":if(!e.litellmApiKey)return Re.t("settings:validation.apiKey");break;case"anthropic":if(!e.apiKey)return Re.t("settings:validation.apiKey");break;case"bedrock":if(!e.awsRegion)return Re.t("settings:validation.awsRegion");break;case"vertex":if(!e.vertexProjectId||!e.vertexRegion)return Re.t("settings:validation.googleCloud");break;case"gemini":if(!e.geminiApiKey)return Re.t("settings:validation.apiKey");break;case"gemini-cli":break;case"openai-native":if(!e.openAiNativeApiKey)return Re.t("settings:validation.apiKey");break;case"mistral":if(!e.mistralApiKey)return Re.t("settings:validation.apiKey");break;case"openai":if(!e.openAiBaseUrl||!e.openAiApiKey||!e.openAiModelId)return Re.t("settings:validation.openAi");break;case"ollama":if(!e.ollamaModelId)return Re.t("settings:validation.modelId");break;case"lmstudio":if(!e.lmStudioModelId)return Re.t("settings:validation.modelId");break;case"vscode-lm":if(!e.vsCodeLmModelSelector)return Re.t("settings:validation.modelSelector");break;case"kilocode":if(!e.kilocodeToken)return Re.t("settings:validation.apiKey");break;case"huggingface":if(!e.huggingFaceApiKey)return Re.t("settings:validation.apiKey");if(!e.huggingFaceModelId)return Re.t("settings:validation.modelId");break;case"cerebras":if(!e.cerebrasApiKey)return Re.t("settings:validation.apiKey");break;case"fireworks":if(!e.fireworksApiKey)return Re.t("settings:validation.apiKey");break;case"synthetic":if(!e.syntheticApiKey)return Re.t("settings:validation.apiKey");break;case"io-intelligence":if(!e.ioIntelligenceApiKey)return Re.t("settings:validation.apiKey");break;case"featherless":if(!e.featherlessApiKey)return Re.t("settings:validation.apiKey");break;case"qwen-code":if(!e.qwenCodeOauthPath)return Re.t("settings:validation.qwenCodeOauthPath");break;case"vercel-ai-gateway":if(!e.vercelAiGatewayApiKey)return Re.t("settings:validation.apiKey");break;case"ovhcloud":if(!e.ovhCloudAiEndpointsApiKey)return Re.t("settings:validation.apiKey");break;case"sap-ai-core":if(!e.sapAiCoreServiceKey)return Re.t("settings:validation.sapAiCore");if(!e.sapAiCoreModelId)return Re.t("settings:validation.modelId");if(!e.sapAiCoreUseOrchestration&&!e.sapAiCoreDeploymentId)return Re.t("settings:validation.sapAiCoreDeploymentId",{model:e.sapAiCoreModelId});break;case"baseten":if(!e.basetenApiKey)return Re.t("settings:validation.apiKey");break}}function lx(e,t){if(t&&!t.allowAll){const r=e.apiProvider;if(!r)return;const n=t.providers[r];if(!n)return{message:Re.t("settings:validation.providerNotAllowed",{provider:r}),code:"PROVIDER_NOT_ALLOWED"};if(!n.allowAll){const o=cx(e,r),a=n.models||[];if(o&&!a.includes(o))return{message:Re.t("settings:validation.modelNotAllowed",{model:o,provider:r}),code:"MODEL_NOT_ALLOWED"}}}}function cx(e,t){var r;return t==="vscode-lm"?(r=e.vsCodeLmModelSelector)==null?void 0:r.id:iT(t)||lT(t)?e.apiModelId:e[cT[t]]}function YF(e,t){const r=/^arn:aws:(?:bedrock|sagemaker):([^:]+):([^:]*):(?:([^/]+)\/([\w.\-:]+)|([^/]+))$/,n=e.match(r);if(!n)return{isValid:!1,arnRegion:void 0,errorMessage:Re.t("settings:validation.arn.invalidFormat")};const o=n[1];return t&&o!==t?{isValid:!0,arnRegion:o,errorMessage:Re.t("settings:validation.arn.regionMismatch",{arnRegion:o,region:t})}:{isValid:!0,arnRegion:o,errorMessage:void 0}}function n2(e,t){const r=e.apiProvider??"";if(!mj(r))return;const n=cx(e,r);if(!n)return Re.t("settings:validation.modelId");const o=t==null?void 0:t[r];if(o&&Object.keys(o).length>1&&!Object.keys(o).includes(n))return Re.t("settings:validation.modelAvailability",{modelId:n})}function XF(e,t,r){const n=aT(e.apiProvider)?cx(e,e.apiProvider):e.apiModelId,o={...e,apiModelId:n||""},a=lx(o,r);return a&&a.code==="MODEL_NOT_ALLOWED"?a.message:n2(o,t)}function JF(e,t,r){const n=r2(e);if(n)return n;const o=lx(e,r);if(o&&o.code==="PROVIDER_NOT_ALLOWED")return o.message}const ZF=(e,t,r)=>{if(!e||!r||r.allowAll)return e;if(!t)return{};const n=r.providers[t];if(!n)return{};if(n.allowAll)return e;const o=n.models||[],a={};for(const i of o)e[i]&&(a[i]=e[i]);return a};var or={},o2={exports:{}},ii={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function eL(){if(Lb)return ii;Lb=1;var e=He,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(c,l,d){var u,p={},m=null,g=null;d!==void 0&&(m=""+d),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(u in l)n.call(l,u)&&!a.hasOwnProperty(u)&&(p[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)p[u]===void 0&&(p[u]=l[u]);return{$$typeof:t,type:c,key:m,ref:g,props:p,_owner:o.current}}return ii.Fragment=r,ii.jsx=i,ii.jsxs=i,ii}o2.exports=eL();var kr=o2.exports,Js=function(){return Js=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Js.apply(this,arguments)};function Tc(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var qt="-ms-",bi="-moz-",St="-webkit-",a2="comm",hd="rule",dx="decl",tL="@import",i2="@keyframes",sL="@layer",l2=Math.abs,ux=String.fromCharCode,yf=Object.assign;function rL(e,t){return bs(e,0)^45?(((t<<2^bs(e,0))<<2^bs(e,1))<<2^bs(e,2))<<2^bs(e,3):0}function c2(e){return e.trim()}function _n(e,t){return(e=t.exec(e))?e[0]:e}function at(e,t,r){return e.replace(t,r)}function Jl(e,t,r){return e.indexOf(t,r)}function bs(e,t){return e.charCodeAt(t)|0}function Ua(e,t,r){return e.slice(t,r)}function gn(e){return e.length}function d2(e){return e.length}function fi(e,t){return t.push(e),e}function nL(e,t){return e.map(t).join("")}function Bb(e,t){return e.filter(function(r){return!_n(r,t)})}var fd=1,Ka=1,u2=0,Tr=0,ps=0,Za="";function gd(e,t,r,n,o,a,i,c){return{value:e,root:t,parent:r,type:n,props:o,children:a,line:fd,column:Ka,length:i,return:"",siblings:c}}function Un(e,t){return yf(gd("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ra(e){for(;e.root;)e=Un(e.root,{children:[e]});fi(e,e.siblings)}function oL(){return ps}function aL(){return ps=Tr>0?bs(Za,--Tr):0,Ka--,ps===10&&(Ka=1,fd--),ps}function $r(){return ps=Tr<u2?bs(Za,Tr++):0,Ka++,ps===10&&(Ka=1,fd++),ps}function Lo(){return bs(Za,Tr)}function Zl(){return Tr}function xd(e,t){return Ua(Za,e,t)}function wf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iL(e){return fd=Ka=1,u2=gn(Za=e),Tr=0,[]}function lL(e){return Za="",e}function Zd(e){return c2(xd(Tr-1,kf(e===91?e+2:e===40?e+1:e)))}function cL(e){for(;(ps=Lo())&&ps<33;)$r();return wf(e)>2||wf(ps)>3?"":" "}function dL(e,t){for(;--t&&$r()&&!(ps<48||ps>102||ps>57&&ps<65||ps>70&&ps<97););return xd(e,Zl()+(t<6&&Lo()==32&&$r()==32))}function kf(e){for(;$r();)switch(ps){case e:return Tr;case 34:case 39:e!==34&&e!==39&&kf(ps);break;case 40:e===41&&kf(e);break;case 92:$r();break}return Tr}function uL(e,t){for(;$r()&&e+ps!==57&&!(e+ps===84&&Lo()===47););return"/*"+xd(t,Tr-1)+"*"+ux(e===47?e:$r())}function pL(e){for(;!wf(Lo());)$r();return xd(e,Tr)}function mL(e){return lL(ec("",null,null,null,[""],e=iL(e),0,[0],e))}function ec(e,t,r,n,o,a,i,c,l){for(var d=0,u=0,p=i,m=0,g=0,f=0,x=1,v=1,N=1,y=0,w="",b=o,k=a,_=n,j=w;v;)switch(f=y,y=$r()){case 40:if(f!=108&&bs(j,p-1)==58){Jl(j+=at(Zd(y),"&","&\f"),"&\f",l2(d?c[d-1]:0))!=-1&&(N=-1);break}case 34:case 39:case 91:j+=Zd(y);break;case 9:case 10:case 13:case 32:j+=cL(f);break;case 92:j+=dL(Zl()-1,7);continue;case 47:switch(Lo()){case 42:case 47:fi(hL(uL($r(),Zl()),t,r,l),l);break;default:j+="/"}break;case 123*x:c[d++]=gn(j)*N;case 125*x:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:N==-1&&(j=at(j,/\f/g,"")),g>0&&gn(j)-p&&fi(g>32?qb(j+";",n,r,p-1,l):qb(at(j," ","")+";",n,r,p-2,l),l);break;case 59:j+=";";default:if(fi(_=zb(j,t,r,d,u,o,c,w,b=[],k=[],p,a),a),y===123)if(u===0)ec(j,t,_,_,b,a,p,c,k);else switch(m===99&&bs(j,3)===110?100:m){case 100:case 108:case 109:case 115:ec(e,_,_,n&&fi(zb(e,_,_,0,0,o,c,w,o,b=[],p,k),k),o,k,p,c,n?b:k);break;default:ec(j,_,_,_,[""],k,0,c,k)}}d=u=g=0,x=N=1,w=j="",p=i;break;case 58:p=1+gn(j),g=f;default:if(x<1){if(y==123)--x;else if(y==125&&x++==0&&aL()==125)continue}switch(j+=ux(y),y*x){case 38:N=u>0?1:(j+="\f",-1);break;case 44:c[d++]=(gn(j)-1)*N,N=1;break;case 64:Lo()===45&&(j+=Zd($r())),m=Lo(),u=p=gn(w=j+=pL(Zl())),y++;break;case 45:f===45&&gn(j)==2&&(x=0)}}return a}function zb(e,t,r,n,o,a,i,c,l,d,u,p){for(var m=o-1,g=o===0?a:[""],f=d2(g),x=0,v=0,N=0;x<n;++x)for(var y=0,w=Ua(e,m+1,m=l2(v=i[x])),b=e;y<f;++y)(b=c2(v>0?g[y]+" "+w:at(w,/&\f/g,g[y])))&&(l[N++]=b);return gd(e,t,r,o===0?hd:c,l,d,u,p)}function hL(e,t,r,n){return gd(e,t,r,a2,ux(oL()),Ua(e,2,-2),0,n)}function qb(e,t,r,n,o){return gd(e,t,r,dx,Ua(e,0,n),Ua(e,n+1,-1),n,o)}function p2(e,t,r){switch(rL(e,t)){case 5103:return St+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+e+e;case 4789:return bi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return St+e+bi+e+qt+e+e;case 5936:switch(bs(e,t+11)){case 114:return St+e+qt+at(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return St+e+qt+at(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return St+e+qt+at(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return St+e+qt+e+e;case 6165:return St+e+qt+"flex-"+e+e;case 5187:return St+e+at(e,/(\w+).+(:[^]+)/,St+"box-$1$2"+qt+"flex-$1$2")+e;case 5443:return St+e+qt+"flex-item-"+at(e,/flex-|-self/g,"")+(_n(e,/flex-|baseline/)?"":qt+"grid-row-"+at(e,/flex-|-self/g,""))+e;case 4675:return St+e+qt+"flex-line-pack"+at(e,/align-content|flex-|-self/g,"")+e;case 5548:return St+e+qt+at(e,"shrink","negative")+e;case 5292:return St+e+qt+at(e,"basis","preferred-size")+e;case 6060:return St+"box-"+at(e,"-grow","")+St+e+qt+at(e,"grow","positive")+e;case 4554:return St+at(e,/([^-])(transform)/g,"$1"+St+"$2")+e;case 6187:return at(at(at(e,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),e,"")+e;case 5495:case 3959:return at(e,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return at(at(e,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+e+e;case 4200:if(!_n(e,/flex-|baseline/))return qt+"grid-column-align"+Ua(e,t)+e;break;case 2592:case 3360:return qt+at(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,o){return t=o,_n(n.props,/grid-\w+-end/)})?~Jl(e+(r=r[t].value),"span",0)?e:qt+at(e,"-start","")+e+qt+"grid-row-span:"+(~Jl(r,"span",0)?_n(r,/\d+/):+_n(r,/\d+/)-+_n(e,/\d+/))+";":qt+at(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return _n(n.props,/grid-\w+-start/)})?e:qt+at(at(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return at(e,/(.+)-inline(.+)/,St+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gn(e)-1-t>6)switch(bs(e,t+1)){case 109:if(bs(e,t+4)!==45)break;case 102:return at(e,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+bi+(bs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Jl(e,"stretch",0)?p2(at(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return at(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,o,a,i,c,l,d){return qt+o+":"+a+d+(i?qt+o+"-span:"+(c?l:+l-+a)+d:"")+e});case 4949:if(bs(e,t+6)===121)return at(e,":",":"+St)+e;break;case 6444:switch(bs(e,bs(e,14)===45?18:11)){case 120:return at(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+St+(bs(e,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+qt+"$2box$3")+e;case 100:return at(e,":",":"+qt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(e,"scroll-","scroll-snap-")+e}return e}function Ic(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function fL(e,t,r,n){switch(e.type){case sL:if(e.children.length)break;case tL:case dx:return e.return=e.return||e.value;case a2:return"";case i2:return e.return=e.value+"{"+Ic(e.children,n)+"}";case hd:if(!gn(e.value=e.props.join(",")))return""}return gn(r=Ic(e.children,n))?e.return=e.value+"{"+r+"}":""}function gL(e){var t=d2(e);return function(r,n,o,a){for(var i="",c=0;c<t;c++)i+=e[c](r,n,o,a)||"";return i}}function xL(e){return function(t){t.root||(t=t.return)&&e(t)}}function vL(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case dx:e.return=p2(e.value,e.length,r);return;case i2:return Ic([Un(e,{value:at(e.value,"@","@"+St)})],n);case hd:if(e.length)return nL(r=e.props,function(o){switch(_n(o,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ra(Un(e,{props:[at(o,/:(read-\w+)/,":"+bi+"$1")]})),ra(Un(e,{props:[o]})),yf(e,{props:Bb(r,n)});break;case"::placeholder":ra(Un(e,{props:[at(o,/:(plac\w+)/,":"+St+"input-$1")]})),ra(Un(e,{props:[at(o,/:(plac\w+)/,":"+bi+"$1")]})),ra(Un(e,{props:[at(o,/:(plac\w+)/,qt+"input-$1")]})),ra(Un(e,{props:[o]})),yf(e,{props:Bb(r,n)});break}return""})}}var bL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wa=typeof process<"u"&&or!==void 0&&(or.REACT_APP_SC_ATTR||or.SC_ATTR)||"data-styled",m2="active",h2="data-styled-version",vd="6.1.13",px=`/*!sc*/
`,Pc=typeof window<"u"&&"HTMLElement"in window,yL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&or!==void 0&&or.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&or.REACT_APP_SC_DISABLE_SPEEDY!==""?or.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&or.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&or!==void 0&&or.SC_DISABLE_SPEEDY!==void 0&&or.SC_DISABLE_SPEEDY!==""&&or.SC_DISABLE_SPEEDY!=="false"&&or.SC_DISABLE_SPEEDY),bd=Object.freeze([]),$a=Object.freeze({});function wL(e,t,r){return r===void 0&&(r=$a),e.theme!==r.theme&&e.theme||t||r.theme}var f2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jL=/(^-|-$)/g;function Ub(e){return e.replace(kL,"-").replace(jL,"")}var _L=/(a)(d)/gi,Pl=52,Kb=function(e){return String.fromCharCode(e+(e>25?39:97))};function jf(e){var t,r="";for(t=Math.abs(e);t>Pl;t=t/Pl|0)r=Kb(t%Pl)+r;return(Kb(t%Pl)+r).replace(_L,"$1-$2")}var eu,g2=5381,ha=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},x2=function(e){return ha(g2,e)};function NL(e){return jf(x2(e)>>>0)}function SL(e){return e.displayName||e.name||"Component"}function tu(e){return typeof e=="string"&&!0}var v2=typeof Symbol=="function"&&Symbol.for,b2=v2?Symbol.for("react.memo"):60115,TL=v2?Symbol.for("react.forward_ref"):60112,IL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EL=((eu={})[TL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eu[b2]=y2,eu);function Wb(e){return("type"in(t=e)&&t.type.$$typeof)===b2?y2:"$$typeof"in e?EL[e.$$typeof]:IL;var t}var ML=Object.defineProperty,AL=Object.getOwnPropertyNames,$b=Object.getOwnPropertySymbols,RL=Object.getOwnPropertyDescriptor,CL=Object.getPrototypeOf,Hb=Object.prototype;function w2(e,t,r){if(typeof t!="string"){if(Hb){var n=CL(t);n&&n!==Hb&&w2(e,n,r)}var o=AL(t);$b&&(o=o.concat($b(t)));for(var a=Wb(e),i=Wb(t),c=0;c<o.length;++c){var l=o[c];if(!(l in PL||r&&r[l]||i&&l in i||a&&l in a)){var d=RL(t,l);try{ML(e,l,d)}catch{}}}}return e}function Ha(e){return typeof e=="function"}function mx(e){return typeof e=="object"&&"styledComponentId"in e}function No(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Vb(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function Ci(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function _f(e,t,r){if(r===void 0&&(r=!1),!r&&!Ci(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=_f(e[n],t[n]);else if(Ci(t))for(var n in t)e[n]=_f(e[n],t[n]);return e}function hx(e,t){Object.defineProperty(e,"toString",{value:t})}function al(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var OL=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,a=o;t>=a;)if((a<<=1)<0)throw al(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var i=o;i<a;i++)this.groupSizes[i]=0}for(var c=this.indexOfGroup(t+1),l=(i=0,r.length);i<l;i++)this.tag.insertRule(c,r[i])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),o=n+r;this.groupSizes[t]=0;for(var a=n;a<o;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],o=this.indexOfGroup(t),a=o+n,i=o;i<a;i++)r+="".concat(this.tag.getRule(i)).concat(px);return r},e})(),tc=new Map,Ec=new Map,sc=1,El=function(e){if(tc.has(e))return tc.get(e);for(;Ec.has(sc);)sc++;var t=sc++;return tc.set(e,t),Ec.set(t,e),t},DL=function(e,t){sc=t+1,tc.set(e,t),Ec.set(t,e)},FL="style[".concat(Wa,"][").concat(h2,'="').concat(vd,'"]'),LL=new RegExp("^".concat(Wa,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),BL=function(e,t,r){for(var n,o=r.split(","),a=0,i=o.length;a<i;a++)(n=o[a])&&e.registerName(t,n)},zL=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(px),o=[],a=0,i=n.length;a<i;a++){var c=n[a].trim();if(c){var l=c.match(LL);if(l){var d=0|parseInt(l[1],10),u=l[2];d!==0&&(DL(u,d),BL(e,u,l[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(c)}}},Gb=function(e){for(var t=document.querySelectorAll(FL),r=0,n=t.length;r<n;r++){var o=t[r];o&&o.getAttribute(Wa)!==m2&&(zL(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function qL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var k2=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=(function(c){var l=Array.from(c.querySelectorAll("style[".concat(Wa,"]")));return l[l.length-1]})(r),a=o!==void 0?o.nextSibling:null;n.setAttribute(Wa,m2),n.setAttribute(h2,vd);var i=qL();return i&&n.setAttribute("nonce",i),r.insertBefore(n,a),n},UL=(function(){function e(t){this.element=k2(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,o=0,a=n.length;o<a;o++){var i=n[o];if(i.ownerNode===r)return i}throw al(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e})(),KL=(function(){function e(t){this.element=k2(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),WL=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),Qb=Pc,$L={isServer:!Pc,useCSSOMInjection:!yL},j2=(function(){function e(t,r,n){t===void 0&&(t=$a),r===void 0&&(r={});var o=this;this.options=Js(Js({},$L),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&Pc&&Qb&&(Qb=!1,Gb(this)),hx(this,function(){return(function(a){for(var i=a.getTag(),c=i.length,l="",d=function(p){var m=(function(N){return Ec.get(N)})(p);if(m===void 0)return"continue";var g=a.names.get(m),f=i.getGroup(p);if(g===void 0||!g.size||f.length===0)return"continue";var x="".concat(Wa,".g").concat(p,'[id="').concat(m,'"]'),v="";g!==void 0&&g.forEach(function(N){N.length>0&&(v+="".concat(N,","))}),l+="".concat(f).concat(x,'{content:"').concat(v,'"}').concat(px)},u=0;u<c;u++)d(u);return l})(o)})}return e.registerId=function(t){return El(t)},e.prototype.rehydrate=function(){!this.server&&Pc&&Gb(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Js(Js({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var n=r.useCSSOMInjection,o=r.target;return r.isServer?new WL(o):n?new UL(o):new KL(o)})(this.options),new OL(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(El(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(El(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(El(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),HL=/&/g,VL=/^\s*\/\/.*$/gm;function _2(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=_2(r.children,t)),r})}function GL(e){var t,r,n,o=$a,a=o.options,i=a===void 0?$a:a,c=o.plugins,l=c===void 0?bd:c,d=function(m,g,f){return f.startsWith(r)&&f.endsWith(r)&&f.replaceAll(r,"").length>0?".".concat(t):m},u=l.slice();u.push(function(m){m.type===hd&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(HL,r).replace(n,d))}),i.prefix&&u.push(vL),u.push(fL);var p=function(m,g,f,x){g===void 0&&(g=""),f===void 0&&(f=""),x===void 0&&(x="&"),t=x,r=g,n=new RegExp("\\".concat(r,"\\b"),"g");var v=m.replace(VL,""),N=mL(f||g?"".concat(f," ").concat(g," { ").concat(v," }"):v);i.namespace&&(N=_2(N,i.namespace));var y=[];return Ic(N,gL(u.concat(xL(function(w){return y.push(w)})))),y};return p.hash=l.length?l.reduce(function(m,g){return g.name||al(15),ha(m,g.name)},g2).toString():"",p}var QL=new j2,Nf=GL(),N2=He.createContext({shouldForwardProp:void 0,styleSheet:QL,stylis:Nf});N2.Consumer;He.createContext(void 0);function Yb(){return h.useContext(N2)}var YL=(function(){function e(t,r){var n=this;this.inject=function(o,a){a===void 0&&(a=Nf);var i=n.name+a.hash;o.hasNameForId(n.id,i)||o.insertRules(n.id,i,a(n.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,hx(this,function(){throw al(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Nf),this.name+t.hash},e})(),XL=function(e){return e>="A"&&e<="Z"};function Xb(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;XL(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var S2=function(e){return e==null||e===!1||e===""},T2=function(e){var t,r,n=[];for(var o in e){var a=e[o];e.hasOwnProperty(o)&&!S2(a)&&(Array.isArray(a)&&a.isCss||Ha(a)?n.push("".concat(Xb(o),":"),a,";"):Ci(a)?n.push.apply(n,Tc(Tc(["".concat(o," {")],T2(a),!1),["}"],!1)):n.push("".concat(Xb(o),": ").concat((t=o,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in bL||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Bo(e,t,r,n){if(S2(e))return[];if(mx(e))return[".".concat(e.styledComponentId)];if(Ha(e)){if(!Ha(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var o=e(t);return Bo(o,t,r,n)}var a;return e instanceof YL?r?(e.inject(r,n),[e.getName(n)]):[e]:Ci(e)?T2(e):Array.isArray(e)?Array.prototype.concat.apply(bd,e.map(function(i){return Bo(i,t,r,n)})):[e.toString()]}function JL(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Ha(r)&&!mx(r))return!1}return!0}var ZL=x2(vd),eB=(function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&JL(t),this.componentId=r,this.baseHash=ha(ZL,r),this.baseStyle=n,j2.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=No(o,this.staticRulesId);else{var a=Vb(Bo(this.rules,t,r,n)),i=jf(ha(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,i)){var c=n(a,".".concat(i),void 0,this.componentId);r.insertRules(this.componentId,i,c)}o=No(o,i),this.staticRulesId=i}else{for(var l=ha(this.baseHash,n.hash),d="",u=0;u<this.rules.length;u++){var p=this.rules[u];if(typeof p=="string")d+=p;else if(p){var m=Vb(Bo(p,t,r,n));l=ha(l,m+u),d+=m}}if(d){var g=jf(l>>>0);r.hasNameForId(this.componentId,g)||r.insertRules(this.componentId,g,n(d,".".concat(g),void 0,this.componentId)),o=No(o,g)}}return o},e})(),I2=He.createContext(void 0);I2.Consumer;var su={};function tB(e,t,r){var n=mx(e),o=e,a=!tu(e),i=t.attrs,c=i===void 0?bd:i,l=t.componentId,d=l===void 0?(function(b,k){var _=typeof b!="string"?"sc":Ub(b);su[_]=(su[_]||0)+1;var j="".concat(_,"-").concat(NL(vd+_+su[_]));return k?"".concat(k,"-").concat(j):j})(t.displayName,t.parentComponentId):l,u=t.displayName,p=u===void 0?(function(b){return tu(b)?"styled.".concat(b):"Styled(".concat(SL(b),")")})(e):u,m=t.displayName&&t.componentId?"".concat(Ub(t.displayName),"-").concat(t.componentId):t.componentId||d,g=n&&o.attrs?o.attrs.concat(c).filter(Boolean):c,f=t.shouldForwardProp;if(n&&o.shouldForwardProp){var x=o.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;f=function(b,k){return x(b,k)&&v(b,k)}}else f=x}var N=new eB(r,m,n?o.componentStyle:void 0);function y(b,k){return(function(_,j,T){var S=_.attrs,I=_.componentStyle,E=_.defaultProps,M=_.foldedComponentIds,R=_.styledComponentId,C=_.target,q=He.useContext(I2),B=Yb(),U=_.shouldForwardProp||B.shouldForwardProp,te=wL(j,q,E)||$a,Q=(function(Z,Y,G){for(var ie,D=Js(Js({},Y),{className:void 0,theme:G}),me=0;me<Z.length;me+=1){var xe=Ha(ie=Z[me])?ie(D):ie;for(var we in xe)D[we]=we==="className"?No(D[we],xe[we]):we==="style"?Js(Js({},D[we]),xe[we]):xe[we]}return Y.className&&(D.className=No(D.className,Y.className)),D})(S,j,te),O=Q.as||C,F={};for(var W in Q)Q[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&Q.theme===te||(W==="forwardedAs"?F.as=Q.forwardedAs:U&&!U(W,O)||(F[W]=Q[W]));var re=(function(Z,Y){var G=Yb(),ie=Z.generateAndInjectStyles(Y,G.styleSheet,G.stylis);return ie})(I,Q),H=No(M,R);return re&&(H+=" "+re),Q.className&&(H+=" "+Q.className),F[tu(O)&&!f2.has(O)?"class":"className"]=H,F.ref=T,h.createElement(O,F)})(w,b,k)}y.displayName=p;var w=He.forwardRef(y);return w.attrs=g,w.componentStyle=N,w.displayName=p,w.shouldForwardProp=f,w.foldedComponentIds=n?No(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=m,w.target=n?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=n?(function(k){for(var _=[],j=1;j<arguments.length;j++)_[j-1]=arguments[j];for(var T=0,S=_;T<S.length;T++)_f(k,S[T],!0);return k})({},o.defaultProps,b):b}}),hx(w,function(){return".".concat(w.styledComponentId)}),a&&w2(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function Jb(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r}var Zb=function(e){return Object.assign(e,{isCss:!0})};function sB(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Ha(e)||Ci(e))return Zb(Bo(Jb(bd,Tc([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?Bo(n):Zb(Bo(Jb(n,t)))}function Sf(e,t,r){if(r===void 0&&(r=$a),!t)throw al(1,t);var n=function(o){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,r,sB.apply(void 0,Tc([o],a,!1)))};return n.attrs=function(o){return Sf(e,t,Js(Js({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},n.withConfig=function(o){return Sf(e,t,Js(Js({},r),o))},n}var P2=function(e){return Sf(tB,e)},mt=P2;f2.forEach(function(e){mt[e]=P2(e)});mt.span`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: var(--vscode-badge-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 11px;
  box-sizing: border-box;
  color: var(--vscode-badge-foreground);
  font-family: var(--vscode-font-family);
  font-size: 11px;
  line-height: 16px;
  height: 16px;
  min-width: 18px;
  min-height: 18px;
  padding: 3px 6px;
  text-align: center;
`;const rB=mt.button`
  display: inline-flex;
  outline: none;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  line-height: normal;
  color: var(--vscode-button-foreground);
  background: var(--vscode-button-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 2px;
  padding: 4px 11px;
  fill: currentColor;
  cursor: pointer;

  &:focus-visible {
    outline: 1px solid var(--vscode-focusBorder);
    outline-offset: 2px;
  }

  &:active {
    background: var(--vscode-button-background);
  }

  &:hover {
    background: var(--vscode-button-hoverBackground);
  }

  &::-moz-focus-inner {
    border: 0;
  }

  &.secondary {
    background: var(--vscode-button-secondaryBackground);
    color: var(--vscode-button-secondaryForeground);

    &:active {
      background: var(--vscode-button-secondaryBackground);
    }

    &:hover {
      background: var(--vscode-button-secondaryHoverBackground);
    }
  }

  &.icon {
    background: transparent;
    border: none;
    border-radius: 5px;
    color: var(--vscode-foreground);
    padding: 3px;

    &:hover {
      background: rgba(90, 93, 94, 0.31);
      outline: 1px dotted var(--vscode-contrastActiveBorder);
      outline-offset: -1px;
    }

    &:active {
      background: rgba(90, 93, 94, 0.31);
    }
  }

  &:disabled {
    opacity: 0.4;
    background: var(--vscode-button-background);
    cursor: not-allowed;

    &.secondary {
      background: var(--vscode-button-secondaryBackground);
    }
    
    &.icon {
      background: transparent;
    }
  }
`,E2=({appearance:e="primary",className:t,children:r,disabled:n=!1,type:o="button",onClick:a=void 0,...i})=>kr.jsx(rB,{className:`vscrui-button ${e} ${t||""}`,disabled:n,onClick:a,type:o,...i,children:r});E2.displayName="VSCRUI_Badge";var Ns=[];for(var ru=0;ru<256;++ru)Ns.push((ru+256).toString(16).slice(1));function nB(e,t=0){return(Ns[e[t+0]]+Ns[e[t+1]]+Ns[e[t+2]]+Ns[e[t+3]]+"-"+Ns[e[t+4]]+Ns[e[t+5]]+"-"+Ns[e[t+6]]+Ns[e[t+7]]+"-"+Ns[e[t+8]]+Ns[e[t+9]]+"-"+Ns[e[t+10]]+Ns[e[t+11]]+Ns[e[t+12]]+Ns[e[t+13]]+Ns[e[t+14]]+Ns[e[t+15]]).toLowerCase()}var Ml,oB=new Uint8Array(16);function aB(){if(!Ml&&(Ml=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ml))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ml(oB)}var iB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ey={randomUUID:iB};function lB(e,t,r){if(ey.randomUUID&&!e)return ey.randomUUID();e=e||{};var n=e.random||(e.rng||aB)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,nB(n)}function cB(){const[e,t]=h.useState("");return h.useEffect(()=>{t(lB())},[]),e}const dB=mt.label`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: flex;
  align-items: center;
  cursor: pointer;
  position: relative;
  outline: none;
  user-select: none;

  &.disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  input {
    opacity: 0;
    outline: none;
    appearance: none;
    position: absolute;
  }
`,M2=mt.svg`
  background: var(--vscode-checkbox-background);
  border: 1px solid var(--vscode-checkbox-border);
  border-radius: 2px;
  color: var(--vscode-checkbox-foreground);
  display: inline-block;
  width: 16px;
  height: 16px;
  transition: 60ms transform ease-in-out;

  &:active, &:focus, &:focus-visible {
    border-color: var(--vscode-focusBorder);
  }
`,uB=mt.span`
  padding-left: 10px;
`,pB=({checked:e})=>kr.jsx(M2,{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:e?"currentColor":"transparent",children:kr.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"})}),mB=()=>kr.jsx(M2,{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:kr.jsx("rect",{x:"4",y:"4",height:"8",width:"8",rx:"2"})}),Pt=({checked:e,children:t,className:r,indeterminate:n,disabled:o,onChange:a,...i})=>{const[c,l]=h.useState(!!e),d=h.useRef(null),u=cB(),p=m=>{l(m.target.checked),a&&a(m.target.checked)};return h.useEffect(()=>{l(!!e)},[e]),h.useEffect(()=>{d.current&&(d.current.indeterminate=n===!0)},[n]),kr.jsxs(dB,{htmlFor:u,className:`vscrui-checkbox ${r||""} ${o?"disabled":""}`,...i,children:[kr.jsx("input",{id:u,ref:d,type:"checkbox",checked:c,disabled:o,onChange:p}),n===!0?kr.jsx(mB,{}):kr.jsx(pB,{checked:c}),t&&kr.jsx(uB,{className:"vscrui-checkbox__label",children:t})]})};Pt.displayName="VSCRUI_Checkbox";mt.hr`
  border: none;
  border-top: 1px solid var(--vscode-settings-dropdownListBorder);
  box-sizing: content-box;
  height: 0;
  margin: 4px 0;
  width: 100%;
`;mt.div`
  display: inline-block;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-foreground);
  cursor: pointer;
  box-sizing: border-box;
  min-width: 100px;
  position: relative;
  user-select: none;
  outline: none;
  vertical-align: top;

  &.disabled {
    opacity: 0.4;
    pointer-events: none;
    cursor: not-allowed;
  }
`;mt.button`
  all: unset;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--vscode-dropdown-background);
  border: 1px solid var(--vscode-dropdown-border);
  border-radius: 2px;
  height: 26px;
  box-sizing: border-box;
  contain: content;
  cursor: pointer;
  line-height: normal;
  padding: 2px 6px 2px 8px;
  width: 100%;

  &:not([disabled]):active,
  &.open {
    border-color: var(--vscode-focusBorder);
  }

  &:focus {
    border-color: var(--vscode-focusBorder);
  }

  &:hover {
    background: inherit;
  }
`;mt.div`
  background: var(--vscode-dropdown-background);
  border: 1px solid var(--vscode-focusBorder);
  box-sizing: border-box;
  left: 0px;
  max-height: 200px;
  padding: 0 0 4px 0;
  overflow-y: auto;
  position: absolute;
  width: 100%;
  z-index: 1;

  // Below
  border-radius: ${e=>e.position==="above"?"2px 2px 0 0":"0 0 2px 2px"};
  top: ${e=>e.position==="above"?"auto":"26px"};
  bottom: ${e=>e.position==="above"?"26px":"auto"};

  ul {
    box-sizing: border-box;
    cursor: pointer;
    list-style: none;
    margin: 0px;
    max-height: 222px;
    overflow: auto;
    padding: 1px;
  }
`;mt.button`
  all: unset;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-foreground);
  border: 1px solid transparent;
  border-radius: 2px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: normal;
  margin: 0;
  outline: none;
  overflow: hidden;
  padding: 0 2px 1px;
  user-select: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  width: 100%;

  &:focus-visible {
		border-color: var(--vscode-focusBorder);
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-foreground);
  }

  &.active {
    background: var(--vscode-list-activeSelectionBackground);
    border: 1px solid transparent;
    color: var(--vscode-list-activeSelectionForeground);
  }

  &:active {
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-list-activeSelectionForeground);
  }

  &:not(.active):hover {
    background: var(--vscode-list-activeSelectionBackground);
		border: 1px solid transparent;
		color: var(--vscode-list-activeSelectionForeground);
  }

  &:not(.active):active {
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-list-activeSelectionForeground);
	}

  body[data-vscode-theme-kind='vscode-high-contrast'] &.active,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &.active,
  body[data-vscode-theme-kind='vscode-high-contrast'] &:not(.active):hover,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:not(.active):hover {
    border-style: dotted;
    border-color: var(--vscode-list-focusOutline);
  }

  &:disabled {
		cursor: not-allowed;
		opacity: 0.4;

    &:hover {
      background: inherit;
      border-color: transparent;
    }
	}

  body[data-vscode-theme-kind='vscode-high-contrast'] &:disabled,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:disabled,
  body[data-vscode-theme-kind='vscode-high-contrast'] &:disabled:hover,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:disabled:hover {
    background: inherit;
    border-color: transparent;
  }
`;mt.i`
  display: inline-block;
  color: var(--vscode-icon-foreground);
  display: inline-block;
  text-decoration: none;
  text-rendering: auto;
  text-align: center;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  user-select: none;

  &.codicon-spin {
    animation: spin 1.5s steps(30) infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;const hB=mt.label`
  color: var(--vscode-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  font-weight: 400;
  margin: 0;
  overflow: hidden;
  padding: 4px 0 0;
  text-overflow: ellipsis;
  display: block;
  white-space: nowrap;
`,fx=({children:e,className:t,...r})=>kr.jsx(hB,{className:`vscrui-label ${t||""}`,...r,children:e});fx.displayName="VSCRUI_Label";mt.div`
  background: var(--vscode-editor-background);
  position: fixed;
  inset: 0;
  height: 100%;
  width: 100%;
  z-index: 9999;
  opacity: 0.75;
`;mt.div`
  position: absolute;
  top: 0;
  width: 100%;
  height: 2px;
`;mt.div`
  height: 100%;
  position: absolute;
  background: var(--vscode-activityBarBadge-background);
  animation: vscode-loader 4s ease-in-out infinite; 

  @keyframes vscode-loader {
    0% {
      left: -30px;
      width: 30px;
    }
    25% {
      width: 50px;
    }
    50% {
      width: 20px;
    }
    75% {
      width: 50px;
    }
    100% {
      width: 20px;
      left: 100%;
    }
  }
`;const fB=mt.section`
  color: inherit;
  background-color: transparent;
  border: 1px solid transparent;
  box-sizing: border-box;
  font-size: var(--vscode-font-size, 13px);
  line-height: normal;
  padding: 10px 6px;
  display: ${e=>e.hidden?"none":"block"};
  height: ${e=>e.hidden?"0":"auto"};
  transition: all 0.1s;
  transition-behavior: allow-discrete;
`,A2=({className:e,children:t,isVisible:r=!1,...n})=>kr.jsx(fB,{className:`vscrui-view ${e||""}`,hidden:!r,...n,children:t});A2.displayName="VSCRUI_View";const gB=mt.div`
  display: none;
  margin-left: auto;
`;mt.div`
  font-family: var(--vscode-font-family);
  font-size: 11px;
  font-weight: 700;
  color: var(--vscode-sideBarSectionHeader-foreground);
  background-color: var(--vscode-sideBarSectionHeader-background);
  border-top: 1px solid var(--vscode-sideBarSectionHeader-border);
  text-transform: uppercase;

  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 22px;
  line-height: 22px;
  width: 100%;
  cursor: pointer;

  position: relative;
  overflow: hidden;
  user-select: none;

  > svg {
    color: var(--vscode-icon-foreground);
    margin: 0 2px;
  }

  &:hover {
    ${gB} {
      display: flex;
    }
  }
`;mt.h3`
  font-size: 11px;
  font-weight: 700;
  min-width: 3ch;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin: 0;
`;mt.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
`;mt(A2)`
  flex: 1;
  overflow: hidden;
  padding: unset;
`;mt.button`
  all: unset;

  color: var(--vscode-icon-foreground);
  font-size: 16px;
  padding: 2px;
  margin-right: 4px;

  background: none;
  border: none;
  cursor: pointer;
  border-radius: 2px;

  align-items: center;
  display: flex;
  height: 16px;
  width: 16px;

  &:hover {
    background-color: var(--vscode-toolbar-hoverBackground);
  }
`;mt.button`
  all: unset;
  color: var(--vscode-panelTitle-inactiveForeground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  box-sizing: border-box;
  height: 28px;
  padding: 4px 0;
  fill: currentcolor;
  border-radius: 2px;
  border: 1px solid transparent;
  align-items: center;
  justify-content: center;
  grid-row: 1;
  cursor: pointer;

  &:hover, &:active, &[aria-selected='true'], &[aria-selected='true']:hover, &[aria-selected='true']:active {
    background: transparent;
    color: var(--vscode-panelTitle-activeForeground);
		fill: currentcolor;
  }

  &[aria-selected='true'] {
    border-bottom: 1px solid var(--vscode-panelTitle-activeForeground);
  }

  &:focus-visible {
    outline: none;
		border: 1px solid var(--vscode-panelTitle-activeBorder);
  }

  &:focus {
    outline: none;
  }
`;mt.div`
  color: var(--vscode-badge-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  box-sizing: border-box;
  line-height: normal;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto 1fr;
  overflow-x: auto;
`;mt.div`
  display: grid;
  grid-template-rows: auto auto;
  grid-template-columns: auto;
  column-gap: 32px;
  position: relative;
  width: max-content;
  align-self: end;
  padding: 4px 4px 0;
  box-sizing: border-box;
`;mt.div`
  grid-row: 2;
  grid-column-start: 1;
  grid-column-end: 4;
  position: relative;
`;const xB=mt.div`
  color: var(--vscode-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  padding: 4px 12px;
  opacity: 1;
  box-sizing: border-box;
  line-height: normal;
  font-weight: 400;
  border: solid 1px transparent;
  border-radius: 2px;
  white-space: wrap;
  overflow-wrap: anywhere;
`,vB=mt.div`
  display: grid;
  padding: 1px 0;
  box-sizing: border-box;
  width: 100%;
  background: transparent;

  &:hover {
    background: var(--vscode-list-hoverBackground);
    outline: 1px dotted var(--vscode-contrastActiveBorder);
    outline-offset: -1px;
  }

  &.vscrui_table_row_header {
    ${xB} {
      font-weight: 600;
    }
  }
`;mt.div`
  display: flex;
  position: relative;
  flex-direction: column;
  width: 100%;

  &.stripped {
    ${vB} {
      &:nth-child(odd) {
        background-color: var(--vscode-keybindingTable-rowsBackground);

        &:hover {
          background: var(--vscode-list-hoverBackground);
        }
      }
    }
  }
`;mt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-badge-foreground);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: var(--vscode-badge-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 2px;
  padding: 2px 4px;
  text-transform: uppercase;
`;mt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: inline-block;
  min-width: 100px;
`;mt(fx)`
  margin-bottom: 2px;
`;mt.textarea`
  appearance: none;
  font-size: var(--vscode-font-size);
  color: var(--vscode-input-foreground);
  background: var(--vscode-input-background);
  border: 1px solid var(--vscode-dropdown-border);
  border-radius: 2px;
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
  height: 26px;
  padding: 9px;
  width: 100%;
  height: 100%;
  resize: none;

  &:hover,
	&:focus-visible,
	&:disabled,
	&:active,
  &:focus {
		outline: none;
    box-shadow: none;
	}

  &:not([disabled]):hover {
    background: var(--vscode-input-background);
    border-color: var(--vscode-dropdown-border);
  }

  &:not([disabled]):active {
    background: var(--vscode-input-background);
		border-color: var(--vscode-focusBorder);
	}

  &:not([disabled]):focus,
  &:not([disabled]):focus-within {
		border-color: var(--vscode-focusBorder);
  }

  &:disabled,
	&:readonly {
		cursor: not-allowed;
	}

  &:disabled {
    opacity: 0.4;
    border-color: var(--vscode-dropdown-border);
  }

  &[data-resize='both'] {
    resize: both;
  }

  &[data-resize='horizontal'] {
    resize: horizontal;
  }

  &[data-resize='vertical'] {
    resize: vertical;
  }

  &[data-resize='none'] {
    resize: none;
  }
`;mt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: inline-block;
  min-width: 100px;
`;mt(fx)`
  margin-bottom: 2px;
`;mt.input`
  appearance: none;
  font-size: var(--vscode-font-size);
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
  color: var(--vscode-input-foreground);
  background: var(--vscode-input-background);
  border-radius: 2px;
  border: 1px solid var(--vscode-dropdown-border);
  height: 26px;
  padding: 0 9px;
  width: 100%;

  &:hover,
	&:focus-visible,
	&:disabled,
	&:active,
  &:focus {
		outline: none;
    box-shadow: none;
	}

  &:not([disabled]):hover {
    background: var(--vscode-input-background);
    border-color: var(--vscode-dropdown-border);
  }

  &:not([disabled]):active {
    background: var(--vscode-input-background);
		border-color: var(--vscode-focusBorder);
	}

  &:not([disabled]):focus,
  &:not([disabled]):focus-within {
		border-color: var(--vscode-focusBorder);
  }

  &:disabled,
	&:readonly {
		cursor: not-allowed;
	}

  &:disabled {
    opacity: 0.4;
    border-color: var(--vscode-dropdown-border);
  }
`;const no=e=>e,st=e=>{var t;return(t=e==null?void 0:e.target)==null?void 0:t.value},bB=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=lo(e),[o,a]=h.useState(!!(e!=null&&e.anthropicBaseUrl)),[i,c]=h.useState(!!(e!=null&&e.anthropicDeploymentName)),l=(n==null?void 0:n.id)==="claude-sonnet-4-20250514"||(n==null?void 0:n.id)==="claude-sonnet-4-5",d=h.useCallback((u,p=st)=>m=>{t(u,p(m))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.apiKey)||"",type:"password",onInput:d("apiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.anthropicApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.apiKey)&&s.jsx(vt,{href:"https://console.anthropic.com/settings/keys",appearance:"secondary",children:r("settings:providers.getAnthropicApiKey")}),s.jsxs("div",{children:[s.jsx(Pt,{checked:o,onChange:u=>{a(u),u||(t("anthropicBaseUrl",""),t("anthropicUseAuthToken",!1))},children:r("settings:providers.useCustomBaseUrl")}),o&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.anthropicBaseUrl)||"",type:"url",onInput:d("anthropicBaseUrl"),placeholder:"https://api.anthropic.com",className:"w-full mt-1"}),s.jsx(Pt,{checked:(e==null?void 0:e.anthropicUseAuthToken)??!1,onChange:d("anthropicUseAuthToken",no),className:"w-full mt-1",children:r("settings:providers.anthropicUseAuthToken")})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Pt,{checked:i,onChange:u=>{c(u),u||t("anthropicDeploymentName","")},children:r("settings:providers.anthropicUseAzureDeployment")}),i&&s.jsx(ce,{value:(e==null?void 0:e.anthropicDeploymentName)||"",onInput:d("anthropicDeploymentName"),placeholder:r("settings:providers.anthropicAzureDeploymentPlaceholder"),className:"w-full mt-1"})]}),l&&s.jsxs("div",{children:[s.jsx(Pt,{checked:(e==null?void 0:e.anthropicBeta1MContext)??!1,onChange:u=>{t("anthropicBeta1MContext",u)},children:r("settings:providers.anthropic1MContextBetaLabel")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1 ml-6",children:r("settings:providers.anthropic1MContextBetaDescription")})]})]})},yB=({apiConfiguration:e,setApiConfigurationField:t,selectedModelInfo:r})=>{const{t:n}=oe(),[o,a]=h.useState(!!(e!=null&&e.awsBedrockEndpointEnabled)),i=!!(e!=null&&e.apiModelId)&&hj.includes(e.apiModelId),c=!!(e!=null&&e.apiModelId)&&dT.includes(e.apiModelId);h.useEffect(()=>{a(!!(e!=null&&e.awsBedrockEndpointEnabled))},[e==null?void 0:e.awsBedrockEndpointEnabled]);const l=h.useCallback((d,u=st)=>p=>{t(d,u(p))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:"Authentication Method"}),s.jsxs(Dt,{value:e!=null&&e.awsUseApiKey?"apikey":e!=null&&e.awsUseProfile?"profile":"credentials",onValueChange:d=>{d==="apikey"?(t("awsUseApiKey",!0),t("awsUseProfile",!1)):d==="profile"?(t("awsUseApiKey",!1),t("awsUseProfile",!0)):(t("awsUseApiKey",!1),t("awsUseProfile",!1))},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n("settings:common.select")})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"credentials",children:n("settings:providers.awsCredentials")}),s.jsx(Be,{value:"profile",children:n("settings:providers.awsProfile")}),s.jsx(Be,{value:"apikey",children:n("settings:providers.awsApiKey")})]})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-3",children:n("settings:providers.apiKeyStorageNotice")}),e!=null&&e.awsUseApiKey?s.jsx(ce,{value:(e==null?void 0:e.awsApiKey)||"",type:"password",onInput:l("awsApiKey"),placeholder:n("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsApiKey")})}):e!=null&&e.awsUseProfile?s.jsx(ce,{value:(e==null?void 0:e.awsProfile)||"",onInput:l("awsProfile"),placeholder:n("settings:placeholders.profileName"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsProfileName")})}):s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.awsAccessKey)||"",type:"password",onInput:l("awsAccessKey"),placeholder:n("settings:placeholders.accessKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsAccessKey")})}),s.jsx(ce,{value:(e==null?void 0:e.awsSecretKey)||"",type:"password",onInput:l("awsSecretKey"),placeholder:n("settings:placeholders.secretKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsSecretKey")})}),s.jsx(ce,{value:(e==null?void 0:e.awsSessionToken)||"",type:"password",onInput:l("awsSessionToken"),placeholder:n("settings:placeholders.sessionToken"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsSessionToken")})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsRegion")}),s.jsxs(Dt,{value:(e==null?void 0:e.awsRegion)||"",onValueChange:d=>t("awsRegion",d),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n("settings:common.select")})}),s.jsx(Bt,{children:uT.map(({value:d,label:u})=>s.jsx(Be,{value:d,children:u},d))})]})]}),c&&s.jsx(Pt,{checked:(e==null?void 0:e.awsUseGlobalInference)||!1,onChange:d=>{t("awsUseGlobalInference",d)},children:n("settings:providers.awsGlobalInference")}),s.jsx(Pt,{checked:(e==null?void 0:e.awsUseCrossRegionInference)||!1,onChange:d=>{t("awsUseCrossRegionInference",d)},children:n("settings:providers.awsCrossRegion")}),(r==null?void 0:r.supportsPromptCache)&&s.jsxs(s.Fragment,{children:[s.jsx(Pt,{checked:(e==null?void 0:e.awsUsePromptCache)||!1,onChange:l("awsUsePromptCache",no),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:n("settings:providers.enablePromptCaching")}),s.jsx(de,{content:n("settings:providers.enablePromptCachingTitle"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1",children:n("settings:providers.cacheUsageNote")})]}),i&&s.jsxs("div",{children:[s.jsx(Pt,{checked:(e==null?void 0:e.awsBedrock1MContext)??!1,onChange:d=>{t("awsBedrock1MContext",d)},children:n("settings:providers.awsBedrock1MContextBetaLabel")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1 ml-6",children:n("settings:providers.awsBedrock1MContextBetaDescription")})]}),s.jsx(Pt,{checked:o,onChange:d=>{a(d),t("awsBedrockEndpointEnabled",d)},children:n("settings:providers.awsBedrockVpc.useCustomVpcEndpoint")}),o&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.awsBedrockEndpoint)||"",style:{width:"100%",marginTop:3,marginBottom:5},type:"url",onInput:l("awsBedrockEndpoint"),placeholder:n("settings:providers.awsBedrockVpc.vpcEndpointUrlPlaceholder"),"data-testid":"vpc-endpoint-input"}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1 mb-3",children:[n("settings:providers.awsBedrockVpc.examples"),s.jsx("div",{className:"ml-2",children:" https://vpce-xxx.bedrock.region.vpce.amazonaws.com/"}),s.jsx("div",{className:"ml-2",children:" https://gateway.my-company.com/route/app/bedrock"})]})]})]})},wB=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.cerebrasApiKey)||"",type:"password",onInput:n("cerebrasApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.cerebrasApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.cerebrasApiKey)&&s.jsx(vt,{href:"https://cloud.cerebras.ai?utm_source=roocode",appearance:"secondary",children:r("settings:providers.getCerebrasApiKey")})]})},wo=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);var nu,ty;function kB(){if(ty)return nu;ty=1,nu=e;function e(t){if(t)throw t}return nu}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ou,sy;function R2(){return sy||(sy=1,ou=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}),ou}var au,ry;function jB(){return ry||(ry=1,au=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}),au}var iu,ny;function _B(){if(ny)return iu;ny=1;var e=[].slice;iu=t;function t(r,n){var o;return a;function a(){var l=e.call(arguments,0),d=r.length>l.length,u;d&&l.push(i);try{u=r.apply(null,l)}catch(p){if(d&&o)throw p;return i(p)}d||(u&&typeof u.then=="function"?u.then(c,i):u instanceof Error?i(u):c(u))}function i(){o||(o=!0,n.apply(null,arguments))}function c(l){i(null,l)}}return iu}var lu,oy;function NB(){if(oy)return lu;oy=1;var e=_B();lu=r,r.wrap=e;var t=[].slice;function r(){var n=[],o={};return o.run=a,o.use=i,o;function a(){var c=-1,l=t.call(arguments,0,-1),d=arguments[arguments.length-1];if(typeof d!="function")throw new Error("Expected function as last argument, not "+d);u.apply(null,[null].concat(l));function u(p){var m=n[++c],g=t.call(arguments,0),f=g.slice(1),x=l.length,v=-1;if(p){d(p);return}for(;++v<x;)(f[v]===null||f[v]===void 0)&&(f[v]=l[v]);l=f,m?e(m,u).apply(null,l):d.apply(null,[null].concat(l))}}function i(c){if(typeof c!="function")throw new Error("Expected `fn` to be a function, not "+c);return n.push(c),o}}return lu}var cu,ay;function C2(){if(ay)return cu;ay=1;var e={}.hasOwnProperty;cu=t;function t(a){return!a||typeof a!="object"?"":e.call(a,"position")||e.call(a,"type")?n(a.position):e.call(a,"start")||e.call(a,"end")?n(a):e.call(a,"line")||e.call(a,"column")?r(a):""}function r(a){return(!a||typeof a!="object")&&(a={}),o(a.line)+":"+o(a.column)}function n(a){return(!a||typeof a!="object")&&(a={}),r(a.start)+"-"+r(a.end)}function o(a){return a&&typeof a=="number"?a:1}return cu}var du,iy;function SB(){if(iy)return du;iy=1;var e=C2();du=n;function t(){}t.prototype=Error.prototype,n.prototype=new t;var r=n.prototype;r.file="",r.name="",r.reason="",r.message="",r.stack="",r.fatal=null,r.column=null,r.line=null;function n(a,i,c){var l,d,u;typeof i=="string"&&(c=i,i=null),l=o(c),d=e(i)||"1:1",u={start:{line:null,column:null},end:{line:null,column:null}},i&&i.position&&(i=i.position),i&&(i.start?(u=i,i=i.start):u.start=i),a.stack&&(this.stack=a.stack,a=a.message),this.message=a,this.name=d,this.reason=a,this.line=i?i.line:null,this.column=i?i.column:null,this.location=u,this.source=l[0],this.ruleId=l[1]}function o(a){var i=[null,null],c;return typeof a=="string"&&(c=a.indexOf(":"),c===-1?i[1]=a:(i[0]=a.slice(0,c),i[1]=a.slice(c+1))),i}return du}var vo={},ly;function TB(){if(ly)return vo;ly=1,vo.basename=e,vo.dirname=t,vo.extname=r,vo.join=n,vo.sep="/";function e(c,l){var d=0,u=-1,p,m,g,f;if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');if(i(c),p=c.length,l===void 0||!l.length||l.length>c.length){for(;p--;)if(c.charCodeAt(p)===47){if(g){d=p+1;break}}else u<0&&(g=!0,u=p+1);return u<0?"":c.slice(d,u)}if(l===c)return"";for(m=-1,f=l.length-1;p--;)if(c.charCodeAt(p)===47){if(g){d=p+1;break}}else m<0&&(g=!0,m=p+1),f>-1&&(c.charCodeAt(p)===l.charCodeAt(f--)?f<0&&(u=p):(f=-1,u=m));return d===u?u=m:u<0&&(u=c.length),c.slice(d,u)}function t(c){var l,d,u;if(i(c),!c.length)return".";for(l=-1,u=c.length;--u;)if(c.charCodeAt(u)===47){if(d){l=u;break}}else d||(d=!0);return l<0?c.charCodeAt(0)===47?"/":".":l===1&&c.charCodeAt(0)===47?"//":c.slice(0,l)}function r(c){var l=-1,d=0,u=-1,p=0,m,g,f;for(i(c),f=c.length;f--;){if(g=c.charCodeAt(f),g===47){if(m){d=f+1;break}continue}u<0&&(m=!0,u=f+1),g===46?l<0?l=f:p!==1&&(p=1):l>-1&&(p=-1)}return l<0||u<0||p===0||p===1&&l===u-1&&l===d+1?"":c.slice(l,u)}function n(){for(var c=-1,l;++c<arguments.length;)i(arguments[c]),arguments[c]&&(l=l===void 0?arguments[c]:l+"/"+arguments[c]);return l===void 0?".":o(l)}function o(c){var l,d;return i(c),l=c.charCodeAt(0)===47,d=a(c,!l),!d.length&&!l&&(d="."),d.length&&c.charCodeAt(c.length-1)===47&&(d+="/"),l?"/"+d:d}function a(c,l){for(var d="",u=0,p=-1,m=0,g=-1,f,x;++g<=c.length;){if(g<c.length)f=c.charCodeAt(g);else{if(f===47)break;f=47}if(f===47){if(!(p===g-1||m===1))if(p!==g-1&&m===2){if(d.length<2||u!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){if(x=d.lastIndexOf("/"),x!==d.length-1){x<0?(d="",u=0):(d=d.slice(0,x),u=d.length-1-d.lastIndexOf("/")),p=g,m=0;continue}}else if(d.length){d="",u=0,p=g,m=0;continue}}l&&(d=d.length?d+"/..":"..",u=2)}else d.length?d+="/"+c.slice(p+1,g):d=c.slice(p+1,g),u=g-p-1;p=g,m=0}else f===46&&m>-1?m++:m=-1}return d}function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}return vo}var uu={},cy;function IB(){if(cy)return uu;cy=1,uu.cwd=e;function e(){return"/"}return uu}var pu,dy;function PB(){if(dy)return pu;dy=1;var e=TB(),t=IB(),r=R2();pu=a;var n={}.hasOwnProperty,o=["history","path","basename","stem","extname","dirname"];a.prototype.toString=v,Object.defineProperty(a.prototype,"path",{get:i,set:c}),Object.defineProperty(a.prototype,"dirname",{get:l,set:d}),Object.defineProperty(a.prototype,"basename",{get:u,set:p}),Object.defineProperty(a.prototype,"extname",{get:m,set:g}),Object.defineProperty(a.prototype,"stem",{get:f,set:x});function a(b){var k,_;if(!b)b={};else if(typeof b=="string"||r(b))b={contents:b};else if("message"in b&&"messages"in b)return b;if(!(this instanceof a))return new a(b);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),_=-1;++_<o.length;)k=o[_],n.call(b,k)&&(this[k]=b[k]);for(k in b)o.indexOf(k)<0&&(this[k]=b[k])}function i(){return this.history[this.history.length-1]}function c(b){y(b,"path"),this.path!==b&&this.history.push(b)}function l(){return typeof this.path=="string"?e.dirname(this.path):void 0}function d(b){w(this.path,"dirname"),this.path=e.join(b||"",this.basename)}function u(){return typeof this.path=="string"?e.basename(this.path):void 0}function p(b){y(b,"basename"),N(b,"basename"),this.path=e.join(this.dirname||"",b)}function m(){return typeof this.path=="string"?e.extname(this.path):void 0}function g(b){if(N(b,"extname"),w(this.path,"extname"),b){if(b.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(b.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=e.join(this.dirname,this.stem+(b||""))}function f(){return typeof this.path=="string"?e.basename(this.path,this.extname):void 0}function x(b){y(b,"stem"),N(b,"stem"),this.path=e.join(this.dirname||"",b+(this.extname||""))}function v(b){return(this.contents||"").toString(b)}function N(b,k){if(b&&b.indexOf(e.sep)>-1)throw new Error("`"+k+"` cannot be a path: did not expect `"+e.sep+"`")}function y(b,k){if(!b)throw new Error("`"+k+"` cannot be empty")}function w(b,k){if(!b)throw new Error("Setting `"+k+"` requires `path` to be set too")}return pu}var mu,uy;function EB(){if(uy)return mu;uy=1;var e=SB(),t=PB();mu=t,t.prototype.message=r,t.prototype.info=o,t.prototype.fail=n;function r(a,i,c){var l=new e(a,i,c);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}function n(){var a=this.message.apply(this,arguments);throw a.fatal=!0,a}function o(){var a=this.message.apply(this,arguments);return a.fatal=null,a}return mu}var hu,py;function MB(){return py||(py=1,hu=EB()),hu}var fu,my;function AB(){if(my)return fu;my=1;var e=kB(),t=R2(),r=EI(),n=jB(),o=NB(),a=MB();fu=m().freeze();var i=[].slice,c={}.hasOwnProperty,l=o().use(d).use(u).use(p);function d(b,k){k.tree=b.parse(k.file)}function u(b,k,_){b.run(k.tree,k.file,j);function j(T,S,I){T?_(T):(k.tree=S,k.file=I,_())}}function p(b,k){var _=b.stringify(k.tree,k.file);_==null||(typeof _=="string"||t(_)?("value"in k.file&&(k.file.value=_),k.file.contents=_):k.file.result=_)}function m(){var b=[],k=o(),_={},j=-1,T;return S.data=E,S.freeze=I,S.attachers=b,S.use=M,S.parse=C,S.stringify=U,S.run=q,S.runSync=B,S.process=te,S.processSync=Q,S;function S(){for(var O=m(),F=-1;++F<b.length;)O.use.apply(null,b[F]);return O.data(r(!0,{},_)),O}function I(){var O,F;if(T)return S;for(;++j<b.length;)O=b[j],O[1]!==!1&&(O[1]===!0&&(O[1]=void 0),F=O[0].apply(S,O.slice(1)),typeof F=="function"&&k.use(F));return T=!0,j=1/0,S}function E(O,F){return typeof O=="string"?arguments.length===2?(N("data",T),_[O]=F,S):c.call(_,O)&&_[O]||null:O?(N("data",T),_=O,S):_}function M(O){var F;if(N("use",T),O!=null)if(typeof O=="function")Z.apply(null,arguments);else if(typeof O=="object")"length"in O?H(O):W(O);else throw new Error("Expected usable value, not `"+O+"`");return F&&(_.settings=r(_.settings||{},F)),S;function W(Y){H(Y.plugins),Y.settings&&(F=r(F||{},Y.settings))}function re(Y){if(typeof Y=="function")Z(Y);else if(typeof Y=="object")"length"in Y?Z.apply(null,Y):W(Y);else throw new Error("Expected usable value, not `"+Y+"`")}function H(Y){var G=-1;if(Y!=null)if(typeof Y=="object"&&"length"in Y)for(;++G<Y.length;)re(Y[G]);else throw new Error("Expected a list of plugins, not `"+Y+"`")}function Z(Y,G){var ie=R(Y);ie?(n(ie[1])&&n(G)&&(G=r(!0,ie[1],G)),ie[1]=G):b.push(i.call(arguments))}}function R(O){for(var F=-1;++F<b.length;)if(b[F][0]===O)return b[F]}function C(O){var F=a(O),W;return I(),W=S.Parser,x("parse",W),g(W,"parse")?new W(String(F),F).parse():W(String(F),F)}function q(O,F,W){if(y(O),I(),!W&&typeof F=="function"&&(W=F,F=null),!W)return new Promise(re);re(null,W);function re(H,Z){k.run(O,a(F),Y);function Y(G,ie,D){ie=ie||O,G?Z(G):H?H(ie):W(null,ie,D)}}}function B(O,F){var W,re;return q(O,F,H),w("runSync","run",re),W;function H(Z,Y){re=!0,W=Y,e(Z)}}function U(O,F){var W=a(F),re;return I(),re=S.Compiler,v("stringify",re),y(O),g(re,"compile")?new re(O,W).compile():re(O,W)}function te(O,F){if(I(),x("process",S.Parser),v("process",S.Compiler),!F)return new Promise(W);W(null,F);function W(re,H){var Z=a(O);l.run(S,{file:Z},Y);function Y(G){G?H(G):re?re(Z):F(null,Z)}}}function Q(O){var F,W;return I(),x("processSync",S.Parser),v("processSync",S.Compiler),F=a(O),te(F,re),w("processSync","process",W),F;function re(H){W=!0,e(H)}}}function g(b,k){return typeof b=="function"&&b.prototype&&(f(b.prototype)||k in b.prototype)}function f(b){var k;for(k in b)return!0;return!1}function x(b,k){if(typeof k!="function")throw new Error("Cannot `"+b+"` without `Parser`")}function v(b,k){if(typeof k!="function")throw new Error("Cannot `"+b+"` without `Compiler`")}function N(b,k){if(k)throw new Error("Cannot invoke `"+b+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function y(b){if(!b||typeof b.type!="string")throw new Error("Expected node, got `"+b+"`")}function w(b,k,_){if(!_)throw new Error("`"+b+"` finished async. Use `"+k+"` instead")}return fu}var RB=AB();const CB=Zr(RB);var gu,hy;function OB(){if(hy)return gu;hy=1,gu=e;function e(r){return r&&(r.value||r.alt||r.title||"children"in r&&t(r.children)||"length"in r&&t(r))||""}function t(r){for(var n=[],o=-1;++o<r.length;)n[o]=e(r[o]);return n.join("")}return gu}var xu,fy;function il(){if(fy)return xu;fy=1;var e=Object.assign;return xu=e,xu}var vu,gy;function O2(){if(gy)return vu;gy=1;var e={}.hasOwnProperty;return vu=e,vu}var bu,xy;function gx(){if(xy)return bu;xy=1;function e(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}return bu=e,bu}var yu,vy;function yd(){if(vy)return yu;vy=1;var e=String.fromCharCode;return yu=e,yu}var wu,by;function DB(){if(by)return wu;by=1;var e=yd();function t(r,n){var o=parseInt(r,n);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":e(o)}return wu=t,wu}var Al={},ku,yy;function fs(){if(yy)return ku;yy=1;function e(t){return t<-2}return ku=e,ku}var ju,wy;function Cn(){if(wy)return ju;wy=1;function e(t){return t===-2||t===-1||t===32}return ju=e,ju}var _u,ky;function Is(){if(ky)return _u;ky=1;var e=Cn();function t(r,n,o,a){var i=a?a-1:1/0,c=0;return l;function l(u){return e(u)?(r.enter(o),d(u)):n(u)}function d(u){return e(u)&&c++<i?(r.consume(u),d):(r.exit(o),n(u))}}return _u=t,_u}var jy;function FB(){if(jy)return Al;jy=1,Object.defineProperty(Al,"__esModule",{value:!0});var e=fs(),t=Is(),r=n;function n(o){var a=o.attempt(this.parser.constructs.contentInitial,c,l),i;return a;function c(p){if(p===null){o.consume(p);return}return o.enter("lineEnding"),o.consume(p),o.exit("lineEnding"),t(o,a,"linePrefix")}function l(p){return o.enter("paragraph"),d(p)}function d(p){var m=o.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=m),i=m,u(p)}function u(p){if(p===null){o.exit("chunkText"),o.exit("paragraph"),o.consume(p);return}return e(p)?(o.consume(p),o.exit("chunkText"),d):(o.consume(p),u)}}return Al.tokenize=r,Al}var Rl={},Nu,_y;function wd(){if(_y)return Nu;_y=1;var e=fs(),t=Is(),r={tokenize:n,partial:!0};function n(o,a,i){return t(o,c,"linePrefix");function c(l){return l===null||e(l)?a(l):i(l)}}return Nu=r,Nu}var Ny;function LB(){if(Ny)return Rl;Ny=1,Object.defineProperty(Rl,"__esModule",{value:!0});var e=fs(),t=Is(),r=wd(),n=i,o={tokenize:c},a={tokenize:l};function i(d){var u=this,p=[],m=0,g={tokenize:I,partial:!0},f,x,v;return N;function N(E){return m<p.length?(u.containerState=p[m][1],d.attempt(p[m][0].continuation,y,w)(E)):w(E)}function y(E){return m++,N(E)}function w(E){return f&&f.flowContinue?k(E):(u.interrupt=x&&x.currentConstruct&&x.currentConstruct.interruptible,u.containerState={},d.attempt(o,b,k)(E))}function b(E){return p.push([u.currentConstruct,u.containerState]),u.containerState=void 0,w(E)}function k(E){if(E===null){S(0,!0),d.consume(E);return}return x=x||u.parser.flow(u.now()),d.enter("chunkFlow",{contentType:"flow",previous:v,_tokenizer:x}),_(E)}function _(E){return E===null?(T(d.exit("chunkFlow")),k(E)):e(E)?(d.consume(E),T(d.exit("chunkFlow")),d.check(g,j)):(d.consume(E),_)}function j(E){return S(f.continued,f&&f.flowEnd),m=0,N(E)}function T(E){v&&(v.next=E),v=E,x.lazy=f&&f.lazy,x.defineSkip(E.start),x.write(u.sliceStream(E))}function S(E,M){var R=p.length;for(x&&M&&(x.write([null]),v=x=void 0);R-- >E;)u.containerState=p[R][1],p[R][0].exit.call(u,d);p.length=E}function I(E,M){var R=0;return f={},C;function C(O){return R<p.length?(u.containerState=p[R][1],E.attempt(p[R][0].continuation,q,B)(O)):x.currentConstruct&&x.currentConstruct.concrete?(f.flowContinue=!0,Q(O)):(u.interrupt=x.currentConstruct&&x.currentConstruct.interruptible,u.containerState={},E.attempt(o,te,Q)(O))}function q(O){return R++,u.containerState._closeFlow?te(O):C(O)}function B(O){return x.currentConstruct&&x.currentConstruct.lazy?(u.containerState={},E.attempt(o,te,E.attempt(a,te,E.check(r,te,U)))(O)):te(O)}function U(O){return R=p.length,f.lazy=!0,f.flowContinue=!0,Q(O)}function te(O){return f.flowEnd=!0,Q(O)}function Q(O){return f.continued=R,u.interrupt=u.containerState=void 0,M(O)}}}function c(d,u,p){return t(d,d.attempt(this.parser.constructs.document,u,p),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function l(d,u,p){return t(d,d.lazy(this.parser.constructs.flow,u,p),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}return Rl.tokenize=n,Rl}var Cl={},Su,Sy;function D2(){if(Sy)return Su;Sy=1;function e(t){for(var r=-1,n=0;++r<t.length;)n+=typeof t[r]=="string"?t[r].length:1;return n}return Su=e,Su}var Tu,Ty;function kd(){if(Ty)return Tu;Ty=1;var e=D2();function t(r,n){var o=r[r.length-1];return!o||o[1].type!==n?0:e(o[2].sliceStream(o[1]))}return Tu=t,Tu}var Iu,Iy;function BB(){if(Iy)return Iu;Iy=1;var e=[].splice;return Iu=e,Iu}var Pu,Py;function mo(){if(Py)return Pu;Py=1;var e=BB();function t(r,n,o,a){var i=r.length,c=0,l;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,o=o>0?o:0,a.length<1e4)l=Array.from(a),l.unshift(n,o),e.apply(r,l);else for(o&&e.apply(r,[n,o]);c<a.length;)l=a.slice(c,c+1e4),l.unshift(n,0),e.apply(r,l),c+=1e4,n+=1e4}return Pu=t,Pu}var Eu,Ey;function ei(){if(Ey)return Eu;Ey=1;var e=il();function t(r){return e({},r)}return Eu=t,Eu}var Mu,My;function F2(){if(My)return Mu;My=1;var e=il(),t=mo(),r=ei();function n(a){for(var i={},c=-1,l,d,u,p,m,g,f;++c<a.length;){for(;c in i;)c=i[c];if(l=a[c],c&&l[1].type==="chunkFlow"&&a[c-1][1].type==="listItemPrefix"&&(g=l[1]._tokenizer.events,u=0,u<g.length&&g[u][1].type==="lineEndingBlank"&&(u+=2),u<g.length&&g[u][1].type==="content"))for(;++u<g.length&&g[u][1].type!=="content";)g[u][1].type==="chunkText"&&(g[u][1].isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(e(i,o(a,c)),c=i[c],f=!0);else if(l[1]._container||l[1]._movePreviousLineEndings){for(u=c,d=void 0;u--&&(p=a[u],p[1].type==="lineEnding"||p[1].type==="lineEndingBlank");)p[0]==="enter"&&(d&&(a[d][1].type="lineEndingBlank"),p[1].type="lineEnding",d=u);d&&(l[1].end=r(a[d][1].start),m=a.slice(d,c),m.unshift(l),t(a,d,c-d+1,m))}}return!f}function o(a,i){for(var c=a[i][1],l=a[i][2],d=i-1,u=[],p=c._tokenizer||l.parser[c.contentType](c.start),m=p.events,g=[],f={},x,v,N,y,w,b;c;){for(;a[++d][1]!==c;);u.push(d),c._tokenizer||(x=l.sliceStream(c),c.next||x.push(null),v&&p.defineSkip(c.start),c.isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=!0),p.write(x),c.isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=void 0)),v=c,c=c.next}for(c=v,N=m.length;N--;)m[N][0]==="enter"?y=!0:y&&m[N][1].type===m[N-1][1].type&&m[N][1].start.line!==m[N][1].end.line&&(k(m.slice(N+1,w)),c._tokenizer=c.next=void 0,c=c.previous,w=N+1);for(p.events=c._tokenizer=c.next=void 0,k(m.slice(0,w)),N=-1,b=0;++N<g.length;)f[b+g[N][0]]=b+g[N][1],b+=g[N][1]-g[N][0]-1;return f;function k(_){var j=u.pop();g.unshift([j,j+_.length-1]),t(a,j,2,_)}}return Mu=n,Mu}var Au,Ay;function zB(){if(Ay)return Au;Ay=1;var e=fs(),t=kd(),r=F2(),n=Is(),o={tokenize:c,resolve:i,interruptible:!0,lazy:!0},a={tokenize:l,partial:!0};function i(d){return r(d),d}function c(d,u){var p;return m;function m(v){return d.enter("content"),p=d.enter("chunkContent",{contentType:"content"}),g(v)}function g(v){return v===null?f(v):e(v)?d.check(a,x,f)(v):(d.consume(v),g)}function f(v){return d.exit("chunkContent"),d.exit("content"),u(v)}function x(v){return d.consume(v),d.exit("chunkContent"),p=p.next=d.enter("chunkContent",{contentType:"content",previous:p}),g}}function l(d,u,p){var m=this;return g;function g(x){return d.enter("lineEnding"),d.consume(x),d.exit("lineEnding"),n(d,f,"linePrefix")}function f(x){return x===null||e(x)?p(x):m.parser.constructs.disable.null.indexOf("codeIndented")>-1||t(m.events,"linePrefix")<4?d.interrupt(m.parser.constructs.flow,p,u)(x):u(x)}}return Au=o,Au}var Ry;function qB(){if(Ry)return Cl;Ry=1,Object.defineProperty(Cl,"__esModule",{value:!0});var e=zB(),t=Is(),r=wd(),n=o;function o(a){var i=this,c=a.attempt(r,l,a.attempt(this.parser.constructs.flowInitial,d,t(a,a.attempt(this.parser.constructs.flow,d,a.attempt(e,d)),"linePrefix")));return c;function l(u){if(u===null){a.consume(u);return}return a.enter("lineEndingBlank"),a.consume(u),a.exit("lineEndingBlank"),i.currentConstruct=void 0,c}function d(u){if(u===null){a.consume(u);return}return a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),i.currentConstruct=void 0,c}}return Cl.tokenize=n,Cl}var na={},Cy;function L2(){if(Cy)return na;Cy=1,Object.defineProperty(na,"__esModule",{value:!0});var e=il(),t=ei(),r=a("text"),n=a("string"),o={resolveAll:i()};function a(l){return{tokenize:d,resolveAll:i(l==="text"?c:void 0)};function d(u){var p=this,m=this.parser.constructs[l],g=u.attempt(m,f,x);return f;function f(y){return N(y)?g(y):x(y)}function x(y){if(y===null){u.consume(y);return}return u.enter("data"),u.consume(y),v}function v(y){return N(y)?(u.exit("data"),g(y)):(u.consume(y),v)}function N(y){var w=m[y],b=-1;if(y===null)return!0;if(w){for(;++b<w.length;)if(!w[b].previous||w[b].previous.call(p,p.previous))return!0}}}}function i(l){return d;function d(u,p){for(var m=-1,g;++m<=u.length;)g===void 0?u[m]&&u[m][1].type==="data"&&(g=m,m++):(!u[m]||u[m][1].type!=="data")&&(m!==g+2&&(u[g][1].end=u[m-1][1].end,u.splice(g+2,m-g-2),m=g+2),g=void 0);return l?l(u,p):u}}function c(l,d){for(var u=-1,p,m,g,f,x,v,N,y;++u<=l.length;)if((u===l.length||l[u][1].type==="lineEnding")&&l[u-1][1].type==="data"){for(m=l[u-1][1],p=d.sliceStream(m),f=p.length,x=-1,v=0,N=void 0;f--;)if(g=p[f],typeof g=="string"){for(x=g.length;g.charCodeAt(x-1)===32;)v++,x--;if(x)break;x=-1}else if(g===-2)N=!0,v++;else if(g!==-1){f++;break}v&&(y={type:u===l.length||N||v<2?"lineSuffix":"hardBreakTrailing",start:{line:m.end.line,column:m.end.column-v,offset:m.end.offset-v,_index:m.start._index+f,_bufferIndex:f?x:m.start._bufferIndex+x},end:t(m.end)},m.end=t(y.start),m.start.offset===m.end.offset?e(m,y):(l.splice(u,0,["enter",y,d],["exit",y,d]),u+=2)),u++}return l}return na.resolver=o,na.string=n,na.text=r,na}var Ru,Oy;function xx(){if(Oy)return Ru;Oy=1;function e(t){return t==null?[]:"length"in t?t:[t]}return Ru=e,Ru}var Cu,Dy;function UB(){if(Dy)return Cu;Dy=1;var e=O2(),t=mo(),r=xx();function n(i){for(var c={},l=-1;++l<i.length;)o(c,i[l]);return c}function o(i,c){var l,d,u,p;for(l in c){d=e.call(i,l)?i[l]:i[l]={},u=c[l];for(p in u)d[p]=a(r(u[p]),e.call(d,p)?d[p]:[])}}function a(i,c){for(var l=-1,d=[];++l<i.length;)(i[l].add==="after"?c:d).push(i[l]);return t(c,0,0,d),c}return Cu=n,Cu}var Ou,Fy;function vx(){if(Fy)return Ou;Fy=1;var e=mo();function t(r,n){return r.length?(e(r,r.length,0,n),r):n}return Ou=t,Ou}var Du,Ly;function bx(){if(Ly)return Du;Ly=1;function e(t,r,n){for(var o=[],a=-1,i;++a<t.length;)i=t[a].resolveAll,i&&o.indexOf(i)<0&&(r=i(r,n),o.push(i));return r}return Du=e,Du}var Fu,By;function KB(){if(By)return Fu;By=1;var e=yd();function t(r){for(var n=-1,o=[],a,i,c;++n<r.length;){if(a=r[n],typeof a=="string")i=a;else if(a===-5)i="\r";else if(a===-4)i=`
`;else if(a===-3)i=`\r
`;else if(a===-2)i="	";else if(a===-1){if(c)continue;i=" "}else i=e(a);c=a===-2,o.push(i)}return o.join("")}return Fu=t,Fu}var Lu,zy;function WB(){if(zy)return Lu;zy=1;function e(t,r){var n=r.start._index,o=r.start._bufferIndex,a=r.end._index,i=r.end._bufferIndex,c;return n===a?c=[t[n].slice(o,i)]:(c=t.slice(n,a),o>-1&&(c[0]=c[0].slice(o)),i>0&&c.push(t[a].slice(0,i))),c}return Lu=e,Lu}var Bu,qy;function $B(){if(qy)return Bu;qy=1;var e=il(),t=fs(),r=vx(),n=mo(),o=xx(),a=bx(),i=KB(),c=ei(),l=WB();function d(u,p,m){var g=m?c(m):{line:1,column:1,offset:0},f={},x=[],v=[],N=[],y={consume:M,enter:R,exit:C,attempt:U(q),check:U(B),interrupt:U(B,{interrupt:!0}),lazy:U(B,{lazy:!0})},w={previous:null,events:[],parser:u,sliceStream:j,sliceSerialize:_,now:T,defineSkip:S,write:k},b=p.tokenize.call(w,y);return p.resolveAll&&x.push(p),g._index=0,g._bufferIndex=-1,w;function k(F){return v=r(v,F),I(),v[v.length-1]!==null?[]:(te(p,0),w.events=a(x,w.events,w),w.events)}function _(F){return i(j(F))}function j(F){return l(v,F)}function T(){return c(g)}function S(F){f[F.line]=F.column,O()}function I(){for(var F,W;g._index<v.length;)if(W=v[g._index],typeof W=="string")for(F=g._index,g._bufferIndex<0&&(g._bufferIndex=0);g._index===F&&g._bufferIndex<W.length;)E(W.charCodeAt(g._bufferIndex));else E(W)}function E(F){b=b(F)}function M(F){t(F)?(g.line++,g.column=1,g.offset+=F===-3?2:1,O()):F!==-1&&(g.column++,g.offset++),g._bufferIndex<0?g._index++:(g._bufferIndex++,g._bufferIndex===v[g._index].length&&(g._bufferIndex=-1,g._index++)),w.previous=F}function R(F,W){var re=W||{};return re.type=F,re.start=T(),w.events.push(["enter",re,w]),N.push(re),re}function C(F){var W=N.pop();return W.end=T(),w.events.push(["exit",W,w]),W}function q(F,W){te(F,W.from)}function B(F,W){W.restore()}function U(F,W){return re;function re(H,Z,Y){var G,ie,D,me;return H.tokenize||"length"in H?we(o(H)):xe;function xe(Se){return Se in H||null in H?we(H.null?o(H[Se]).concat(o(H.null)):H[Se])(Se):Y(Se)}function we(Se){return G=Se,ie=0,Pe(Se[ie])}function Pe(Se){return X;function X($e){return me=Q(),D=Se,Se.partial||(w.currentConstruct=Se),Se.name&&w.parser.constructs.disable.null.indexOf(Se.name)>-1?L():Se.tokenize.call(W?e({},w,W):w,y,Ce,L)($e)}}function Ce(Se){return F(D,me),Z}function L(Se){return me.restore(),++ie<G.length?Pe(G[ie]):Y}}}function te(F,W){F.resolveAll&&x.indexOf(F)<0&&x.push(F),F.resolve&&n(w.events,W,w.events.length-W,F.resolve(w.events.slice(W),w)),F.resolveTo&&(w.events=F.resolveTo(w.events,w))}function Q(){var F=T(),W=w.previous,re=w.currentConstruct,H=w.events.length,Z=Array.from(N);return{restore:Y,from:H};function Y(){g=F,w.previous=W,w.currentConstruct=re,w.events.length=H,N=Z,O()}}function O(){g.line in f&&g.column<2&&(g.column=f[g.line],g.offset+=f[g.line]-1)}}return Bu=d,Bu}var Ar={},zu,Uy;function ho(){if(Uy)return zu;Uy=1;function e(t){return t<0||t===32}return zu=e,zu}var qu,Ky;function HB(){if(Ky)return qu;Ky=1;var e=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;return qu=e,qu}var Uu,Wy;function fo(){if(Wy)return Uu;Wy=1;var e=yd();function t(r){return n;function n(o){return r.test(e(o))}}return Uu=t,Uu}var Ku,$y;function VB(){if($y)return Ku;$y=1;var e=HB(),t=fo(),r=t(e);return Ku=r,Ku}var Wu,Hy;function GB(){if(Hy)return Wu;Hy=1;var e=fo(),t=e(/\s/);return Wu=t,Wu}var $u,Vy;function QB(){if(Vy)return $u;Vy=1;var e=ho(),t=VB(),r=GB();function n(o){if(o===null||e(o)||r(o))return 1;if(t(o))return 2}return $u=n,$u}var Hu,Gy;function YB(){if(Gy)return Hu;Gy=1;function e(t,r){return t.column+=r,t.offset+=r,t._bufferIndex+=r,t}return Hu=e,Hu}var Vu,Qy;function XB(){if(Qy)return Vu;Qy=1;var e=vx(),t=mo(),r=QB(),n=YB(),o=bx(),a=ei(),i={name:"attention",tokenize:l,resolveAll:c};function c(d,u){for(var p=-1,m,g,f,x,v,N,y,w;++p<d.length;)if(d[p][0]==="enter"&&d[p][1].type==="attentionSequence"&&d[p][1]._close){for(m=p;m--;)if(d[m][0]==="exit"&&d[m][1].type==="attentionSequence"&&d[m][1]._open&&u.sliceSerialize(d[m][1]).charCodeAt(0)===u.sliceSerialize(d[p][1]).charCodeAt(0)){if((d[m][1]._close||d[p][1]._open)&&(d[p][1].end.offset-d[p][1].start.offset)%3&&!((d[m][1].end.offset-d[m][1].start.offset+d[p][1].end.offset-d[p][1].start.offset)%3))continue;N=d[m][1].end.offset-d[m][1].start.offset>1&&d[p][1].end.offset-d[p][1].start.offset>1?2:1,x={type:N>1?"strongSequence":"emphasisSequence",start:n(a(d[m][1].end),-N),end:a(d[m][1].end)},v={type:N>1?"strongSequence":"emphasisSequence",start:a(d[p][1].start),end:n(a(d[p][1].start),N)},f={type:N>1?"strongText":"emphasisText",start:a(d[m][1].end),end:a(d[p][1].start)},g={type:N>1?"strong":"emphasis",start:a(x.start),end:a(v.end)},d[m][1].end=a(x.start),d[p][1].start=a(v.end),y=[],d[m][1].end.offset-d[m][1].start.offset&&(y=e(y,[["enter",d[m][1],u],["exit",d[m][1],u]])),y=e(y,[["enter",g,u],["enter",x,u],["exit",x,u],["enter",f,u]]),y=e(y,o(u.parser.constructs.insideSpan.null,d.slice(m+1,p),u)),y=e(y,[["exit",f,u],["enter",v,u],["exit",v,u],["exit",g,u]]),d[p][1].end.offset-d[p][1].start.offset?(w=2,y=e(y,[["enter",d[p][1],u],["exit",d[p][1],u]])):w=0,t(d,m-1,p-m+3,y),p=m+y.length-w-2;break}}for(p=-1;++p<d.length;)d[p][1].type==="attentionSequence"&&(d[p][1].type="data");return d}function l(d,u){var p=r(this.previous),m;return g;function g(x){return d.enter("attentionSequence"),m=x,f(x)}function f(x){var v,N,y,w;return x===m?(d.consume(x),f):(v=d.exit("attentionSequence"),N=r(x),y=!N||N===2&&p,w=!p||p===2&&N,v._open=m===42?y:y&&(p||!w),v._close=m===42?w:w&&(N||!y),u(x))}}return Vu=i,Vu}var Gu,Yy;function yx(){if(Yy)return Gu;Yy=1;var e=fo(),t=e(/[A-Za-z]/);return Gu=t,Gu}var Qu,Xy;function jd(){if(Xy)return Qu;Xy=1;var e=fo(),t=e(/[\dA-Za-z]/);return Qu=t,Qu}var Yu,Jy;function JB(){if(Jy)return Yu;Jy=1;var e=fo(),t=e(/[#-'*+\--9=?A-Z^-~]/);return Yu=t,Yu}var Xu,Zy;function B2(){if(Zy)return Xu;Zy=1;function e(t){return t<32||t===127}return Xu=e,Xu}var Ju,ew;function ZB(){if(ew)return Ju;ew=1;var e=yx(),t=jd(),r=JB(),n=B2(),o={name:"autolink",tokenize:a};function a(i,c,l){var d=1;return u;function u(b){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(b),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),p}function p(b){return e(b)?(i.consume(b),m):r(b)?x(b):l(b)}function m(b){return b===43||b===45||b===46||t(b)?g(b):x(b)}function g(b){return b===58?(i.consume(b),f):(b===43||b===45||b===46||t(b))&&d++<32?(i.consume(b),g):x(b)}function f(b){return b===62?(i.exit("autolinkProtocol"),w(b)):b===32||b===60||n(b)?l(b):(i.consume(b),f)}function x(b){return b===64?(i.consume(b),d=0,v):r(b)?(i.consume(b),x):l(b)}function v(b){return t(b)?N(b):l(b)}function N(b){return b===46?(i.consume(b),d=0,v):b===62?(i.exit("autolinkProtocol").type="autolinkEmail",w(b)):y(b)}function y(b){return(b===45||t(b))&&d++<63?(i.consume(b),b===45?y:N):l(b)}function w(b){return i.enter("autolinkMarker"),i.consume(b),i.exit("autolinkMarker"),i.exit("autolink"),c}}return Ju=o,Ju}var Zu,tw;function e6(){if(tw)return Zu;tw=1;var e=Cn(),t=Is(),r={name:"blockQuote",tokenize:n,continuation:{tokenize:o},exit:a};function n(i,c,l){var d=this;return u;function u(m){return m===62?(d.containerState.open||(i.enter("blockQuote",{_container:!0}),d.containerState.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(m),i.exit("blockQuoteMarker"),p):l(m)}function p(m){return e(m)?(i.enter("blockQuotePrefixWhitespace"),i.consume(m),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),c):(i.exit("blockQuotePrefix"),c(m))}}function o(i,c,l){return t(i,i.attempt(r,c,l),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function a(i){i.exit("blockQuote")}return Zu=r,Zu}var ep,sw;function t6(){if(sw)return ep;sw=1;var e=fo(),t=e(/[!-/:-@[-`{-~]/);return ep=t,ep}var tp,rw;function s6(){if(rw)return tp;rw=1;var e=t6(),t={name:"characterEscape",tokenize:r};function r(n,o,a){return i;function i(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),c}function c(l){return e(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),o):a(l)}}return tp=t,tp}var sp,nw;function z2(){if(nw)return sp;nw=1;var e,t=59;sp=r;function r(n){var o="&"+n+";",a;return e=e||document.createElement("i"),e.innerHTML=o,a=e.textContent,a.charCodeAt(a.length-1)===t&&n!=="semi"||a===o?!1:a}return sp}var rp,ow;function q2(){if(ow)return rp;ow=1;var e=fo(),t=e(/\d/);return rp=t,rp}var np,aw;function r6(){if(aw)return np;aw=1;var e=fo(),t=e(/[\dA-Fa-f]/);return np=t,np}var op,iw;function n6(){if(iw)return op;iw=1;var e=z2(),t=jd(),r=q2(),n=r6();function o(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var a=o(e),i={name:"characterReference",tokenize:c};function c(l,d,u){var p=this,m=0,g,f;return x;function x(w){return l.enter("characterReference"),l.enter("characterReferenceMarker"),l.consume(w),l.exit("characterReferenceMarker"),v}function v(w){return w===35?(l.enter("characterReferenceMarkerNumeric"),l.consume(w),l.exit("characterReferenceMarkerNumeric"),N):(l.enter("characterReferenceValue"),g=31,f=t,y(w))}function N(w){return w===88||w===120?(l.enter("characterReferenceMarkerHexadecimal"),l.consume(w),l.exit("characterReferenceMarkerHexadecimal"),l.enter("characterReferenceValue"),g=6,f=n,y):(l.enter("characterReferenceValue"),g=7,f=r,y(w))}function y(w){var b;return w===59&&m?(b=l.exit("characterReferenceValue"),f===t&&!a.default(p.sliceSerialize(b))?u(w):(l.enter("characterReferenceMarker"),l.consume(w),l.exit("characterReferenceMarker"),l.exit("characterReference"),d)):f(w)&&m++<g?(l.consume(w),y):u(w)}}return op=i,op}var ap,lw;function o6(){if(lw)return ap;lw=1;var e=fs(),t=ho(),r=kd(),n=Is(),o={name:"codeFenced",tokenize:a,concrete:!0};function a(i,c,l){var d=this,u={tokenize:T,partial:!0},p=r(this.events,"linePrefix"),m=0,g;return f;function f(S){return i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),g=S,x(S)}function x(S){return S===g?(i.consume(S),m++,x):(i.exit("codeFencedFenceSequence"),m<3?l(S):n(i,v,"whitespace")(S))}function v(S){return S===null||e(S)?b(S):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),N(S))}function N(S){return S===null||t(S)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),n(i,y,"whitespace")(S)):S===96&&S===g?l(S):(i.consume(S),N)}function y(S){return S===null||e(S)?b(S):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),w(S))}function w(S){return S===null||e(S)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),b(S)):S===96&&S===g?l(S):(i.consume(S),w)}function b(S){return i.exit("codeFencedFence"),d.interrupt?c(S):k(S)}function k(S){return S===null?j(S):e(S)?(i.enter("lineEnding"),i.consume(S),i.exit("lineEnding"),i.attempt(u,j,p?n(i,k,"linePrefix",p+1):k)):(i.enter("codeFlowValue"),_(S))}function _(S){return S===null||e(S)?(i.exit("codeFlowValue"),k(S)):(i.consume(S),_)}function j(S){return i.exit("codeFenced"),c(S)}function T(S,I,E){var M=0;return n(S,R,"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function R(B){return S.enter("codeFencedFence"),S.enter("codeFencedFenceSequence"),C(B)}function C(B){return B===g?(S.consume(B),M++,C):M<m?E(B):(S.exit("codeFencedFenceSequence"),n(S,q,"whitespace")(B))}function q(B){return B===null||e(B)?(S.exit("codeFencedFence"),I(B)):E(B)}}}return ap=o,ap}var ip,cw;function a6(){if(cw)return ip;cw=1;var e=fs(),t=mo(),r=kd(),n=Is(),o={name:"codeIndented",tokenize:c,resolve:i},a={tokenize:l,partial:!0};function i(d,u){var p={type:"codeIndented",start:d[0][1].start,end:d[d.length-1][1].end};return t(d,0,0,[["enter",p,u]]),t(d,d.length,0,[["exit",p,u]]),d}function c(d,u,p){return d.attempt(a,m,p);function m(f){return f===null?u(f):e(f)?d.attempt(a,m,u)(f):(d.enter("codeFlowValue"),g(f))}function g(f){return f===null||e(f)?(d.exit("codeFlowValue"),m(f)):(d.consume(f),g)}}function l(d,u,p){var m=this;return n(d,g,"linePrefix",5);function g(f){return e(f)?(d.enter("lineEnding"),d.consume(f),d.exit("lineEnding"),n(d,g,"linePrefix",5)):r(m.events,"linePrefix")<4?p(f):u(f)}}return ip=o,ip}var lp,dw;function i6(){if(dw)return lp;dw=1;var e=fs(),t={name:"codeText",tokenize:o,resolve:r,previous:n};function r(a){var i=a.length-4,c=3,l,d;if((a[c][1].type==="lineEnding"||a[c][1].type==="space")&&(a[i][1].type==="lineEnding"||a[i][1].type==="space")){for(l=c;++l<i;)if(a[l][1].type==="codeTextData"){a[i][1].type=a[c][1].type="codeTextPadding",c+=2,i-=2;break}}for(l=c-1,i++;++l<=i;)d===void 0?l!==i&&a[l][1].type!=="lineEnding"&&(d=l):(l===i||a[l][1].type==="lineEnding")&&(a[d][1].type="codeTextData",l!==d+2&&(a[d][1].end=a[l-1][1].end,a.splice(d+2,l-d-2),i-=l-d-2,l=d+2),d=void 0);return a}function n(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o(a,i,c){var l=0,d,u;return p;function p(v){return a.enter("codeText"),a.enter("codeTextSequence"),m(v)}function m(v){return v===96?(a.consume(v),l++,m):(a.exit("codeTextSequence"),g(v))}function g(v){return v===null?c(v):v===96?(u=a.enter("codeTextSequence"),d=0,x(v)):v===32?(a.enter("space"),a.consume(v),a.exit("space"),g):e(v)?(a.enter("lineEnding"),a.consume(v),a.exit("lineEnding"),g):(a.enter("codeTextData"),f(v))}function f(v){return v===null||v===32||v===96||e(v)?(a.exit("codeTextData"),g(v)):(a.consume(v),f)}function x(v){return v===96?(a.consume(v),d++,x):d===l?(a.exit("codeTextSequence"),a.exit("codeText"),i(v)):(u.type="codeTextData",f(v))}}return lp=t,lp}var cp,uw;function U2(){if(uw)return cp;uw=1;var e=B2(),t=ho(),r=fs();function n(o,a,i,c,l,d,u,p,m){var g=m||1/0,f=0;return x;function x(k){return k===60?(o.enter(c),o.enter(l),o.enter(d),o.consume(k),o.exit(d),v):e(k)||k===41?i(k):(o.enter(c),o.enter(u),o.enter(p),o.enter("chunkString",{contentType:"string"}),w(k))}function v(k){return k===62?(o.enter(d),o.consume(k),o.exit(d),o.exit(l),o.exit(c),a):(o.enter(p),o.enter("chunkString",{contentType:"string"}),N(k))}function N(k){return k===62?(o.exit("chunkString"),o.exit(p),v(k)):k===null||k===60||r(k)?i(k):(o.consume(k),k===92?y:N)}function y(k){return k===60||k===62||k===92?(o.consume(k),N):N(k)}function w(k){return k===40?++f>g?i(k):(o.consume(k),w):k===41?f--?(o.consume(k),w):(o.exit("chunkString"),o.exit(p),o.exit(u),o.exit(c),a(k)):k===null||t(k)?f?i(k):(o.exit("chunkString"),o.exit(p),o.exit(u),o.exit(c),a(k)):e(k)?i(k):(o.consume(k),k===92?b:w)}function b(k){return k===40||k===41||k===92?(o.consume(k),w):w(k)}}return cp=n,cp}var dp,pw;function K2(){if(pw)return dp;pw=1;var e=fs(),t=Cn();function r(n,o,a,i,c,l){var d=this,u=0,p;return m;function m(v){return n.enter(i),n.enter(c),n.consume(v),n.exit(c),n.enter(l),g}function g(v){return v===null||v===91||v===93&&!p||v===94&&!u&&"_hiddenFootnoteSupport"in d.parser.constructs||u>999?a(v):v===93?(n.exit(l),n.enter(c),n.consume(v),n.exit(c),n.exit(i),o):e(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||v===91||v===93||e(v)||u++>999?(n.exit("chunkString"),g(v)):(n.consume(v),p=p||!t(v),v===92?x:f)}function x(v){return v===91||v===92||v===93?(n.consume(v),u++,f):f(v)}}return dp=r,dp}var up,mw;function W2(){if(mw)return up;mw=1;var e=fs(),t=Cn(),r=Is();function n(o,a){var i;return c;function c(l){return e(l)?(o.enter("lineEnding"),o.consume(l),o.exit("lineEnding"),i=!0,c):t(l)?r(o,c,i?"linePrefix":"lineSuffix")(l):a(l)}}return up=n,up}var pp,hw;function $2(){if(hw)return pp;hw=1;var e=fs(),t=Is();function r(n,o,a,i,c,l){var d;return u;function u(x){return n.enter(i),n.enter(c),n.consume(x),n.exit(c),d=x===40?41:x,p}function p(x){return x===d?(n.enter(c),n.consume(x),n.exit(c),n.exit(i),o):(n.enter(l),m(x))}function m(x){return x===d?(n.exit(l),p(d)):x===null?a(x):e(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),t(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===d||x===null||e(x)?(n.exit("chunkString"),m(x)):(n.consume(x),x===92?f:g)}function f(x){return x===d||x===92?(n.consume(x),g):g(x)}}return pp=r,pp}var mp,fw;function l6(){if(fw)return mp;fw=1;var e=fs(),t=ho(),r=gx(),n=U2(),o=K2(),a=Is(),i=W2(),c=$2(),l={name:"definition",tokenize:u},d={tokenize:p,partial:!0};function u(m,g,f){var x=this,v;return N;function N(b){return m.enter("definition"),o.call(x,m,y,f,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function y(b){return v=r(x.sliceSerialize(x.events[x.events.length-1][1]).slice(1,-1)),b===58?(m.enter("definitionMarker"),m.consume(b),m.exit("definitionMarker"),i(m,n(m,m.attempt(d,a(m,w,"whitespace"),a(m,w,"whitespace")),f,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):f(b)}function w(b){return b===null||e(b)?(m.exit("definition"),x.parser.defined.indexOf(v)<0&&x.parser.defined.push(v),g(b)):f(b)}}function p(m,g,f){return x;function x(y){return t(y)?i(m,v)(y):f(y)}function v(y){return y===34||y===39||y===40?c(m,a(m,N,"whitespace"),f,"definitionTitle","definitionTitleMarker","definitionTitleString")(y):f(y)}function N(y){return y===null||e(y)?g(y):f(y)}}return mp=l,mp}var hp,gw;function c6(){if(gw)return hp;gw=1;var e=fs(),t={name:"hardBreakEscape",tokenize:r};function r(n,o,a){return i;function i(l){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(l),c}function c(l){return e(l)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),o(l)):a(l)}}return hp=t,hp}var fp,xw;function d6(){if(xw)return fp;xw=1;var e=fs(),t=ho(),r=Cn(),n=mo(),o=Is(),a={name:"headingAtx",tokenize:c,resolve:i};function i(l,d){var u=l.length-2,p=3,m,g;return l[p][1].type==="whitespace"&&(p+=2),u-2>p&&l[u][1].type==="whitespace"&&(u-=2),l[u][1].type==="atxHeadingSequence"&&(p===u-1||u-4>p&&l[u-2][1].type==="whitespace")&&(u-=p+1===u?2:4),u>p&&(m={type:"atxHeadingText",start:l[p][1].start,end:l[u][1].end},g={type:"chunkText",start:l[p][1].start,end:l[u][1].end,contentType:"text"},n(l,p,u-p+1,[["enter",m,d],["enter",g,d],["exit",g,d],["exit",m,d]])),l}function c(l,d,u){var p=this,m=0;return g;function g(y){return l.enter("atxHeading"),l.enter("atxHeadingSequence"),f(y)}function f(y){return y===35&&m++<6?(l.consume(y),f):y===null||t(y)?(l.exit("atxHeadingSequence"),p.interrupt?d(y):x(y)):u(y)}function x(y){return y===35?(l.enter("atxHeadingSequence"),v(y)):y===null||e(y)?(l.exit("atxHeading"),d(y)):r(y)?o(l,x,"whitespace")(y):(l.enter("atxHeadingText"),N(y))}function v(y){return y===35?(l.consume(y),v):(l.exit("atxHeadingSequence"),x(y))}function N(y){return y===null||y===35||t(y)?(l.exit("atxHeadingText"),x(y)):(l.consume(y),N)}}return fp=a,fp}var gp,vw;function u6(){if(vw)return gp;vw=1;var e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];return gp=e,gp}var xp,bw;function p6(){if(bw)return xp;bw=1;var e=["pre","script","style","textarea"];return xp=e,xp}var vp,yw;function m6(){if(yw)return vp;yw=1;var e=yx(),t=jd(),r=fs(),n=ho(),o=Cn(),a=yd(),i=u6(),c=p6(),l=wd(),d={name:"htmlFlow",tokenize:m,resolveTo:p,concrete:!0},u={tokenize:g,partial:!0};function p(f){for(var x=f.length;x--&&!(f[x][0]==="enter"&&f[x][1].type==="htmlFlow"););return x>1&&f[x-2][1].type==="linePrefix"&&(f[x][1].start=f[x-2][1].start,f[x+1][1].start=f[x-2][1].start,f.splice(x-2,2)),f}function m(f,x,v){var N=this,y,w,b,k,_;return j;function j(L){return f.enter("htmlFlow"),f.enter("htmlFlowData"),f.consume(L),T}function T(L){return L===33?(f.consume(L),S):L===47?(f.consume(L),M):L===63?(f.consume(L),y=3,N.interrupt?x:we):e(L)?(f.consume(L),b=a(L),w=!0,R):v(L)}function S(L){return L===45?(f.consume(L),y=2,I):L===91?(f.consume(L),y=5,b="CDATA[",k=0,E):e(L)?(f.consume(L),y=4,N.interrupt?x:we):v(L)}function I(L){return L===45?(f.consume(L),N.interrupt?x:we):v(L)}function E(L){return L===b.charCodeAt(k++)?(f.consume(L),k===b.length?N.interrupt?x:Z:E):v(L)}function M(L){return e(L)?(f.consume(L),b=a(L),R):v(L)}function R(L){return L===null||L===47||L===62||n(L)?L!==47&&w&&c.indexOf(b.toLowerCase())>-1?(y=1,N.interrupt?x(L):Z(L)):i.indexOf(b.toLowerCase())>-1?(y=6,L===47?(f.consume(L),C):N.interrupt?x(L):Z(L)):(y=7,N.interrupt?v(L):w?B(L):q(L)):L===45||t(L)?(f.consume(L),b+=a(L),R):v(L)}function C(L){return L===62?(f.consume(L),N.interrupt?x:Z):v(L)}function q(L){return o(L)?(f.consume(L),q):re(L)}function B(L){return L===47?(f.consume(L),re):L===58||L===95||e(L)?(f.consume(L),U):o(L)?(f.consume(L),B):re(L)}function U(L){return L===45||L===46||L===58||L===95||t(L)?(f.consume(L),U):te(L)}function te(L){return L===61?(f.consume(L),Q):o(L)?(f.consume(L),te):B(L)}function Q(L){return L===null||L===60||L===61||L===62||L===96?v(L):L===34||L===39?(f.consume(L),_=L,O):o(L)?(f.consume(L),Q):(_=void 0,F(L))}function O(L){return L===_?(f.consume(L),W):L===null||r(L)?v(L):(f.consume(L),O)}function F(L){return L===null||L===34||L===39||L===60||L===61||L===62||L===96||n(L)?te(L):(f.consume(L),F)}function W(L){return L===47||L===62||o(L)?B(L):v(L)}function re(L){return L===62?(f.consume(L),H):v(L)}function H(L){return o(L)?(f.consume(L),H):L===null||r(L)?Z(L):v(L)}function Z(L){return L===45&&y===2?(f.consume(L),ie):L===60&&y===1?(f.consume(L),D):L===62&&y===4?(f.consume(L),Pe):L===63&&y===3?(f.consume(L),we):L===93&&y===5?(f.consume(L),xe):r(L)&&(y===6||y===7)?f.check(u,Pe,Y)(L):L===null||r(L)?Y(L):(f.consume(L),Z)}function Y(L){return f.exit("htmlFlowData"),G(L)}function G(L){return L===null?Ce(L):r(L)?(f.enter("lineEnding"),f.consume(L),f.exit("lineEnding"),G):(f.enter("htmlFlowData"),Z(L))}function ie(L){return L===45?(f.consume(L),we):Z(L)}function D(L){return L===47?(f.consume(L),b="",me):Z(L)}function me(L){return L===62&&c.indexOf(b.toLowerCase())>-1?(f.consume(L),Pe):e(L)&&b.length<8?(f.consume(L),b+=a(L),me):Z(L)}function xe(L){return L===93?(f.consume(L),we):Z(L)}function we(L){return L===62?(f.consume(L),Pe):Z(L)}function Pe(L){return L===null||r(L)?(f.exit("htmlFlowData"),Ce(L)):(f.consume(L),Pe)}function Ce(L){return f.exit("htmlFlow"),x(L)}}function g(f,x,v){return N;function N(y){return f.exit("htmlFlowData"),f.enter("lineEndingBlank"),f.consume(y),f.exit("lineEndingBlank"),f.attempt(l,x,v)}}return vp=d,vp}var bp,ww;function h6(){if(ww)return bp;ww=1;var e=yx(),t=jd(),r=fs(),n=ho(),o=Cn(),a=Is(),i={name:"htmlText",tokenize:c};function c(l,d,u){var p=this,m,g,f,x;return v;function v(D){return l.enter("htmlText"),l.enter("htmlTextData"),l.consume(D),N}function N(D){return D===33?(l.consume(D),y):D===47?(l.consume(D),q):D===63?(l.consume(D),R):e(D)?(l.consume(D),te):u(D)}function y(D){return D===45?(l.consume(D),w):D===91?(l.consume(D),g="CDATA[",f=0,T):e(D)?(l.consume(D),M):u(D)}function w(D){return D===45?(l.consume(D),b):u(D)}function b(D){return D===null||D===62?u(D):D===45?(l.consume(D),k):_(D)}function k(D){return D===null||D===62?u(D):_(D)}function _(D){return D===null?u(D):D===45?(l.consume(D),j):r(D)?(x=_,Y(D)):(l.consume(D),_)}function j(D){return D===45?(l.consume(D),ie):_(D)}function T(D){return D===g.charCodeAt(f++)?(l.consume(D),f===g.length?S:T):u(D)}function S(D){return D===null?u(D):D===93?(l.consume(D),I):r(D)?(x=S,Y(D)):(l.consume(D),S)}function I(D){return D===93?(l.consume(D),E):S(D)}function E(D){return D===62?ie(D):D===93?(l.consume(D),E):S(D)}function M(D){return D===null||D===62?ie(D):r(D)?(x=M,Y(D)):(l.consume(D),M)}function R(D){return D===null?u(D):D===63?(l.consume(D),C):r(D)?(x=R,Y(D)):(l.consume(D),R)}function C(D){return D===62?ie(D):R(D)}function q(D){return e(D)?(l.consume(D),B):u(D)}function B(D){return D===45||t(D)?(l.consume(D),B):U(D)}function U(D){return r(D)?(x=U,Y(D)):o(D)?(l.consume(D),U):ie(D)}function te(D){return D===45||t(D)?(l.consume(D),te):D===47||D===62||n(D)?Q(D):u(D)}function Q(D){return D===47?(l.consume(D),ie):D===58||D===95||e(D)?(l.consume(D),O):r(D)?(x=Q,Y(D)):o(D)?(l.consume(D),Q):ie(D)}function O(D){return D===45||D===46||D===58||D===95||t(D)?(l.consume(D),O):F(D)}function F(D){return D===61?(l.consume(D),W):r(D)?(x=F,Y(D)):o(D)?(l.consume(D),F):Q(D)}function W(D){return D===null||D===60||D===61||D===62||D===96?u(D):D===34||D===39?(l.consume(D),m=D,re):r(D)?(x=W,Y(D)):o(D)?(l.consume(D),W):(l.consume(D),m=void 0,Z)}function re(D){return D===m?(l.consume(D),H):D===null?u(D):r(D)?(x=re,Y(D)):(l.consume(D),re)}function H(D){return D===62||D===47||n(D)?Q(D):u(D)}function Z(D){return D===null||D===34||D===39||D===60||D===61||D===96?u(D):D===62||n(D)?Q(D):(l.consume(D),Z)}function Y(D){return l.exit("htmlTextData"),l.enter("lineEnding"),l.consume(D),l.exit("lineEnding"),a(l,G,"linePrefix",p.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function G(D){return l.enter("htmlTextData"),x(D)}function ie(D){return D===62?(l.consume(D),l.exit("htmlTextData"),l.exit("htmlText"),d):u(D)}}return bp=i,bp}var yp,kw;function wx(){if(kw)return yp;kw=1;var e=ho(),t=vx(),r=mo(),n=gx(),o=bx(),a=ei(),i=U2(),c=K2(),l=$2(),d=W2(),u={name:"labelEnd",tokenize:v,resolveTo:x,resolveAll:f},p={tokenize:N},m={tokenize:y},g={tokenize:w};function f(b){for(var k=-1,_;++k<b.length;)_=b[k][1],!_._used&&(_.type==="labelImage"||_.type==="labelLink"||_.type==="labelEnd")&&(b.splice(k+1,_.type==="labelImage"?4:2),_.type="data",k++);return b}function x(b,k){for(var _=b.length,j=0,T,S,I,E,M,R,C;_--;)if(E=b[_][1],M){if(E.type==="link"||E.type==="labelLink"&&E._inactive)break;b[_][0]==="enter"&&E.type==="labelLink"&&(E._inactive=!0)}else if(R){if(b[_][0]==="enter"&&(E.type==="labelImage"||E.type==="labelLink")&&!E._balanced&&(M=_,E.type!=="labelLink")){j=2;break}}else E.type==="labelEnd"&&(R=_);return T={type:b[M][1].type==="labelLink"?"link":"image",start:a(b[M][1].start),end:a(b[b.length-1][1].end)},S={type:"label",start:a(b[M][1].start),end:a(b[R][1].end)},I={type:"labelText",start:a(b[M+j+2][1].end),end:a(b[R-2][1].start)},C=[["enter",T,k],["enter",S,k]],C=t(C,b.slice(M+1,M+j+3)),C=t(C,[["enter",I,k]]),C=t(C,o(k.parser.constructs.insideSpan.null,b.slice(M+j+4,R-3),k)),C=t(C,[["exit",I,k],b[R-2],b[R-1],["exit",S,k]]),C=t(C,b.slice(R+1)),C=t(C,[["exit",T,k]]),r(b,M,b.length,C),b}function v(b,k,_){for(var j=this,T=j.events.length,S,I;T--;)if((j.events[T][1].type==="labelImage"||j.events[T][1].type==="labelLink")&&!j.events[T][1]._balanced){S=j.events[T][1];break}return E;function E(C){return S?S._inactive?R(C):(I=j.parser.defined.indexOf(n(j.sliceSerialize({start:S.end,end:j.now()})))>-1,b.enter("labelEnd"),b.enter("labelMarker"),b.consume(C),b.exit("labelMarker"),b.exit("labelEnd"),M):_(C)}function M(C){return C===40?b.attempt(p,k,I?k:R)(C):C===91?b.attempt(m,k,I?b.attempt(g,k,R):R)(C):I?k(C):R(C)}function R(C){return S._balanced=!0,_(C)}}function N(b,k,_){return j;function j(M){return b.enter("resource"),b.enter("resourceMarker"),b.consume(M),b.exit("resourceMarker"),d(b,T)}function T(M){return M===41?E(M):i(b,S,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(M)}function S(M){return e(M)?d(b,I)(M):E(M)}function I(M){return M===34||M===39||M===40?l(b,d(b,E),_,"resourceTitle","resourceTitleMarker","resourceTitleString")(M):E(M)}function E(M){return M===41?(b.enter("resourceMarker"),b.consume(M),b.exit("resourceMarker"),b.exit("resource"),k):_(M)}}function y(b,k,_){var j=this;return T;function T(I){return c.call(j,b,S,_,"reference","referenceMarker","referenceString")(I)}function S(I){return j.parser.defined.indexOf(n(j.sliceSerialize(j.events[j.events.length-1][1]).slice(1,-1)))<0?_(I):k(I)}}function w(b,k,_){return j;function j(S){return b.enter("reference"),b.enter("referenceMarker"),b.consume(S),b.exit("referenceMarker"),T}function T(S){return S===93?(b.enter("referenceMarker"),b.consume(S),b.exit("referenceMarker"),b.exit("reference"),k):_(S)}}return yp=u,yp}var wp,jw;function f6(){if(jw)return wp;jw=1;var e=wx(),t={name:"labelStartImage",tokenize:r,resolveAll:e.resolveAll};function r(n,o,a){var i=this;return c;function c(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),l}function l(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),d):a(u)}function d(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(u):o(u)}}return wp=t,wp}var kp,_w;function g6(){if(_w)return kp;_w=1;var e=wx(),t={name:"labelStartLink",tokenize:r,resolveAll:e.resolveAll};function r(n,o,a){var i=this;return c;function c(d){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelLink"),l}function l(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(d):o(d)}}return kp=t,kp}var jp,Nw;function x6(){if(Nw)return jp;Nw=1;var e=Is(),t={name:"lineEnding",tokenize:r};function r(n,o){return a;function a(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),e(n,o,"linePrefix")}}return jp=t,jp}var _p,Sw;function H2(){if(Sw)return _p;Sw=1;var e=fs(),t=Cn(),r=Is(),n={name:"thematicBreak",tokenize:o};function o(a,i,c){var l=0,d;return u;function u(g){return a.enter("thematicBreak"),d=g,p(g)}function p(g){return g===d?(a.enter("thematicBreakSequence"),m(g)):t(g)?r(a,p,"whitespace")(g):l<3||g!==null&&!e(g)?c(g):(a.exit("thematicBreak"),i(g))}function m(g){return g===d?(a.consume(g),l++,m):(a.exit("thematicBreakSequence"),p(g))}}return _p=n,_p}var Np,Tw;function v6(){if(Tw)return Np;Tw=1;var e=q2(),t=Cn(),r=kd(),n=D2(),o=Is(),a=wd(),i=H2(),c={name:"list",tokenize:u,continuation:{tokenize:p},exit:g},l={tokenize:f,partial:!0},d={tokenize:m,partial:!0};function u(x,v,N){var y=this,w=r(y.events,"linePrefix"),b=0;return k;function k(E){var M=y.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!y.containerState.marker||E===y.containerState.marker:e(E)){if(y.containerState.type||(y.containerState.type=M,x.enter(M,{_container:!0})),M==="listUnordered")return x.enter("listItemPrefix"),E===42||E===45?x.check(i,N,j)(E):j(E);if(!y.interrupt||E===49)return x.enter("listItemPrefix"),x.enter("listItemValue"),_(E)}return N(E)}function _(E){return e(E)&&++b<10?(x.consume(E),_):(!y.interrupt||b<2)&&(y.containerState.marker?E===y.containerState.marker:E===41||E===46)?(x.exit("listItemValue"),j(E)):N(E)}function j(E){return x.enter("listItemMarker"),x.consume(E),x.exit("listItemMarker"),y.containerState.marker=y.containerState.marker||E,x.check(a,y.interrupt?N:T,x.attempt(l,I,S))}function T(E){return y.containerState.initialBlankLine=!0,w++,I(E)}function S(E){return t(E)?(x.enter("listItemPrefixWhitespace"),x.consume(E),x.exit("listItemPrefixWhitespace"),I):N(E)}function I(E){return y.containerState.size=w+n(y.sliceStream(x.exit("listItemPrefix"))),v(E)}}function p(x,v,N){var y=this;return y.containerState._closeFlow=void 0,x.check(a,w,b);function w(_){return y.containerState.furtherBlankLines=y.containerState.furtherBlankLines||y.containerState.initialBlankLine,o(x,v,"listItemIndent",y.containerState.size+1)(_)}function b(_){return y.containerState.furtherBlankLines||!t(_)?(y.containerState.furtherBlankLines=y.containerState.initialBlankLine=void 0,k(_)):(y.containerState.furtherBlankLines=y.containerState.initialBlankLine=void 0,x.attempt(d,v,k)(_))}function k(_){return y.containerState._closeFlow=!0,y.interrupt=void 0,o(x,x.attempt(c,v,N),"linePrefix",y.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(_)}}function m(x,v,N){var y=this;return o(x,w,"listItemIndent",y.containerState.size+1);function w(b){return r(y.events,"listItemIndent")===y.containerState.size?v(b):N(b)}}function g(x){x.exit(this.containerState.type)}function f(x,v,N){var y=this;return o(x,w,"listItemPrefixWhitespace",y.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5);function w(b){return t(b)||!r(y.events,"listItemPrefixWhitespace")?N(b):v(b)}}return Np=c,Np}var Sp,Iw;function b6(){if(Iw)return Sp;Iw=1;var e=fs(),t=ei(),r=Is(),n={name:"setextUnderline",tokenize:a,resolveTo:o};function o(i,c){for(var l=i.length,d,u,p,m;l--;)if(i[l][0]==="enter"){if(i[l][1].type==="content"){d=l;break}i[l][1].type==="paragraph"&&(u=l)}else i[l][1].type==="content"&&i.splice(l,1),!p&&i[l][1].type==="definition"&&(p=l);return m={type:"setextHeading",start:t(i[u][1].start),end:t(i[i.length-1][1].end)},i[u][1].type="setextHeadingText",p?(i.splice(u,0,["enter",m,c]),i.splice(p+1,0,["exit",i[d][1],c]),i[d][1].end=t(i[p][1].end)):i[d][1]=m,i.push(["exit",m,c]),i}function a(i,c,l){for(var d=this,u=d.events.length,p,m;u--;)if(d.events[u][1].type!=="lineEnding"&&d.events[u][1].type!=="linePrefix"&&d.events[u][1].type!=="content"){m=d.events[u][1].type==="paragraph";break}return g;function g(v){return!d.lazy&&(d.interrupt||m)?(i.enter("setextHeadingLine"),i.enter("setextHeadingLineSequence"),p=v,f(v)):l(v)}function f(v){return v===p?(i.consume(v),f):(i.exit("setextHeadingLineSequence"),r(i,x,"lineSuffix")(v))}function x(v){return v===null||e(v)?(i.exit("setextHeadingLine"),c(v)):l(v)}}return Sp=n,Sp}var Pw;function y6(){if(Pw)return Ar;Pw=1,Object.defineProperty(Ar,"__esModule",{value:!0});var e=L2(),t=XB(),r=ZB(),n=e6(),o=s6(),a=n6(),i=o6(),c=a6(),l=i6(),d=l6(),u=c6(),p=d6(),m=m6(),g=h6(),f=wx(),x=f6(),v=g6(),N=x6(),y=v6(),w=b6(),b=H2(),k={42:y,43:y,45:y,48:y,49:y,50:y,51:y,52:y,53:y,54:y,55:y,56:y,57:y,62:n},_={91:d},j={"-2":c,"-1":c,32:c},T={35:p,42:b,45:[w,b],60:m,61:w,95:b,96:i,126:i},S={38:a,92:o},I={"-5":N,"-4":N,"-3":N,33:x,38:a,42:t,60:[r,g],91:v,92:[u,o],93:f,95:t,96:l},E={null:[t,e.resolver]},M={null:[]};return Ar.contentInitial=_,Ar.disable=M,Ar.document=k,Ar.flow=T,Ar.flowInitial=j,Ar.insideSpan=E,Ar.string=S,Ar.text=I,Ar}var Tp,Ew;function w6(){if(Ew)return Tp;Ew=1;var e=FB(),t=LB(),r=qB(),n=L2(),o=UB(),a=$B(),i=xx(),c=y6();function l(d){var u=d||{},p={defined:[],constructs:o([c].concat(i(u.extensions))),content:m(e),document:m(t),flow:m(r),string:m(n.string),text:m(n.text)};return p;function m(g){return f;function f(x){return a(p,g,x)}}}return Tp=l,Tp}var Ip,Mw;function k6(){if(Mw)return Ip;Mw=1;var e=/[\0\t\n\r]/g;function t(){var r=!0,n=1,o="",a;return i;function i(c,l,d){var u=[],p,m,g,f,x;for(c=o+c.toString(l),g=0,o="",r&&(c.charCodeAt(0)===65279&&g++,r=void 0);g<c.length;){if(e.lastIndex=g,p=e.exec(c),f=p?p.index:c.length,x=c.charCodeAt(f),!p){o=c.slice(g);break}if(x===10&&g===f&&a)u.push(-3),a=void 0;else if(a&&(u.push(-5),a=void 0),g<f&&(u.push(c.slice(g,f)),n+=f-g),x===0)u.push(65533),n++;else if(x===9)for(m=Math.ceil(n/4)*4,u.push(-2);n++<m;)u.push(-1);else x===10?(u.push(-4),n=1):(a=!0,n=1);g=f+1}return d&&(a&&u.push(-5),o&&u.push(o),u.push(null)),u}}return Ip=t,Ip}var Pp,Aw;function j6(){if(Aw)return Pp;Aw=1;var e=F2();function t(r){for(;!e(r););return r}return Pp=t,Pp}var Ep,Rw;function _6(){if(Rw)return Ep;Rw=1,Ep=u;var e=OB(),t=il(),r=O2(),n=gx(),o=DB(),a=w6(),i=k6(),c=j6(),l=z2(),d=C2();function u(f,x,v){return typeof x!="string"&&(v=x,x=void 0),p(v)(c(a(v).document().write(i()(f,x,!0))))}function p(f){var x=f||{},v=m({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:j(it),autolinkProtocol:G,autolinkEmail:G,atxHeading:j(Zt),blockQuote:j(Me),characterEscape:G,characterReference:G,codeFenced:j(Je),codeFencedFenceInfo:T,codeFencedFenceMeta:T,codeIndented:j(Je,T),codeText:j(_e,T),codeTextData:G,data:G,codeFlowValue:G,definition:j(Ze),definitionDestinationString:T,definitionLabelString:T,definitionTitleString:T,emphasis:j(_t),hardBreakEscape:j(qe),hardBreakTrailing:j(qe),htmlFlow:j(es,T),htmlFlowData:G,htmlText:j(es,T),htmlTextData:G,image:j(as),label:T,link:j(it),listItem:j(ns),listItemValue:C,listOrdered:j(Nt,R),listUnordered:j(Nt),paragraph:j(is),reference:ke,referenceString:T,resourceDestinationString:T,resourceTitleString:T,setextHeading:j(Zt),strong:j(rt),thematicBreak:j(os)},exit:{atxHeading:I(),atxHeadingSequence:re,autolink:I(),autolinkEmail:Es,autolinkProtocol:Ct,blockQuote:I(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:ft,characterReferenceMarkerNumeric:ft,characterReferenceValue:pt,codeFenced:I(te),codeFencedFence:U,codeFencedFenceInfo:q,codeFencedFenceMeta:B,codeFlowValue:ie,codeIndented:I(Q),codeText:I(Pe),codeTextData:ie,data:ie,definition:I(),definitionDestinationString:W,definitionLabelString:O,definitionTitleString:F,emphasis:I(),hardBreakEscape:I(me),hardBreakTrailing:I(me),htmlFlow:I(xe),htmlFlowData:ie,htmlText:I(we),htmlTextData:ie,image:I(L),label:X,labelText:Se,lineEnding:D,link:I(Ce),listItem:I(),listOrdered:I(),listUnordered:I(),paragraph:I(),referenceString:Te,resourceDestinationString:$e,resourceTitleString:ut,resource:V,setextHeading:I(Y),setextHeadingLineSequence:Z,setextHeadingText:H,strong:I(),thematicBreak:I()}},x.mdastExtensions||[]),N={};return y;function y(se){for(var Le={type:"root",children:[]},et=[Le],tt=[],Qe=[],ht=-1,wt,Ht,Ot={stack:et,tokenStack:tt,config:v,enter:S,exit:E,buffer:T,resume:M,setData:b,getData:k};++ht<se.length;)(se[ht][1].type==="listOrdered"||se[ht][1].type==="listUnordered")&&(se[ht][0]==="enter"?Qe.push(ht):(Ht=Qe.pop(ht),ht=w(se,Ht,ht)));for(ht=-1;++ht<se.length;)wt=v[se[ht][0]],r.call(wt,se[ht][1].type)&&wt[se[ht][1].type].call(t({sliceSerialize:se[ht][2].sliceSerialize},Ot),se[ht][1]);if(tt.length)throw new Error("Cannot close document, a token (`"+tt[tt.length-1].type+"`, "+d({start:tt[tt.length-1].start,end:tt[tt.length-1].end})+") is still open");for(Le.position={start:_(se.length?se[0][1].start:{line:1,column:1,offset:0}),end:_(se.length?se[se.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<v.transforms.length;)Le=v.transforms[ht](Le)||Le;return Le}function w(se,Le,et){for(var tt=Le-1,Qe=-1,ht=!1,wt,Ht,Ot,ts,lt,gs,ct;++tt<=et;)if(lt=se[tt],lt[1].type==="listUnordered"||lt[1].type==="listOrdered"||lt[1].type==="blockQuote"?(lt[0]==="enter"?Qe++:Qe--,ct=void 0):lt[1].type==="lineEndingBlank"?lt[0]==="enter"&&(wt&&!ct&&!Qe&&!gs&&(gs=tt),ct=void 0):lt[1].type==="linePrefix"||lt[1].type==="listItemValue"||lt[1].type==="listItemMarker"||lt[1].type==="listItemPrefix"||lt[1].type==="listItemPrefixWhitespace"||(ct=void 0),!Qe&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||Qe===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(wt){for(Ht=tt,Ot=void 0;Ht--;)if(ts=se[Ht],ts[1].type==="lineEnding"||ts[1].type==="lineEndingBlank"){if(ts[0]==="exit")continue;Ot&&(se[Ot][1].type="lineEndingBlank",ht=!0),ts[1].type="lineEnding",Ot=Ht}else if(!(ts[1].type==="linePrefix"||ts[1].type==="blockQuotePrefix"||ts[1].type==="blockQuotePrefixWhitespace"||ts[1].type==="blockQuoteMarker"||ts[1].type==="listItemIndent"))break;gs&&(!Ot||gs<Ot)&&(wt._spread=!0),wt.end=_(Ot?se[Ot][1].start:lt[1].end),se.splice(Ot||tt,0,["exit",wt,lt[2]]),tt++,et++}lt[1].type==="listItemPrefix"&&(wt={type:"listItem",_spread:!1,start:_(lt[1].start)},se.splice(tt,0,["enter",wt,lt[2]]),tt++,et++,gs=void 0,ct=!0)}return se[Le][1]._spread=ht,et}function b(se,Le){N[se]=Le}function k(se){return N[se]}function _(se){return{line:se.line,column:se.column,offset:se.offset}}function j(se,Le){return et;function et(tt){S.call(this,se(tt),tt),Le&&Le.call(this,tt)}}function T(){this.stack.push({type:"fragment",children:[]})}function S(se,Le){return this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push(Le),se.position={start:_(Le.start)},se}function I(se){return Le;function Le(et){se&&se.call(this,et),E.call(this,et)}}function E(se){var Le=this.stack.pop(),et=this.tokenStack.pop();if(et){if(et.type!==se.type)throw new Error("Cannot close `"+se.type+"` ("+d({start:se.start,end:se.end})+"): a different token (`"+et.type+"`, "+d({start:et.start,end:et.end})+") is open")}else throw new Error("Cannot close `"+se.type+"` ("+d({start:se.start,end:se.end})+"): its not open");return Le.position.end=_(se.end),Le}function M(){return e(this.stack.pop())}function R(){b("expectingFirstListItemValue",!0)}function C(se){k("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(se),10),b("expectingFirstListItemValue"))}function q(){var se=this.resume();this.stack[this.stack.length-1].lang=se}function B(){var se=this.resume();this.stack[this.stack.length-1].meta=se}function U(){k("flowCodeInside")||(this.buffer(),b("flowCodeInside",!0))}function te(){var se=this.resume();this.stack[this.stack.length-1].value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),b("flowCodeInside")}function Q(){var se=this.resume();this.stack[this.stack.length-1].value=se}function O(se){var Le=this.resume();this.stack[this.stack.length-1].label=Le,this.stack[this.stack.length-1].identifier=n(this.sliceSerialize(se)).toLowerCase()}function F(){var se=this.resume();this.stack[this.stack.length-1].title=se}function W(){var se=this.resume();this.stack[this.stack.length-1].url=se}function re(se){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(se).length)}function H(){b("setextHeadingSlurpLineEnding",!0)}function Z(se){this.stack[this.stack.length-1].depth=this.sliceSerialize(se).charCodeAt(0)===61?1:2}function Y(){b("setextHeadingSlurpLineEnding")}function G(se){var Le=this.stack[this.stack.length-1].children,et=Le[Le.length-1];(!et||et.type!=="text")&&(et=Kt(),et.position={start:_(se.start)},this.stack[this.stack.length-1].children.push(et)),this.stack.push(et)}function ie(se){var Le=this.stack.pop();Le.value+=this.sliceSerialize(se),Le.position.end=_(se.end)}function D(se){var Le=this.stack[this.stack.length-1];if(k("atHardBreak")){Le.children[Le.children.length-1].position.end=_(se.end),b("atHardBreak");return}!k("setextHeadingSlurpLineEnding")&&v.canContainEols.indexOf(Le.type)>-1&&(G.call(this,se),ie.call(this,se))}function me(){b("atHardBreak",!0)}function xe(){var se=this.resume();this.stack[this.stack.length-1].value=se}function we(){var se=this.resume();this.stack[this.stack.length-1].value=se}function Pe(){var se=this.resume();this.stack[this.stack.length-1].value=se}function Ce(){var se=this.stack[this.stack.length-1];k("inReference")?(se.type+="Reference",se.referenceType=k("referenceType")||"shortcut",delete se.url,delete se.title):(delete se.identifier,delete se.label,delete se.referenceType),b("referenceType")}function L(){var se=this.stack[this.stack.length-1];k("inReference")?(se.type+="Reference",se.referenceType=k("referenceType")||"shortcut",delete se.url,delete se.title):(delete se.identifier,delete se.label,delete se.referenceType),b("referenceType")}function Se(se){this.stack[this.stack.length-2].identifier=n(this.sliceSerialize(se)).toLowerCase()}function X(){var se=this.stack[this.stack.length-1],Le=this.resume();this.stack[this.stack.length-1].label=Le,b("inReference",!0),this.stack[this.stack.length-1].type==="link"?this.stack[this.stack.length-1].children=se.children:this.stack[this.stack.length-1].alt=Le}function $e(){var se=this.resume();this.stack[this.stack.length-1].url=se}function ut(){var se=this.resume();this.stack[this.stack.length-1].title=se}function V(){b("inReference")}function ke(){b("referenceType","collapsed")}function Te(se){var Le=this.resume();this.stack[this.stack.length-1].label=Le,this.stack[this.stack.length-1].identifier=n(this.sliceSerialize(se)).toLowerCase(),b("referenceType","full")}function ft(se){b("characterReferenceType",se.type)}function pt(se){var Le=this.sliceSerialize(se),et=k("characterReferenceType"),tt,Qe;et?(tt=o(Le,et==="characterReferenceMarkerNumeric"?10:16),b("characterReferenceType")):tt=l(Le),Qe=this.stack.pop(),Qe.value+=tt,Qe.position.end=_(se.end)}function Ct(se){ie.call(this,se),this.stack[this.stack.length-1].url=this.sliceSerialize(se)}function Es(se){ie.call(this,se),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(se)}function Me(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function _e(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _t(){return{type:"emphasis",children:[]}}function Zt(){return{type:"heading",depth:void 0,children:[]}}function qe(){return{type:"break"}}function es(){return{type:"html",value:""}}function as(){return{type:"image",title:null,url:"",alt:null}}function it(){return{type:"link",title:null,url:"",children:[]}}function Nt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function ns(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function is(){return{type:"paragraph",children:[]}}function rt(){return{type:"strong",children:[]}}function Kt(){return{type:"text",value:""}}function os(){return{type:"thematicBreak"}}}function m(f,x){for(var v=-1;++v<x.length;)g(f,x[v]);return f}function g(f,x){var v,N;for(v in x)N=r.call(f,v)?f[v]:f[v]={},v==="canContainEols"||v==="transforms"?f[v]=[].concat(N,x[v]):Object.assign(N,x[v])}return Ep}var Mp,Cw;function N6(){return Cw||(Cw=1,Mp=_6()),Mp}var Ap,Ow;function S6(){if(Ow)return Ap;Ow=1,Ap=t;var e=N6();function t(r){var n=this;this.Parser=o;function o(a){return e(a,Object.assign({},n.data("settings"),r,{extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]}))}}return Ap}var T6=S6();const I6=Zr(T6);var Rp,Dw;function Ir(){if(Dw)return Rp;Dw=1,Rp=e;function e(t,r,n){var o;return n==null&&(typeof r!="object"||Array.isArray(r))&&(n=r,r={}),o=Object.assign({type:String(t)},r),Array.isArray(n)?o.children=n:n!=null&&(o.value=String(n)),o}return Rp}var Cp,Fw;function V2(){if(Fw)return Cp;Fw=1,Cp=e;function e(a){if(a==null)return o;if(typeof a=="string")return n(a);if(typeof a=="object")return"length"in a?r(a):t(a);if(typeof a=="function")return a;throw new Error("Expected function, string, or object as test")}function t(a){return i;function i(c){var l;for(l in a)if(c[l]!==a[l])return!1;return!0}}function r(a){for(var i=[],c=-1;++c<a.length;)i[c]=e(a[c]);return l;function l(){for(var d=-1;++d<i.length;)if(i[d].apply(this,arguments))return!0;return!1}}function n(a){return i;function i(c){return!!(c&&c.type===a)}}function o(){return!0}return Cp}var Op,Lw;function P6(){if(Lw)return Op;Lw=1,Op=e;function e(t){return t}return Op}var Dp,Bw;function E6(){if(Bw)return Dp;Bw=1,Dp=a;var e=V2(),t=P6(),r=!0,n="skip",o=!1;a.CONTINUE=r,a.SKIP=n,a.EXIT=o;function a(c,l,d,u){var p,m;typeof l=="function"&&typeof d!="function"&&(u=d,d=l,l=null),m=e(l),p=u?-1:1,g(c,null,[])();function g(f,x,v){var N=typeof f=="object"&&f!==null?f:{},y;return typeof N.type=="string"&&(y=typeof N.tagName=="string"?N.tagName:typeof N.name=="string"?N.name:void 0,w.displayName="node ("+t(N.type+(y?"<"+y+">":""))+")"),w;function w(){var b=v.concat(f),k=[],_,j;if((!l||m(f,x,v[v.length-1]||null))&&(k=i(d(f,v)),k[0]===o))return k;if(f.children&&k[0]!==n)for(j=(u?f.children.length:-1)+p;j>-1&&j<f.children.length;){if(_=g(f.children[j],j,b)(),_[0]===o)return _;j=typeof _[1]=="number"?_[1]:j+p}return k}}}function i(c){return c!==null&&typeof c=="object"&&"length"in c?c:typeof c=="number"?[r,c]:[c]}return Dp}var Fp,zw;function G2(){if(zw)return Fp;zw=1,Fp=o;var e=E6(),t=e.CONTINUE,r=e.SKIP,n=e.EXIT;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(a,i,c,l){typeof i=="function"&&typeof c!="function"&&(l=c,c=i,i=null),e(a,i,d,l);function d(u,p){var m=p[p.length-1],g=m?m.children.indexOf(u):null;return c(u,g,m)}}return Fp}var Lp,qw;function Q2(){if(qw)return Lp;qw=1;var e=n("start"),t=n("end");Lp=r,r.start=e,r.end=t;function r(o){return{start:e(o),end:t(o)}}function n(o){return a.displayName=o,a;function a(i){var c=i&&i.position&&i.position[o]||{};return{line:c.line||null,column:c.column||null,offset:isNaN(c.offset)?null:c.offset}}}return Lp}var Bp,Uw;function M6(){if(Uw)return Bp;Uw=1,Bp=e;function e(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}return Bp}var zp,Kw;function A6(){if(Kw)return zp;Kw=1;var e=G2();zp=r;var t={}.hasOwnProperty;function r(i,c){return o(n(i))}function n(i){var c={};if(!i||!i.type)throw new Error("mdast-util-definitions expected node");return e(i,"definition",l),c;function l(d){var u=a(d.identifier);t.call(c,u)||(c[u]=d)}}function o(i){return c;function c(l){var d=l&&a(l);return d&&t.call(i,d)?i[d]:null}}function a(i){return i.toUpperCase()}return zp}var qp,Ww;function sr(){if(Ww)return qp;Ww=1,qp=t;var e=Y2();function t(r,n){for(var o=n.children||[],a=o.length,i=[],c=-1,l,d;++c<a;)l=e(r,o[c],n),l&&(c&&o[c-1].type==="break"&&(l.value&&(l.value=l.value.replace(/^\s+/,"")),d=l.children&&l.children[0],d&&d.value&&(d.value=d.value.replace(/^\s+/,""))),i=i.concat(l));return i}return qp}var Up,$w;function Y2(){if($w)return Up;$w=1,Up=o;var e=Ir(),t=sr(),r={}.hasOwnProperty;function n(c,l){return a(l)?c.augment(l,e("text",l.value)):c(l,"div",t(c,l))}function o(c,l,d){var u=l&&l.type,p;if(!u)throw new Error("Expected node, got `"+l+"`");return r.call(c.handlers,u)?p=c.handlers[u]:c.passThrough&&c.passThrough.indexOf(u)>-1?p=i:p=c.unknownHandler,(typeof p=="function"?p:n)(c,l,d)}function a(c){var l=c.data||{};return r.call(l,"hName")||r.call(l,"hProperties")||r.call(l,"hChildren")?!1:"value"in c}function i(c,l){var d;return l.children?(d=Object.assign({},l),d.children=t(c,l),d):l}return Up}var Kp,Hw;function X2(){if(Hw)return Kp;Hw=1,Kp=e;function e(t,r){return t(r,"hr")}return Kp}var Wp,Vw;function ll(){if(Vw)return Wp;Vw=1,Wp=t;var e=Ir();function t(r,n){var o=[],a=-1,i=r.length;for(n&&o.push(e("text",`
`));++a<i;)a&&o.push(e("text",`
`)),o.push(r[a]);return n&&r.length>0&&o.push(e("text",`
`)),o}return Wp}var $p,Gw;function J2(){if(Gw)return $p;Gw=1,$p=r;var e=ll(),t=sr();function r(n,o){var a={},i=o.ordered?"ol":"ul",c,l=-1,d;for(typeof o.start=="number"&&o.start!==1&&(a.start=o.start),c=t(n,o),d=c.length;++l<d;)if(c[l].properties.className&&c[l].properties.className.indexOf("task-list-item")!==-1){a.className=["contains-task-list"];break}return n(o,i,a,e(c,!0))}return $p}var Hp,Qw;function R6(){if(Qw)return Hp;Qw=1,Hp=n;var e=X2(),t=J2(),r=ll();function n(o){for(var a=o.footnoteById,i=o.footnoteOrder,c=i.length,l=-1,d=[],u,p,m,g;++l<c;)u=a[i[l].toUpperCase()],u&&(m=u.children.concat(),g=m[m.length-1],p={type:"link",url:"#fnref-"+u.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:""}]},(!g||g.type!=="paragraph")&&(g={type:"paragraph",children:[]},m.push(g)),g.children.push(p),d.push({type:"listItem",data:{hProperties:{id:"fn-"+u.identifier}},children:m,position:u.position}));return d.length===0?null:o(null,"div",{className:["footnotes"]},r([e(o),t(o,{type:"list",ordered:!0,children:d})],!0))}return Hp}var Vp,Yw;function C6(){if(Yw)return Vp;Yw=1,Vp=r;var e=ll(),t=sr();function r(n,o){return n(o,"blockquote",e(t(n,o),!0))}return Vp}var Gp,Xw;function O6(){if(Xw)return Gp;Xw=1,Gp=t;var e=Ir();function t(r,n){return[r(n,"br"),e("text",`
`)]}return Gp}var Qp,Jw;function D6(){if(Jw)return Qp;Jw=1,Qp=t;var e=Ir();function t(r,n){var o=n.value?n.value+`
`:"",a=n.lang&&n.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={},c;return a&&(i.className=["language-"+a]),c=r(n,"code",i,[e("text",o)]),n.meta&&(c.data={meta:n.meta}),r(n.position,"pre",[c])}return Qp}var Yp,Zw;function F6(){if(Zw)return Yp;Zw=1,Yp=t;var e=sr();function t(r,n){return r(n,"del",e(r,n))}return Yp}var Xp,ek;function L6(){if(ek)return Xp;ek=1,Xp=t;var e=sr();function t(r,n){return r(n,"em",e(r,n))}return Xp}var Jp,tk;function Z2(){if(tk)return Jp;tk=1,Jp=t;var e=Ir();function t(r,n){var o=r.footnoteOrder,a=String(n.identifier);return o.indexOf(a)===-1&&o.push(a),r(n.position,"sup",{id:"fnref-"+a},[r(n,"a",{href:"#fn-"+a,className:["footnote-ref"]},[e("text",n.label||a)])])}return Jp}var Zp,sk;function B6(){if(sk)return Zp;sk=1,Zp=t;var e=Z2();function t(r,n){for(var o=r.footnoteById,a=r.footnoteOrder,i=1;i in o;)i++;return i=String(i),a.push(i),o[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},e(r,{type:"footnoteReference",identifier:i,position:n.position})}return Zp}var em,rk;function z6(){if(rk)return em;rk=1,em=t;var e=sr();function t(r,n){return r(n,"h"+n.depth,e(r,n))}return em}var tm,nk;function q6(){if(nk)return tm;nk=1,tm=t;var e=Ir();function t(r,n){return r.dangerous?r.augment(n,e("raw",n.value)):null}return tm}var sm,ok;function _d(){if(ok)return sm;ok=1;var e={};function t(n){var o,a,i=e[n];if(i)return i;for(i=e[n]=[],o=0;o<128;o++)a=String.fromCharCode(o),/^[0-9a-z]$/i.test(a)?i.push(a):i.push("%"+("0"+o.toString(16).toUpperCase()).slice(-2));for(o=0;o<n.length;o++)i[n.charCodeAt(o)]=n[o];return i}function r(n,o,a){var i,c,l,d,u,p="";for(typeof o!="string"&&(a=o,o=r.defaultChars),typeof a>"u"&&(a=!0),u=t(o),i=0,c=n.length;i<c;i++){if(l=n.charCodeAt(i),a&&l===37&&i+2<c&&/^[0-9a-f]{2}$/i.test(n.slice(i+1,i+3))){p+=n.slice(i,i+3),i+=2;continue}if(l<128){p+=u[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<c&&(d=n.charCodeAt(i+1),d>=56320&&d<=57343)){p+=encodeURIComponent(n[i]+n[i+1]),i++;continue}p+="%EF%BF%BD";continue}p+=encodeURIComponent(n[i])}return p}return r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",sm=r,sm}var rm,ak;function eS(){if(ak)return rm;ak=1,rm=r;var e=Ir(),t=sr();function r(n,o){var a=o.referenceType,i="]",c,l,d;return a==="collapsed"?i+="[]":a==="full"&&(i+="["+(o.label||o.identifier)+"]"),o.type==="imageReference"?e("text","!["+o.alt+i):(c=t(n,o),l=c[0],l&&l.type==="text"?l.value="["+l.value:c.unshift(e("text","[")),d=c[c.length-1],d&&d.type==="text"?d.value+=i:c.push(e("text",i)),c)}return rm}var nm,ik;function U6(){if(ik)return nm;ik=1,nm=r;var e=_d(),t=eS();function r(n,o){var a=n.definition(o.identifier),i;return a?(i={src:e(a.url||""),alt:o.alt},a.title!==null&&a.title!==void 0&&(i.title=a.title),n(o,"img",i)):t(n,o)}return nm}var om,lk;function K6(){if(lk)return om;lk=1;var e=_d();om=t;function t(r,n){var o={src:e(n.url),alt:n.alt};return n.title!==null&&n.title!==void 0&&(o.title=n.title),r(n,"img",o)}return om}var am,ck;function W6(){if(ck)return am;ck=1,am=t;var e=Ir();function t(r,n){var o=n.value.replace(/\r?\n|\r/g," ");return r(n,"code",[e("text",o)])}return am}var im,dk;function $6(){if(dk)return im;dk=1,im=n;var e=_d(),t=eS(),r=sr();function n(o,a){var i=o.definition(a.identifier),c;return i?(c={href:e(i.url||"")},i.title!==null&&i.title!==void 0&&(c.title=i.title),o(a,"a",c,r(o,a))):t(o,a)}return im}var lm,uk;function H6(){if(uk)return lm;uk=1;var e=_d(),t=sr();lm=r;function r(n,o){var a={href:e(o.url)};return o.title!==null&&o.title!==void 0&&(a.title=o.title),n(o,"a",a,t(n,o))}return lm}var cm,pk;function V6(){if(pk)return cm;pk=1,cm=r;var e=Ir(),t=sr();function r(a,i,c){var l=t(a,i),d=l[0],u=c?n(c):o(i),p={},m=[],g,f,x;for(typeof i.checked=="boolean"&&((!d||d.tagName!=="p")&&(d=a(null,"p",[]),l.unshift(d)),d.children.length>0&&d.children.unshift(e("text"," ")),d.children.unshift(a(null,"input",{type:"checkbox",checked:i.checked,disabled:!0})),p.className=["task-list-item"]),g=l.length,f=-1;++f<g;)x=l[f],(u||f!==0||x.tagName!=="p")&&m.push(e("text",`
`)),x.tagName==="p"&&!u?m=m.concat(x.children):m.push(x);return g&&(u||x.tagName!=="p")&&m.push(e("text",`
`)),a(i,"li",p,m)}function n(a){for(var i=a.spread,c=a.children,l=c.length,d=-1;!i&&++d<l;)i=o(c[d]);return i}function o(a){var i=a.spread;return i??a.children.length>1}return cm}var dm,mk;function G6(){if(mk)return dm;mk=1,dm=t;var e=sr();function t(r,n){return r(n,"p",e(r,n))}return dm}var um,hk;function Q6(){if(hk)return um;hk=1,um=n;var e=Ir(),t=ll(),r=sr();function n(o,a){return o.augment(a,e("root",t(r(o,a))))}return um}var pm,fk;function Y6(){if(fk)return pm;fk=1,pm=t;var e=sr();function t(r,n){return r(n,"strong",e(r,n))}return pm}var mm,gk;function X6(){if(gk)return mm;gk=1,mm=n;var e=Q2(),t=ll(),r=sr();function n(o,a){for(var i=a.children,c=i.length,l=a.align||[],d=l.length,u=[],p,m,g,f,x;c--;){for(m=i[c].children,f=c===0?"th":"td",p=d||m.length,g=[];p--;)x=m[p],g[p]=o(x,f,{align:l[p]},x?r(o,x):[]);u[c]=o(i[c],"tr",t(g,!0))}return o(a,"table",t([o(u[0].position,"thead",t([u[0]],!0))].concat(u[1]?o({start:e.start(u[1]),end:e.end(u[u.length-1])},"tbody",t(u.slice(1),!0)):[]),!0))}return mm}var hm,xk;function J6(){if(xk)return hm;xk=1,hm=t;var e=Ir();function t(r,n){return r.augment(n,e("text",String(n.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))}return hm}var fm,vk;function Z6(){if(vk)return fm;vk=1,fm={blockquote:C6(),break:O6(),code:D6(),delete:F6(),emphasis:L6(),footnoteReference:Z2(),footnote:B6(),heading:z6(),html:q6(),imageReference:U6(),image:K6(),inlineCode:W6(),linkReference:$6(),link:H6(),listItem:V6(),list:J2(),paragraph:G6(),root:Q6(),strong:Y6(),table:X6(),text:J6(),thematicBreak:X2(),toml:e,yaml:e,definition:e,footnoteDefinition:e};function e(){return null}return fm}var gm,bk;function e8(){if(bk)return gm;bk=1,gm=p;var e=Ir(),t=G2(),r=Q2(),n=M6(),o=A6(),a=Y2(),i=R6(),c=Z6(),l={}.hasOwnProperty,d=!1;function u(m,g){var f=g||{};f.allowDangerousHTML!==void 0&&!d&&(d=!0,console.warn("mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"));var x=f.allowDangerousHtml||f.allowDangerousHTML,v={};return y.dangerous=x,y.definition=o(m),y.footnoteById=v,y.footnoteOrder=[],y.augment=N,y.handlers=Object.assign({},c,f.handlers),y.unknownHandler=f.unknownHandler,y.passThrough=f.passThrough,t(m,"footnoteDefinition",w),y;function N(b,k){var _,j;return b&&b.data&&(_=b.data,_.hName&&(k.type!=="element"&&(k={type:"element",tagName:"",properties:{},children:[]}),k.tagName=_.hName),k.type==="element"&&_.hProperties&&(k.properties=Object.assign({},k.properties,_.hProperties)),k.children&&_.hChildren&&(k.children=_.hChildren)),j=b&&b.position?b:{position:b},n(j)||(k.position={start:r.start(j),end:r.end(j)}),k}function y(b,k,_,j){return j==null&&typeof _=="object"&&"length"in _&&(j=_,_={}),N(b,{type:"element",tagName:k,properties:_||{},children:j||[]})}function w(b){var k=String(b.identifier).toUpperCase();l.call(v,k)||(v[k]=b)}}function p(m,g){var f=u(m,g),x=a(f,m),v=i(f);return v&&(x.children=x.children.concat(e("text",`
`),v)),x}return gm}var xm,yk;function t8(){return yk||(yk=1,xm=e8()),xm}var vm,wk;function s8(){if(wk)return vm;wk=1;var e=t8();vm=t;function t(o,a){return o&&!o.process&&(a=o,o=null),o?r(o,a):n(a)}function r(o,a){return i;function i(c,l,d){o.run(e(c,a),l,u);function u(p){d(p)}}}function n(o){return a;function a(i){return e(i,o)}}return vm}var r8=s8();const n8=Zr(r8);var bm,kk;function o8(){if(kk)return bm;kk=1,bm=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var o=arguments[n];for(var a in o)e.call(o,a)&&(r[a]=o[a])}return r}return bm}var ym,jk;function tS(){if(jk)return ym;jk=1,ym=t;var e=t.prototype;e.space=null,e.normal={},e.property={};function t(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}return ym}var wm,_k;function sS(){if(_k)return wm;_k=1;var e=o8(),t=tS();wm=r;function r(n){for(var o=n.length,a=[],i=[],c=-1,l,d;++c<o;)l=n[c],a.push(l.property),i.push(l.normal),d=l.space;return new t(e.apply(null,a),e.apply(null,i),d)}return wm}var km,Nk;function rS(){if(Nk)return km;Nk=1,km=e;function e(t){return t.toLowerCase()}return km}var jm,Sk;function nS(){if(Sk)return jm;Sk=1,jm=t;var e=t.prototype;e.space=null,e.attribute=null,e.property=null,e.boolean=!1,e.booleanish=!1,e.overloadedBoolean=!1,e.number=!1,e.commaSeparated=!1,e.spaceSeparated=!1,e.commaOrSpaceSeparated=!1,e.mustUseProperty=!1,e.defined=!1;function t(r,n){this.property=r,this.attribute=n}return jm}var wn={},Tk;function Nd(){if(Tk)return wn;Tk=1;var e=0;wn.boolean=t(),wn.booleanish=t(),wn.overloadedBoolean=t(),wn.number=t(),wn.spaceSeparated=t(),wn.commaSeparated=t(),wn.commaOrSpaceSeparated=t();function t(){return Math.pow(2,++e)}return wn}var _m,Ik;function oS(){if(Ik)return _m;Ik=1;var e=nS(),t=Nd();_m=o,o.prototype=new e,o.prototype.defined=!0;var r=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],n=r.length;function o(i,c,l,d){var u=-1,p;for(a(this,"space",d),e.call(this,i,c);++u<n;)p=r[u],a(this,p,(l&t[p])===t[p])}function a(i,c,l){l&&(i[c]=l)}return _m}var Nm,Pk;function ti(){if(Pk)return Nm;Pk=1;var e=rS(),t=tS(),r=oS();Nm=n;function n(o){var a=o.space,i=o.mustUseProperty||[],c=o.attributes||{},l=o.properties,d=o.transform,u={},p={},m,g;for(m in l)g=new r(m,d(c,m),l[m],a),i.indexOf(m)!==-1&&(g.mustUseProperty=!0),u[m]=g,p[e(m)]=m,p[e(g.attribute)]=m;return new t(u,p,a)}return Nm}var Sm,Ek;function aS(){if(Ek)return Sm;Ek=1;var e=ti();Sm=e({space:"xlink",transform:t,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function t(r,n){return"xlink:"+n.slice(5).toLowerCase()}return Sm}var Tm,Mk;function iS(){if(Mk)return Tm;Mk=1;var e=ti();Tm=e({space:"xml",transform:t,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function t(r,n){return"xml:"+n.slice(3).toLowerCase()}return Tm}var Im,Ak;function lS(){if(Ak)return Im;Ak=1,Im=e;function e(t,r){return r in t?t[r]:r}return Im}var Pm,Rk;function cS(){if(Rk)return Pm;Rk=1;var e=lS();Pm=t;function t(r,n){return e(r,n.toLowerCase())}return Pm}var Em,Ck;function dS(){if(Ck)return Em;Ck=1;var e=ti(),t=cS();return Em=e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t,properties:{xmlns:null,xmlnsXLink:null}}),Em}var Mm,Ok;function uS(){if(Ok)return Mm;Ok=1;var e=Nd(),t=ti(),r=e.booleanish,n=e.number,o=e.spaceSeparated;Mm=t({transform:a,properties:{ariaActiveDescendant:null,ariaAtomic:r,ariaAutoComplete:null,ariaBusy:r,ariaChecked:r,ariaColCount:n,ariaColIndex:n,ariaColSpan:n,ariaControls:o,ariaCurrent:null,ariaDescribedBy:o,ariaDetails:null,ariaDisabled:r,ariaDropEffect:o,ariaErrorMessage:null,ariaExpanded:r,ariaFlowTo:o,ariaGrabbed:r,ariaHasPopup:null,ariaHidden:r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:o,ariaLevel:n,ariaLive:null,ariaModal:r,ariaMultiLine:r,ariaMultiSelectable:r,ariaOrientation:null,ariaOwns:o,ariaPlaceholder:null,ariaPosInSet:n,ariaPressed:r,ariaReadOnly:r,ariaRelevant:null,ariaRequired:r,ariaRoleDescription:o,ariaRowCount:n,ariaRowIndex:n,ariaRowSpan:n,ariaSelected:r,ariaSetSize:n,ariaSort:null,ariaValueMax:n,ariaValueMin:n,ariaValueNow:n,ariaValueText:null,role:null}});function a(i,c){return c==="role"?c:"aria-"+c.slice(4).toLowerCase()}return Mm}var Am,Dk;function a8(){if(Dk)return Am;Dk=1;var e=Nd(),t=ti(),r=cS(),n=e.boolean,o=e.overloadedBoolean,a=e.booleanish,i=e.number,c=e.spaceSeparated,l=e.commaSeparated;return Am=t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:r,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l,acceptCharset:c,accessKey:c,action:null,allow:null,allowFullScreen:n,allowPaymentRequest:n,allowUserMedia:n,alt:null,as:null,async:n,autoCapitalize:null,autoComplete:c,autoFocus:n,autoPlay:n,capture:n,charSet:null,checked:n,cite:null,className:c,cols:i,colSpan:null,content:null,contentEditable:a,controls:n,controlsList:c,coords:i|l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:n,defer:n,dir:null,dirName:null,disabled:n,download:o,draggable:a,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:n,formTarget:null,headers:c,height:i,hidden:n,high:i,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,imageSizes:null,imageSrcSet:l,inputMode:null,integrity:null,is:null,isMap:n,itemId:null,itemProp:c,itemRef:c,itemScope:n,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:n,low:i,manifest:null,max:null,maxLength:i,media:null,method:null,min:null,minLength:i,multiple:n,muted:n,name:null,nonce:null,noModule:n,noValidate:n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:n,optimum:i,pattern:null,ping:c,placeholder:null,playsInline:n,poster:null,preload:null,readOnly:n,referrerPolicy:null,rel:c,required:n,reversed:n,rows:i,rowSpan:i,sandbox:c,scope:null,scoped:n,seamless:n,selected:n,shape:null,size:i,sizes:null,slot:null,span:i,spellCheck:a,src:null,srcDoc:null,srcLang:null,srcSet:l,start:i,step:null,style:null,tabIndex:i,target:null,title:null,translate:null,type:null,typeMustMatch:n,useMap:null,value:a,width:i,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:i,borderColor:null,bottomMargin:i,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:n,declare:n,event:null,face:null,frame:null,frameBorder:null,hSpace:i,leftMargin:i,link:null,longDesc:null,lowSrc:null,marginHeight:i,marginWidth:i,noResize:n,noHref:n,noShade:n,noWrap:n,object:null,profile:null,prompt:null,rev:null,rightMargin:i,rules:null,scheme:null,scrolling:a,standby:null,summary:null,text:null,topMargin:i,valueType:null,version:null,vAlign:null,vLink:null,vSpace:i,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:n,disableRemotePlayback:n,prefix:null,property:null,results:i,security:null,unselectable:null}}),Am}var Rm,Fk;function i8(){if(Fk)return Rm;Fk=1;var e=sS(),t=aS(),r=iS(),n=dS(),o=uS(),a=a8();return Rm=e([r,t,n,o,a]),Rm}var Cm,Lk;function l8(){if(Lk)return Cm;Lk=1;var e=Nd(),t=ti(),r=lS(),n=e.boolean,o=e.number,a=e.spaceSeparated,i=e.commaSeparated,c=e.commaOrSpaceSeparated;return Cm=t({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:r,properties:{about:c,accentHeight:o,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:o,amplitude:o,arabicForm:null,ascent:o,attributeName:null,attributeType:null,azimuth:o,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:o,by:null,calcMode:null,capHeight:o,className:a,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:o,diffuseConstant:o,direction:null,display:null,dur:null,divisor:o,dominantBaseline:null,download:n,dx:null,dy:null,edgeMode:null,editable:null,elevation:o,enableBackground:null,end:null,event:null,exponent:o,externalResourcesRequired:null,fill:null,fillOpacity:o,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:o,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:o,horizOriginX:o,horizOriginY:o,id:null,ideographic:o,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:o,k:o,k1:o,k2:o,k3:o,k4:o,kernelMatrix:c,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:o,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:o,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:o,overlineThickness:o,paintOrder:null,panose1:null,path:null,pathLength:o,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:a,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:o,pointsAtY:o,pointsAtZ:o,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:c,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:c,rev:c,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:c,requiredFeatures:c,requiredFonts:c,requiredFormats:c,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:o,specularExponent:o,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:o,strikethroughThickness:o,string:null,stroke:null,strokeDashArray:c,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:o,strokeOpacity:o,strokeWidth:null,style:null,surfaceScale:o,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:c,tabIndex:o,tableValues:null,target:null,targetX:o,targetY:o,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:c,to:null,transform:null,u1:null,u2:null,underlinePosition:o,underlineThickness:o,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:o,values:null,vAlphabetic:o,vMathematical:o,vectorEffect:null,vHanging:o,vIdeographic:o,version:null,vertAdvY:o,vertOriginX:o,vertOriginY:o,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:o,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Cm}var Om,Bk;function c8(){if(Bk)return Om;Bk=1;var e=sS(),t=aS(),r=iS(),n=dS(),o=uS(),a=l8();return Om=e([r,t,n,o,a]),Om}var Dm,zk;function d8(){if(zk)return Dm;zk=1;var e=rS(),t=oS(),r=nS(),n="data";Dm=c;var o=/^data[-\w.:]+$/i,a=/-[a-z]/g,i=/[A-Z]/g;function c(m,g){var f=e(g),x=g,v=r;return f in m.normal?m.property[m.normal[f]]:(f.length>4&&f.slice(0,4)===n&&o.test(g)&&(g.charAt(4)==="-"?x=l(g):g=d(g),v=t),new v(x,g))}function l(m){var g=m.slice(5).replace(a,p);return n+g.charAt(0).toUpperCase()+g.slice(1)}function d(m){var g=m.slice(4);return a.test(g)?m:(g=g.replace(i,u),g.charAt(0)!=="-"&&(g="-"+g),n+g)}function u(m){return"-"+m.toLowerCase()}function p(m){return m.charAt(1).toUpperCase()}return Dm}const u8="classID",p8="datatype",m8="itemID",h8="strokeDasharray",f8="strokeDashoffset",g8="strokeLinecap",x8="strokeLinejoin",v8="strokeMiterlimit",b8="typeof",y8="xlinkActuate",w8="xlinkArcrole",k8="xlinkHref",j8="xlinkRole",_8="xlinkShow",N8="xlinkTitle",S8="xlinkType",T8="xmlnsXlink",I8={classId:u8,dataType:p8,itemId:m8,strokeDashArray:h8,strokeDashOffset:f8,strokeLineCap:g8,strokeLineJoin:x8,strokeMiterLimit:v8,typeOf:b8,xLinkActuate:y8,xLinkArcRole:w8,xLinkHref:k8,xLinkRole:j8,xLinkShow:_8,xLinkTitle:N8,xLinkType:S8,xmlnsXLink:T8};var Ol={},qk;function P8(){if(qk)return Ol;qk=1,Ol.parse=n,Ol.stringify=o;var e="",t=" ",r=/[ \t\n\r\f]+/g;function n(a){var i=String(a||e).trim();return i===e?[]:i.split(r)}function o(a){return a.join(t).trim()}return Ol}var Dl={},Uk;function E8(){if(Uk)return Dl;Uk=1,Dl.parse=n,Dl.stringify=o;var e=",",t=" ",r="";function n(a){for(var i=[],c=String(a||r),l=c.indexOf(e),d=0,u=!1,p;!u;)l===-1&&(l=c.length,u=!0),p=c.slice(d,l).trim(),(p||!u)&&i.push(p),d=l+1,l=c.indexOf(e,d);return i}function o(a,i){var c=i||{},l=c.padLeft===!1?r:t,d=c.padRight?t:r;return a[a.length-1]===r&&(a=a.concat(r)),a.join(d+e+l).trim()}return Dl}var Fm,Kk;function M8(){if(Kk)return Fm;Kk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,c=/^\s+|\s+$/g,l=`
`,d="/",u="*",p="",m="comment",g="declaration";Fm=function(x,v){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];v=v||{};var N=1,y=1;function w(R){var C=R.match(t);C&&(N+=C.length);var q=R.lastIndexOf(l);y=~q?R.length-q:y+R.length}function b(){var R={line:N,column:y};return function(C){return C.position=new k(R),T(),C}}function k(R){this.start=R,this.end={line:N,column:y},this.source=v.source}k.prototype.content=x;function _(R){var C=new Error(v.source+":"+N+":"+y+": "+R);if(C.reason=R,C.filename=v.source,C.line=N,C.column=y,C.source=x,!v.silent)throw C}function j(R){var C=R.exec(x);if(C){var q=C[0];return w(q),x=x.slice(q.length),C}}function T(){j(r)}function S(R){var C;for(R=R||[];C=I();)C!==!1&&R.push(C);return R}function I(){var R=b();if(!(d!=x.charAt(0)||u!=x.charAt(1))){for(var C=2;p!=x.charAt(C)&&(u!=x.charAt(C)||d!=x.charAt(C+1));)++C;if(C+=2,p===x.charAt(C-1))return _("End of comment missing");var q=x.slice(2,C-2);return y+=2,w(q),x=x.slice(C),y+=2,R({type:m,comment:q})}}function E(){var R=b(),C=j(n);if(C){if(I(),!j(o))return _("property missing ':'");var q=j(a),B=R({type:g,property:f(C[0].replace(e,p)),value:q?f(q[0].replace(e,p)):p});return j(i),B}}function M(){var R=[];S(R);for(var C;C=E();)C!==!1&&(R.push(C),S(R));return R}return T(),M()};function f(x){return x?x.replace(c,p):p}return Fm}var Lm,Wk;function A8(){if(Wk)return Lm;Wk=1;var e=M8();function t(r,n){var o=null;if(!r||typeof r!="string")return o;for(var a,i=e(r),c=typeof n=="function",l,d,u=0,p=i.length;u<p;u++)a=i[u],l=a.property,d=a.value,c?n(l,d,a):d&&(o||(o={}),o[l]=d);return o}return Lm=t,Lm}const R8="http://www.w3.org/1999/xhtml",C8="http://www.w3.org/1998/Math/MathML",O8="http://www.w3.org/2000/svg",D8="http://www.w3.org/1999/xlink",F8="http://www.w3.org/XML/1998/namespace",L8="http://www.w3.org/2000/xmlns/",B8={html:R8,mathml:C8,svg:O8,xlink:D8,xml:F8,xmlns:L8};var Bm,$k;function z8(){if($k)return Bm;$k=1;var e=i8(),t=c8(),r=d8(),n=I8,o=P8(),a=E8(),i=A8(),c=B8,l=V2(),d=l("root"),u=l("element"),p=l("text");Bm=m;function m(k,_,j){var T=j||{},S=x(k),I=y(k),E=N(k),M;if(typeof k!="function")throw new Error("h is not a function");if(typeof T=="string"||typeof T=="boolean"?(M=T,T={}):M=T.prefix,d(_))_=_.children.length===1&&u(_.children[0])?_.children[0]:{type:"element",tagName:"div",properties:{},children:_.children};else if(!u(_))throw new Error("Expected root or element, not `"+(_&&_.type||_)+"`");return g(k,_,{schema:T.space==="svg"?t:e,prefix:M??(S||I||E?"h-":null),key:0,react:S,vue:I,vdom:E,hyperscript:v(k)})}function g(k,_,j){var T=j.schema,S=T,I=_.tagName,E={},M=[],R=-1,C,q;T.space==="html"&&I.toLowerCase()==="svg"&&(S=t,j.schema=S);for(C in _.properties)f(E,C,_.properties[C],j,I);if(j.vdom&&(S.space==="html"?I=I.toUpperCase():E.namespace=c[S.space]),j.prefix&&(j.key++,E.key=j.prefix+j.key),_.children)for(;++R<_.children.length;)q=_.children[R],u(q)?M.push(g(k,q,j)):p(q)&&M.push(q.value);return j.schema=T,M.length?k.call(_,I,E,M):k.call(_,I,E)}function f(k,_,j,T,S){var I=r(T.schema,_),E;j==null||j!==j||j===!1&&(T.vue||T.vdom||T.hyperscript)||!j&&I.boolean&&(T.vue||T.vdom||T.hyperscript)||(j&&typeof j=="object"&&"length"in j&&(j=(I.commaSeparated?a:o).stringify(j)),I.boolean&&T.hyperscript&&(j=""),I.property==="style"&&typeof j=="string"&&(T.react||T.vue||T.vdom)&&(j=w(j,S)),T.vue?I.property!=="style"&&(E="attrs"):I.mustUseProperty||(T.vdom?I.property!=="style"&&(E="attributes"):T.hyperscript&&(E="attrs")),E?(k[E]||(k[E]={}),k[E][I.attribute]=j):I.space&&T.react?k[n[I.property]||I.property]=j:k[I.attribute]=j)}function x(k){var _=k&&k("div");return!!(_&&("_owner"in _||"_store"in _)&&_.key==null)}function v(k){return!!(k&&k.context&&k.cleanup)}function N(k){return k&&k("div").type==="VirtualNode"}function y(k){var _=k&&k("div");return!!(_&&_.context&&_.context._isVue)}function w(k,_){var j={};try{i(k,T)}catch(S){throw S.message=_+"[style]"+S.message.slice(9),S}return j;function T(S,I){S.slice(0,4)==="-ms-"&&(S="ms-"+S.slice(4)),j[S.replace(/-([a-z])/g,b)]=I}}function b(k,_){return _.toUpperCase()}return Bm}var zm,Hk;function q8(){if(Hk)return zm;Hk=1,zm=e;function e(i){if(typeof i=="string")return o(i);if(i==null)return a;if(typeof i=="object")return("length"in i?n:r)(i);if(typeof i=="function")return i;throw new Error("Expected function, string, or object as test")}function t(i){for(var c=[],l=i.length,d=-1;++d<l;)c[d]=e(i[d]);return c}function r(i){return c;function c(l){var d;for(d in i)if(l[d]!==i[d])return!1;return!0}}function n(i){var c=t(i),l=c.length;return d;function d(){for(var u=-1;++u<l;)if(c[u].apply(this,arguments))return!0;return!1}}function o(i){return c;function c(l){return!!(l&&l.type===i)}}function a(){return!0}return zm}var qm,Vk;function U8(){if(Vk)return qm;Vk=1,qm=o;var e=q8(),t=!0,r="skip",n=!1;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(i,c,l,d){var u;typeof c=="function"&&typeof l!="function"&&(d=l,l=c,c=null),u=e(c),p(i,null,[]);function p(g,f,x){var v=[],N;return(!c||u(g,f,x[x.length-1]||null))&&(v=a(l(g,x)),v[0]===n)?v:g.children&&v[0]!==r?(N=a(m(g.children,x.concat(g))),N[0]===n?N:v):v}function m(g,f){for(var x=-1,v=d?-1:1,N=(d?g.length:x)+v,y;N>x&&N<g.length;){if(y=p(g[N],N,f),y[0]===n)return y;N=typeof y[1]=="number"?y[1]:N+v}}}function a(i){return i!==null&&typeof i=="object"&&"length"in i?i:typeof i=="number"?[t,i]:[i]}return qm}var Um,Gk;function K8(){if(Gk)return Um;Gk=1,Um=o;var e=U8(),t=e.CONTINUE,r=e.SKIP,n=e.EXIT;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(a,i,c,l){typeof i=="function"&&typeof c!="function"&&(l=c,c=i,i=null),e(a,i,d,l);function d(u,p){var m=p[p.length-1],g=m?m.children.indexOf(u):null;return c(u,g,m)}}return Um}var Km,Qk;function W8(){if(Qk)return Km;Qk=1;var e=K8(),t=Object.prototype.hasOwnProperty,r={align:"text-align",valign:"vertical-align",height:"height",width:"width"};Km=function(i){return e(i,"element",n),i};function n(a){if(!(a.tagName!=="tr"&&a.tagName!=="td"&&a.tagName!=="th")){var i,c;for(i in r)!t.call(r,i)||a.properties[i]===void 0||(c=r[i],o(a,c,a.properties[i]),delete a.properties[i])}}function o(a,i,c){var l=(a.properties.style||"").trim();l&&!/;\s*/.test(l)&&(l+=";"),l&&(l+=" ");var d=l+i+": "+c+";";a.properties.style=d}return Km}var Wm,Yk;function $8(){if(Yk)return Wm;Yk=1;var e=z8(),t=W8();Wm=o;var r={}.hasOwnProperty,n=new Set(["table","thead","tbody","tfoot","tr","th","td"]);function o(a){var i=a||{},c=i.createElement;this.Compiler=l;function l(u){var p=e(d,t(u),i.prefix);return u.type==="root"?(p=p.type==="div"&&(u.children.length!==1||u.children[0].type!=="element")?p.props.children:[p],c(i.Fragment||"div",{},p)):p}function d(u,p,m){var g=u;return m&&n.has(u)&&(m=m.filter(function(f){return f!==`
`})),i.components&&r.call(i.components,u)&&(g=i.components[u],i.passNode&&(p.node=this)),c(g,p,m)}}return Wm}var H8=$8();const V8=Zr(H8);function Tf(){return Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tf.apply(this,arguments)}var G8=function(t){var r={},n=r.remarkParseOptions,o=r.remarkToRehypeOptions,a=r.rehypeReactOptions,i=r.remarkPlugins,c=i===void 0?[]:i,l=r.rehypePlugins,d=l===void 0?[]:l,u=r.onError,p=u===void 0?function(){}:u,m=h.useState(null),g=m[0],f=m[1],x=h.useCallback(function(v){CB().use(I6,n).use(c).use(n8,o).use(d).use(V8,Tf({createElement:h.createElement,Fragment:h.Fragment},a)).process(v).then(function(N){return f(N.result)}).catch(p)},[]);return[g,x]};const Q8=Hs.div`
	font-family:
		var(--vscode-font-family),
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		"Open Sans",
		"Helvetica Neue",
		sans-serif;
	font-size: 12px;
	color: var(--vscode-descriptionForeground);

	p,
	li,
	ol,
	ul {
		line-height: 1.25;
		margin: 0;
	}

	ol,
	ul {
		padding-left: 1.5em;
		margin-left: 0;
	}

	ol {
		list-style-type: decimal;
	}

	ul {
		list-style-type: disc;
	}

	/* Nested list styles */
	ul ul {
		list-style-type: circle;
	}

	ul ul ul {
		list-style-type: square;
	}

	ol ol {
		list-style-type: lower-alpha;
	}

	ol ol ol {
		list-style-type: lower-roman;
	}

	p {
		white-space: pre-wrap;
	}

	a {
		text-decoration: none;
	}
	a {
		&:hover {
			text-decoration: underline;
		}
	}
`,pS=h.memo(({markdown:e="",key:t,isExpanded:r,setIsExpanded:n})=>{const[o,a]=G8(),[i,c]=h.useState(!1),l=h.useRef(null),d=h.useRef(null);return h.useEffect(()=>a(e),[e,a]),h.useEffect(()=>{d.current&&l.current&&c(d.current.scrollHeight>l.current.clientHeight)},[o]),s.jsxs(Ug,{open:r,onOpenChange:n,className:"relative",children:[s.jsx("div",{ref:l,className:ee({"line-clamp-4":!r}),children:s.jsx("div",{ref:d,children:s.jsx(Q8,{children:o},t)})}),s.jsx(Kg,{asChild:!0,className:ee({hidden:!i}),children:s.jsx(Fe,{className:"text-sm",children:r?"Less":"More"})})]})}),kx=({apiProvider:e,selectedModelId:t,modelInfo:r,isDescriptionExpanded:n,setIsDescriptionExpanded:o})=>{var m,g,f,x,v,N,y,w,b,k,_,j,T,S,I,E;const{t:a}=oe(),i=((g=(m=r==null?void 0:r.tiers)==null?void 0:m.filter(M=>M.name==="flex"||M.name==="priority"))==null?void 0:g.map(M=>M.name))??[],c=e==="openai-native"&&i.length>0,l=M=>typeof M=="number"?`${wo(M)}`:"",d=[typeof(r==null?void 0:r.contextWindow)=="number"&&r.contextWindow>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:a("settings:modelInfo.contextWindow")})," ",(f=r.contextWindow)==null?void 0:f.toLocaleString()," tokens"]}),typeof(r==null?void 0:r.maxTokens)=="number"&&r.maxTokens>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[a("settings:modelInfo.maxOutput"),":"]})," ",(x=r.maxTokens)==null?void 0:x.toLocaleString()," tokens"]}),s.jsx(Mc,{isSupported:(r==null?void 0:r.supportsImages)??!1,supportsLabel:a("settings:modelInfo.supportsImages"),doesNotSupportLabel:a("settings:modelInfo.noImages")}),s.jsx(Mc,{isSupported:(r==null?void 0:r.supportsPromptCache)??!1,supportsLabel:a("settings:modelInfo.supportsPromptCache"),doesNotSupportLabel:a("settings:modelInfo.noPromptCache")}),e==="gemini"&&s.jsxs("span",{className:"italic",children:[t.includes("pro-preview")?a("settings:modelInfo.gemini.billingEstimate"):a("settings:modelInfo.gemini.freeRequests",{count:t&&t.includes("flash")?15:2})," ",s.jsx(Fe,{href:"https://ai.google.dev/pricing",className:"text-sm",children:a("settings:modelInfo.gemini.pricingDetails")})]})].filter(Boolean),u=[(r==null?void 0:r.inputPrice)!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[a("settings:modelInfo.inputPrice"),":"]})," ",wo(r.inputPrice)," / 1M tokens"]}),(r==null?void 0:r.outputPrice)!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[a("settings:modelInfo.outputPrice"),":"]})," ",wo(r.outputPrice)," / 1M tokens"]}),(r==null?void 0:r.supportsPromptCache)&&r.cacheReadsPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[a("settings:modelInfo.cacheReadsPrice"),":"]})," ",wo(r.cacheReadsPrice||0)," / 1M tokens"]}),(r==null?void 0:r.supportsPromptCache)&&r.cacheWritesPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[a("settings:modelInfo.cacheWritesPrice"),":"]})," ",wo(r.cacheWritesPrice||0)," / 1M tokens"]})].filter(Boolean),p=c?d:[...d,...u];return s.jsxs(s.Fragment,{children:[(r==null?void 0:r.description)&&s.jsx(pS,{markdown:r.description,isExpanded:n,setIsExpanded:o},"description"),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:p.map((M,R)=>s.jsx("div",{children:M},R))}),c&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mb-1",children:a("settings:serviceTier.pricingTableTitle")}),s.jsx("div",{className:"border border-vscode-dropdown-border rounded-xs overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-vscode-dropdown-background",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-3 py-1.5",children:a("settings:serviceTier.columns.tier")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:a("settings:serviceTier.columns.input")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:a("settings:serviceTier.columns.output")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:a("settings:serviceTier.columns.cacheReads")})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:a("settings:serviceTier.standard")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(r==null?void 0:r.inputPrice)}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(r==null?void 0:r.outputPrice)}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(r==null?void 0:r.cacheReadsPrice)})]}),i.includes("flex")&&s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:a("settings:serviceTier.flex")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((N=(v=r==null?void 0:r.tiers)==null?void 0:v.find(M=>M.name==="flex"))==null?void 0:N.inputPrice)??(r==null?void 0:r.inputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((w=(y=r==null?void 0:r.tiers)==null?void 0:y.find(M=>M.name==="flex"))==null?void 0:w.outputPrice)??(r==null?void 0:r.outputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((k=(b=r==null?void 0:r.tiers)==null?void 0:b.find(M=>M.name==="flex"))==null?void 0:k.cacheReadsPrice)??(r==null?void 0:r.cacheReadsPrice))})]}),i.includes("priority")&&s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:a("settings:serviceTier.priority")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((j=(_=r==null?void 0:r.tiers)==null?void 0:_.find(M=>M.name==="priority"))==null?void 0:j.inputPrice)??(r==null?void 0:r.inputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((S=(T=r==null?void 0:r.tiers)==null?void 0:T.find(M=>M.name==="priority"))==null?void 0:S.outputPrice)??(r==null?void 0:r.outputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:l(((E=(I=r==null?void 0:r.tiers)==null?void 0:I.find(M=>M.name==="priority"))==null?void 0:E.cacheReadsPrice)??(r==null?void 0:r.cacheReadsPrice))})]})]})]})})]})]})},Mc=({isSupported:e,supportsLabel:t,doesNotSupportLabel:r})=>s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:ee("codicon",e?"codicon-check":"codicon-x")}),e?t:r]}),Ac=({errorMessage:e,children:t})=>s.jsxs("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm","data-testid":"api-error-message",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:e})]}),t]}),Y8=ys({model:We(),cost:pT.number(),costPerRequest:ur()}),X8=ga(Y8),fa=(e,t=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e),J8=({providers:e})=>{const{t}=oe(),r="text-left px-3 py-2 font-medium text-vscode-foreground whitespace-nowrap",n="px-3 py-2 text-vscode-descriptionForeground whitespace-nowrap";return s.jsx("div",{className:"overflow-x-auto border border-vscode-widget-border rounded-md",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-vscode-widget-border bg-vscode-editor-background",children:[s.jsx("th",{className:r,children:t("kilocode:settings.modelInfo.table.provider")}),s.jsx(de,{content:t("kilocode:settings.modelInfo.table.context"),children:s.jsx("th",{className:r,children:"Context"})}),s.jsx(de,{content:t("kilocode:settings.modelInfo.table.inputPrice"),children:s.jsx("th",{className:r,children:"Input"})}),s.jsx(de,{content:t("kilocode:settings.modelInfo.table.outputPrice"),children:s.jsx("th",{className:r,children:"Output"})}),s.jsx(de,{content:t("kilocode:settings.modelInfo.table.cacheReadPrice"),children:s.jsx("th",{className:r,children:"C Read"})}),s.jsx(de,{content:t("kilocode:settings.modelInfo.table.cacheWritePrice"),children:s.jsx("th",{className:r,children:"C Write"})})]})}),s.jsx("tbody",{children:e.map((o,a)=>s.jsxs("tr",{className:`border-b border-vscode-widget-border last:border-b-0 ${a%2===0?"bg-vscode-editor-background":"bg-vscode-sideBar-background"} hover:bg-vscode-list-hoverBackground`,children:[s.jsx("td",{className:"px-3 py-2 text-vscode-foreground whitespace-nowrap",children:o.label}),s.jsx("td",{className:n,children:o.contextWindow.toLocaleString()}),s.jsx("td",{className:n,children:fa(o.inputPrice??0)}),s.jsx("td",{className:n,children:fa(o.outputPrice??0)}),s.jsx("td",{className:n,children:o.cacheReadsPrice&&fa(o.cacheReadsPrice)}),s.jsx("td",{className:n,children:o.cacheWritesPrice&&fa(o.cacheWritesPrice)})]},o.label))})]})})},Z8=({apiConfiguration:e,modelId:t,model:r,isDescriptionExpanded:n,setIsDescriptionExpanded:o,isPricingExpanded:a,setIsPricingExpanded:i})=>{var p;const{t:c}=oe(),l=Object.values(Rg(t,e).data??{}),{data:d}=An({queryKey:["modelstats"],queryFn:async()=>{try{const m=mT("https://api.kilo.ai/api/modelstats",e.kilocodeToken??""),g=await fetch(m);if(!g.ok)throw new Error(`Failed to fetch model stats: ${g.status}`);const f=await g.json();return X8.parse(f)}catch(m){throw m instanceof Error&&Yt.captureException(m,{context:"modelstats"}),m}}}),u=d==null?void 0:d.find(m=>m.model===t);return s.jsxs(s.Fragment,{children:[r.description&&s.jsx(pS,{markdown:r.description,isExpanded:n,setIsExpanded:o},"description"),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx(Mc,{isSupported:r.supportsImages??!1,supportsLabel:c("settings:modelInfo.supportsImages"),doesNotSupportLabel:c("settings:modelInfo.noImages")}),s.jsx(Mc,{isSupported:r.supportsPromptCache,supportsLabel:c("settings:modelInfo.supportsPromptCache"),doesNotSupportLabel:c("settings:modelInfo.noPromptCache")}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[c("kilocode:settings.modelInfo.contextWindow"),":"]})," ",r.contextWindow.toLocaleString()]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[c("settings:modelInfo.maxOutput"),":"]})," ",((p=r.maxTokens)==null?void 0:p.toLocaleString())??0]})]}),u&&u.cost&&u.costPerRequest&&r.inputPrice&&r.outputPrice?s.jsx(de,{content:c("kilocode:settings.modelInfo.averageKiloCodeCost"),children:s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground font-medium flex flex-wrap gap-2",children:[s.jsxs("div",{className:"rounded-full border px-2.5 py-1",children:[fa(u.cost)," / M tokens"]}),s.jsxs("div",{className:"rounded-full border px-2.5 py-1",children:[fa(u.costPerRequest,4)," / request"]})]})}):s.jsx(s.Fragment,{}),s.jsxs(Ug,{open:a,onOpenChange:i,children:[s.jsxs(Kg,{className:"flex items-center gap-1 w-full cursor-pointer hover:opacity-80 mb-2",children:[s.jsx("span",{className:`codicon codicon-chevron-${a?"down":"right"}`}),s.jsx("span",{className:"font-medium",children:c("kilocode:settings.modelInfo.providerBreakdown")})]}),s.jsx(m_,{className:"space-y-3",children:s.jsx(J8,{providers:l})})]})]})},Ps=({defaultModelId:e,models:t,modelIdKey:r,serviceName:n,serviceUrl:o,apiConfiguration:a,setApiConfigurationField:i,errorMessage:c,simplifySettings:l})=>{const{t:d}=oe(),[u,p]=h.useState(!1),[m,g]=h.useState(!1),f=h.useRef(!1),x=h.useRef(null),v=h.useRef(null),N=h.useRef(null),y=s2(t),[w,b]=h.useState(!1),{id:k,info:_}=lo(a),[j,T]=h.useState(""),S=h.useCallback(M=>{M&&(p(!1),i(r,M),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>T(""),100))},[r,i]),I=h.useCallback(M=>{p(M),M||(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>T(""),100))},[]),E=h.useCallback(()=>{var M;T(""),(M=x.current)==null||M.focus()},[]);return h.useEffect(()=>{if(!k&&!f.current){const M=y.includes(k)?k:e;i(r,M,!1)}f.current=!0},[y,i,r,k,e]),h.useEffect(()=>()=>{v.current&&clearTimeout(v.current),N.current&&clearTimeout(N.current)},[]),tl(u,()=>p(!1)),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:d("settings:modelPicker.label")}),s.jsxs(En,{open:u,onOpenChange:I,children:[s.jsx(ao,{asChild:!0,children:s.jsxs(ae,{variant:"combobox",role:"combobox","aria-expanded":u,className:"w-full justify-between","data-testid":"model-picker-button",children:[s.jsx("div",{className:"truncate",children:k??d("settings:common.select")}),s.jsx(X1,{className:"opacity-50"})]})}),s.jsx(Mn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Wi,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fc,{ref:x,value:j,onValueChange:T,placeholder:d("settings:modelPicker.searchPlaceholder"),className:"h-9 mr-4","data-testid":"model-input"}),j.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:s.jsx(xn,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer",onClick:E})})]}),s.jsxs($i,{children:[s.jsx(Lc,{children:j&&s.jsx("div",{className:"py-2 px-1 text-sm",children:d("settings:modelPicker.noMatchFound")})}),s.jsx(Hi,{children:y.map((M,R)=>{var B,U;const C=Number.isInteger((B=t==null?void 0:t[M])==null?void 0:B.preferredIndex),q=Number.isInteger((U=t==null?void 0:t[y[R-1]])==null?void 0:U.preferredIndex);return s.jsxs(h.Fragment,{children:[!C&&q?s.jsx(K_,{}):null,s.jsxs(zo,{value:M,onSelect:S,"data-testid":`model-option-${M}`,className:ee(C?"font-semibold":""),children:[s.jsx("span",{className:"truncate",title:M,children:M}),s.jsx(Nr,{className:ee("size-4 p-0.5 ml-auto",M===k?"opacity-100":"opacity-0")})]})]},M)})})]}),j&&!y.includes(j)&&s.jsx("div",{className:"p-1 border-t border-vscode-input-border",children:s.jsx(zo,{"data-testid":"use-custom-model",value:j,onSelect:S,children:d("settings:modelPicker.useCustomModel",{modelId:j})})})]})})]})]}),c&&s.jsx(Ac,{errorMessage:c}),(_==null?void 0:_.deprecated)&&s.jsx(Ac,{errorMessage:d("settings:validation.modelDeprecated")}),l?s.jsxs("p",{className:"text-xs text-vscode-descriptionForeground m-0",children:[s.jsx(od,{className:"size-3 inline mr-1"}),d("settings:modelPicker.simplifiedExplanation")]}):s.jsxs("div",{children:[k&&_&&(a.apiProvider==="kilocode"||a.apiProvider==="openrouter"?s.jsx(Z8,{apiConfiguration:a,modelId:k,model:_,isDescriptionExpanded:m,setIsDescriptionExpanded:g,isPricingExpanded:w,setIsPricingExpanded:b}):s.jsx(kx,{apiProvider:a.apiProvider,selectedModelId:k,modelInfo:_,isDescriptionExpanded:m,setIsDescriptionExpanded:g})),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a.apiProvider==="kilocode"?s.jsx(je,{i18nKey:"kilocode:settings.provider.automaticFetch"}):s.jsx(je,{i18nKey:"settings:modelPicker.automaticFetch",components:{serviceLink:s.jsx(Fe,{href:o,className:"text-sm"}),defaultModelLink:s.jsx(Fe,{onClick:()=>S(e),className:"text-sm"})},values:{serviceName:n,defaultModelId:e}})})]})]})},ez=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=oe(),c=h.useCallback((l,d=st)=>u=>{t(l,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.chutesApiKey)||"",type:"password",onInput:c("chutesApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.chutesApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.chutesApiKey)&&s.jsx(vt,{href:"https://chutes.ai/app/api",appearance:"secondary",children:i("settings:providers.getChutesApiKey")}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Kc,models:(r==null?void 0:r.chutes)??{},modelIdKey:"apiModelId",serviceName:"Chutes AI",serviceUrl:"https://llm.chutes.ai/v1/models",organizationAllowList:n,errorMessage:o,simplifySettings:a})]})},tz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=a=>{const i=a.target;t("claudeCodePath",i.value)},o=(e==null?void 0:e.claudeCodeMaxOutputTokens)||8e3;return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.claudeCodePath)||"",style:{width:"100%",marginTop:3},type:"text",onInput:n,placeholder:r("settings:providers.claudeCode.placeholder"),children:r("settings:providers.claudeCode.pathLabel")}),s.jsx("p",{style:{fontSize:"12px",marginTop:3,color:"var(--vscode-descriptionForeground)"},children:r("settings:providers.claudeCode.description")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-medium",children:r("settings:providers.claudeCode.maxTokensLabel")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Rt,{min:8e3,max:64e3,step:1024,value:[o],onValueChange:([a])=>t("claudeCodeMaxOutputTokens",a)}),s.jsx("div",{className:"w-16 text-sm text-center",children:o})]}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground mt-1",children:r("settings:providers.claudeCode.maxTokensDescription")})]})]})},sz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.deepSeekApiKey)||"",type:"password",onInput:n("deepSeekApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.deepSeekApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.deepSeekApiKey)&&s.jsx(vt,{href:"https://platform.deepseek.com/",appearance:"secondary",children:r("settings:providers.getDeepSeekApiKey")})]})},rz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.doubaoApiKey)||"",type:"password",onInput:n("doubaoApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.doubaoApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.doubaoApiKey)&&s.jsx(vt,{href:"https://www.volcengine.com/experience/ark?model=doubao-1-5-thinking-vision-pro-250428",appearance:"secondary",children:r("settings:providers.getDoubaoApiKey")})]})},nz=({apiConfiguration:e,setApiConfigurationField:t,simplifySettings:r,routerModels:n,organizationAllowList:o,modelValidationError:a})=>{const{t:i}=oe(),[c,l]=h.useState(!!(e!=null&&e.googleGeminiBaseUrl)),d=h.useCallback((p,m=st)=>g=>{t(p,m(g))},[t]),u=o??{allowAll:!0,providers:{}};return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.geminiApiKey)||"",type:"password",onInput:d("geminiApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.geminiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.geminiApiKey)&&s.jsx(vt,{href:"https://ai.google.dev/",appearance:"secondary",children:i("settings:providers.getGeminiApiKey")}),s.jsxs("div",{children:[s.jsx(Pt,{"data-testid":"checkbox-custom-base-url",checked:c,onChange:p=>{l(p),p||t("googleGeminiBaseUrl","")},children:i("settings:providers.useCustomBaseUrl")}),c&&s.jsx(ce,{value:(e==null?void 0:e.googleGeminiBaseUrl)||"",type:"url",onInput:d("googleGeminiBaseUrl"),placeholder:i("settings:defaults.geminiUrl"),className:"w-full mt-1"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"mt-6","data-testid":"checkbox-url-context",checked:!!e.enableUrlContext,onChange:p=>t("enableUrlContext",p),children:i("settings:providers.geminiParameters.urlContext.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:i("settings:providers.geminiParameters.urlContext.description")}),s.jsx(Pt,{"data-testid":"checkbox-grounding-search",checked:!!e.enableGrounding,onChange:p=>t("enableGrounding",p),children:i("settings:providers.geminiParameters.groundingSearch.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:i("settings:providers.geminiParameters.groundingSearch.description")})]}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Fa,models:(n==null?void 0:n.gemini)??{},modelIdKey:"apiModelId",serviceName:"Google Gemini",serviceUrl:"https://ai.google.dev/gemini-api/docs/models/gemini",organizationAllowList:u,errorMessage:a})]})]})};function jx(e,t){return encodeURIComponent(`${t||"vscode"}://${Ba.publisher}.${Ba.name}/${e}`)}function oz(e){return`https://glama.ai/oauth/authorize?callback_url=${jx("glama",e)}`}function az(e){return`https://openrouter.ai/auth?callback_url=${jx("openrouter",e)}`}const iz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,uriScheme:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:c}=oe(),l=h.useCallback((d,u=st)=>p=>{t(d,u(p))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.glamaApiKey)||"",type:"password",onInput:l("glamaApiKey"),placeholder:c("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:c("settings:providers.glamaApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:c("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.glamaApiKey)&&s.jsx(vt,{href:oz(n),style:{width:"100%"},appearance:"primary",children:c("settings:providers.getGlamaApiKey")}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Vc,models:(r==null?void 0:r.glama)??{},modelIdKey:"glamaModelId",serviceName:"Glama",serviceUrl:"https://glama.ai/models",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},lz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.groqApiKey)||"",type:"password",onInput:n("groqApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.groqApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.groqApiKey)&&s.jsx(vt,{href:"https://console.groq.com/keys",appearance:"secondary",children:r("settings:providers.getGroqApiKey")})]})},cz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),[n,o]=h.useState([]),[a,i]=h.useState(!1),[c,l]=h.useState((e==null?void 0:e.huggingFaceInferenceProvider)||"auto"),d=h.useCallback((y,w=st)=>b=>{t(y,w(b))},[t]);h.useEffect(()=>{i(!0),A.postMessage({type:"requestHuggingFaceModels"})},[]);const u=h.useCallback(y=>{var b;const w=y.data;switch(w.type){case"huggingFaceModels":o(((b=w.huggingFaceModels)==null?void 0:b.sort((k,_)=>k.id.localeCompare(_.id)))||[]),i(!1);break}},[]);tr("message",u);const p=n.find(y=>y.id===(e==null?void 0:e.huggingFaceModelId)),m=h.useMemo(()=>(p==null?void 0:p.providers)||[],[p==null?void 0:p.providers]);h.useEffect(()=>{if(p&&m.length>0){const y=e==null?void 0:e.huggingFaceInferenceProvider;if(y)l(y);else if(!m.find(b=>b.provider===c)){const b="auto";l(b),t("huggingFaceInferenceProvider",b,!1)}}},[p,m,c,e==null?void 0:e.huggingFaceInferenceProvider,t]);const g=y=>{t("huggingFaceModelId",y);const w="auto";l(w),t("huggingFaceInferenceProvider",w)},f=y=>{l(y),t("huggingFaceInferenceProvider",y)},x=y=>({sambanova:"SambaNova","fireworks-ai":"Fireworks",together:"Together AI",nebius:"Nebius AI Studio",hyperbolic:"Hyperbolic",novita:"Novita",cohere:"Cohere","hf-inference":"HF Inference API",replicate:"Replicate"})[y]||y.charAt(0).toUpperCase()+y.slice(1),v=h.useMemo(()=>!p||!c||c==="auto"?null:p.providers.find(y=>y.provider===c),[p,c]),N=h.useMemo(()=>{var k;if(!p)return null;const y=!1,w=(v==null?void 0:v.context_length)||((k=p.providers.find(_=>_.context_length))==null?void 0:k.context_length),b=(v==null?void 0:v.supports_tools)||p.providers.some(_=>_.supports_tools);return{supportsImages:y,maxTokens:w,supportsTools:b}},[p,v]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.huggingFaceApiKey)||"",type:"password",onInput:d("huggingFaceApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.huggingFaceApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.huggingFaceApiKey)&&s.jsx(vt,{href:"https://huggingface.co/settings/tokens",appearance:"secondary",children:r("settings:providers.getHuggingFaceApiKey")}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.huggingFaceModelId"),a&&s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.huggingFaceLoading")}),!a&&s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.huggingFaceModelsCount",{count:n.length})})]}),s.jsx(Ko,{value:(e==null?void 0:e.huggingFaceModelId)||"",onValueChange:g,options:n.map(y=>({value:y.id,label:y.id})),placeholder:r("settings:providers.huggingFaceSelectModel"),searchPlaceholder:r("settings:providers.huggingFaceSearchModels"),emptyMessage:r("settings:providers.huggingFaceNoModelsFound"),disabled:a})]}),p&&m.length>0&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"block font-medium text-sm",children:r("settings:providers.huggingFaceProvider")}),s.jsx(Ko,{value:c,onValueChange:f,options:[{value:"auto",label:r("settings:providers.huggingFaceProviderAuto")},...m.map(y=>({value:y.provider,label:`${x(y.provider)} (${y.status})`}))],placeholder:r("settings:providers.huggingFaceSelectProvider"),searchPlaceholder:r("settings:providers.huggingFaceSearchProviders"),emptyMessage:r("settings:providers.huggingFaceNoProvidersFound")})]}),p&&N&&s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsxs("div",{className:ee("flex items-center gap-1 font-medium",N.supportsImages?"text-vscode-charts-green":"text-vscode-errorForeground"),children:[s.jsx("span",{className:ee("codicon",N.supportsImages?"codicon-check":"codicon-x")}),N.supportsImages?r("settings:modelInfo.supportsImages"):r("settings:modelInfo.noImages")]}),N.maxTokens&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.maxOutput"),":"]})," ",N.maxTokens.toLocaleString()," tokens"]}),(v==null?void 0:v.pricing)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.inputPrice"),":"]})," ",wo(v.pricing.input)," / 1M tokens"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.outputPrice"),":"]})," ",wo(v.pricing.output)," / 1M tokens"]})]})]})]})},dz=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{const{t:a}=oe(),{routerModels:i}=Ge(),c=h.useCallback((l,d=st)=>u=>{t(l,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.ioIntelligenceApiKey)||"",type:"password",onInput:c("ioIntelligenceApiKey"),placeholder:a("settings:providers.ioIntelligenceApiKeyPlaceholder"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.ioIntelligenceApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.ioIntelligenceApiKey)&&s.jsx(vt,{href:"https://ai.io.net/ai/api-keys",appearance:"secondary",children:a("settings:providers.getIoIntelligenceApiKey")}),s.jsx(Ps,{apiConfiguration:e,defaultModelId:Gc,models:(i==null?void 0:i["io-intelligence"])??Xj,modelIdKey:"ioIntelligenceModelId",serviceName:"IO Intelligence",serviceUrl:"https://api.intelligence.io.solutions/api/v1/models",setApiConfigurationField:t,organizationAllowList:r,errorMessage:n,simplifySettings:o})]})},uz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),[n,o]=h.useState({}),a=Qi({lmStudioBaseUrl:e.lmStudioBaseUrl}),i=h.useCallback((u,p=st)=>m=>{t(u,p(m))},[t]),c=h.useCallback(u=>{const p=u.data;switch(p.type){case"lmStudioModels":{const m=p.lmStudioModels??{};o(m)}break}},[]);tr("message",c),h.useEffect(()=>{A.postMessage({type:"requestLmStudioModels"})},[]);const l=h.useMemo(()=>{var p;const u=e==null?void 0:e.lmStudioModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.lmstudio?!Object.keys(a.data.lmstudio).includes(u):!1},[e==null?void 0:e.lmStudioModelId,a.data,n]),d=h.useMemo(()=>{var p;const u=e==null?void 0:e.lmStudioDraftModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.lmstudio?!Object.keys(a.data.lmstudio).includes(u):!1},[e==null?void 0:e.lmStudioDraftModelId,a.data,n]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.lmStudioBaseUrl)||"",type:"url",onInput:i("lmStudioBaseUrl"),placeholder:r("settings:defaults.lmStudioUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.baseUrl")})}),s.jsx(ce,{value:(e==null?void 0:e.lmStudioModelId)||"",onInput:i("lmStudioModelId"),placeholder:r("settings:placeholders.modelId.lmStudio"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.modelId")})}),l&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.lmStudioModelId})})]})}),Object.keys(n).length>0&&s.jsx(pc,{value:((e==null?void 0:e.lmStudioModelId)||"")in n?e==null?void 0:e.lmStudioModelId:"",onChange:i("lmStudioModelId"),children:Object.keys(n).map(u=>s.jsx(wi,{value:u,checked:(e==null?void 0:e.lmStudioModelId)===u,children:u},u))}),s.jsx(Pt,{checked:(e==null?void 0:e.lmStudioSpeculativeDecodingEnabled)===!0,onChange:u=>{t("lmStudioSpeculativeDecodingEnabled",u)},children:r("settings:providers.lmStudio.speculativeDecoding")}),(e==null?void 0:e.lmStudioSpeculativeDecodingEnabled)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.lmStudioDraftModelId)||"",onInput:i("lmStudioDraftModelId"),placeholder:r("settings:placeholders.modelId.lmStudioDraft"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.draftModelId")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.lmStudio.draftModelDesc")}),d&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm mt-2",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.lmStudioDraftModelId})})]})})]}),Object.keys(n).length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:r("settings:providers.lmStudio.selectDraftModel")}),s.jsx(pc,{value:((e==null?void 0:e.lmStudioDraftModelId)||"")in n?e==null?void 0:e.lmStudioDraftModelId:"",onChange:i("lmStudioDraftModelId"),children:Object.keys(n).map(u=>s.jsx(wi,{value:u,children:u},`draft-${u}`))}),Object.keys(n).length===0&&s.jsx("div",{className:"text-sm rounded-xs p-2",style:{backgroundColor:"var(--vscode-inputValidation-infoBackground)",border:"1px solid var(--vscode-inputValidation-infoBorder)",color:"var(--vscode-inputValidation-infoForeground)"},children:r("settings:providers.lmStudio.noModelsFound")})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:"settings:providers.lmStudio.description",components:{a:s.jsx(Fe,{href:"https://lmstudio.ai/docs"}),b:s.jsx(Fe,{href:"https://lmstudio.ai/docs/basics/server"}),span:s.jsx("span",{className:"text-vscode-errorForeground ml-1",children:s.jsx("span",{className:"font-medium",children:"Note:"})})}})})]})},pz=({apiConfiguration:e,setApiConfigurationField:t})=>{var o;const{t:r}=oe(),n=h.useCallback((a,i=st)=>c=>{t(a,i(c))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.mistralApiKey)||"",type:"password",onInput:n("mistralApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("span",{className:"font-medium",children:r("settings:providers.mistralApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.mistralApiKey)&&s.jsx(vt,{href:"https://console.mistral.ai/",appearance:"secondary",children:r("settings:providers.getMistralApiKey")}),(((o=e==null?void 0:e.apiModelId)==null?void 0:o.startsWith("codestral-"))||!(e!=null&&e.apiModelId)&&Qc.startsWith("codestral-"))&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.mistralCodestralUrl)||"",type:"url",onInput:n("mistralCodestralUrl"),placeholder:"https://codestral.mistral.ai",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.codestralBaseUrl")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.codestralBaseUrlDesc")})]})]})},mz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.moonshotBaseUrl")}),s.jsxs($s,{value:e.moonshotBaseUrl,onChange:n("moonshotBaseUrl"),className:ee("w-full"),children:[s.jsx(yt,{value:"https://api.moonshot.ai/v1",className:"p-2",children:"api.moonshot.ai"}),s.jsx(yt,{value:"https://api.moonshot.cn/v1",className:"p-2",children:"api.moonshot.cn"})]})]}),s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.moonshotApiKey)||"",type:"password",onInput:n("moonshotApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.moonshotApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.moonshotApiKey)&&s.jsx(vt,{href:e.moonshotBaseUrl==="https://api.moonshot.cn/v1"?"https://platform.moonshot.cn/console/api-keys":"https://platform.moonshot.ai/console/api-keys",appearance:"secondary",children:r("settings:providers.getMoonshotApiKey")})]})]})},hz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=oe(),i=h.useCallback(l=>d=>{t(l,st(d))},[t]),c=h.useCallback(l=>d=>{t(l,d.target.value)},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.nanoGptApiKey)||"",type:"password",onInput:i("nanoGptApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.nanoGptApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.nanoGptApiKey)&&s.jsx(vt,{href:"https://nano-gpt.com/",style:{width:"100%"},appearance:"primary",children:a("settings:providers.getNanoGptApiKey")}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"nanoGptModelList",className:"block font-medium mb-1",children:a("settings:providers.nanoGptModelList")}),s.jsx($s,{id:"nanoGptModelList",value:e.nanoGptModelList||"all",onChange:c("nanoGptModelList"),className:"w-full",children:hT.options.map(l=>s.jsx(yt,{value:l,children:a(`settings:providers.nanoGptModelListOptions.${l}`)},l))}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:' Click "Save" to refresh the model list after changing this selection'})]}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:hg,models:(r==null?void 0:r["nano-gpt"])??{},modelIdKey:"nanoGptModelId",serviceName:"Nano-GPT",serviceUrl:"https://nano-gpt.com/docs/api-reference/endpoint/models",organizationAllowList:n,errorMessage:o})]})},fz=({apiConfiguration:e,setApiConfigurationField:t})=>{var d;const{t:r}=oe(),[n,o]=h.useState({}),a=Qi({ollamaBaseUrl:e==null?void 0:e.ollamaBaseUrl}),i=h.useCallback((u,p=st)=>m=>{t(u,p(m))},[t]),c=h.useCallback(u=>{const p=u.data;switch(p.type){case"ollamaModels":{const m=p.ollamaModels??{};o(m)}break}},[]);tr("message",c),h.useEffect(()=>{A.postMessage({type:"requestOllamaModels"})},[]);const l=h.useMemo(()=>{var p;const u=e==null?void 0:e.ollamaModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.ollama?!Object.keys(a.data.ollama).includes(u):!1},[e==null?void 0:e.ollamaModelId,a.data,n]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.ollamaBaseUrl)||"",type:"url",onInput:i("ollamaBaseUrl"),placeholder:r("settings:defaults.ollamaUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.baseUrl")})}),(e==null?void 0:e.ollamaBaseUrl)&&s.jsxs(ce,{value:(e==null?void 0:e.ollamaApiKey)||"",type:"password",onInput:i("ollamaApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.apiKey")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.ollama.apiKeyHelp")})]}),s.jsx(ce,{value:(e==null?void 0:e.ollamaModelId)||"",onInput:i("ollamaModelId"),placeholder:r("settings:placeholders.modelId.ollama"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.modelId")})}),l&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.ollamaModelId})})]})}),Object.keys(n).length>0&&s.jsx(pc,{value:((e==null?void 0:e.ollamaModelId)||"")in n?e==null?void 0:e.ollamaModelId:"",onChange:i("ollamaModelId"),children:Object.keys(n).map(u=>s.jsx(wi,{value:u,checked:(e==null?void 0:e.ollamaModelId)===u,children:u},u))}),s.jsxs(ce,{value:((d=e==null?void 0:e.ollamaNumCtx)==null?void 0:d.toString())||"",onInput:u=>{var m;const p=(m=u.target)==null?void 0:m.value;if(p==="")t("ollamaNumCtx",void 0);else{const g=parseInt(p,10);!isNaN(g)&&g>=128&&t("ollamaNumCtx",g)}},placeholder:"e.g., 4096",className:"w-full",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.numCtx")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.ollama.numCtxHelp")})]}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[r("settings:providers.ollama.description"),s.jsx("span",{className:"text-vscode-errorForeground ml-1",children:r("settings:providers.ollama.warning")})]})]})},gz=({apiConfiguration:e,setApiConfigurationField:t,selectedModelInfo:r})=>{const{t:n}=oe(),[o,a]=h.useState(!!(e!=null&&e.openAiNativeBaseUrl)),i=h.useCallback((c,l=st)=>d=>{t(c,l(d))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(Pt,{checked:o,onChange:c=>{a(c),c||t("openAiNativeBaseUrl","")},children:n("settings:providers.useCustomBaseUrl")}),o&&s.jsx(s.Fragment,{children:s.jsx(ce,{value:(e==null?void 0:e.openAiNativeBaseUrl)||"",type:"url",onInput:i("openAiNativeBaseUrl"),placeholder:"https://api.openai.com/v1",className:"w-full mt-1"})}),s.jsx(ce,{value:(e==null?void 0:e.openAiNativeApiKey)||"",type:"password",onInput:i("openAiNativeApiKey"),placeholder:n("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.openAiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:n("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.openAiNativeApiKey)&&s.jsx(vt,{href:"https://platform.openai.com/api-keys",appearance:"secondary",children:n("settings:providers.getOpenAiApiKey")}),(()=>{var l;const c=(((l=r==null?void 0:r.tiers)==null?void 0:l.map(d=>d.name).filter(Boolean))||[]).filter(d=>d==="flex"||d==="priority");return c.length===0?null:s.jsxs("div",{className:"flex flex-col gap-1 mt-2","data-testid":"openai-service-tier",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:"Service tier"}),s.jsx(de,{content:"For faster processing of API requests, try the priority processing service tier. For lower prices with higher latency, try the flex processing tier.",children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground text-xs"})})]}),s.jsxs(Dt,{value:e.openAiNativeServiceTier||"default",onValueChange:d=>t("openAiNativeServiceTier",d),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n("settings:common.select")})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"default",children:"Standard"}),c.includes("flex")&&s.jsx(Be,{value:"flex",children:"Flex"}),c.includes("priority")&&s.jsx(Be,{value:"priority",children:"Priority"})]})]})]})})()]})},xz=({onChange:e,openAiR1FormatEnabled:t})=>{const{t:r}=oe();return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Pt,{checked:t,onChange:e,children:s.jsx("span",{className:"font-medium",children:r("settings:modelInfo.enableR1Format")})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:r("settings:modelInfo.enableR1FormatTips")})]})},mS=({apiConfiguration:e,setApiConfigurationField:t,modelInfo:r})=>{const{t:n}=oe(),{id:o}=lo(e),i=o&&o.includes("gemini-2.5-pro")?aD:1024,c=!!r&&r.supportsReasoningBinary,l=!!r&&r.supportsReasoningBudget,d=!!r&&r.requiredReasoningBudget,u=!!r&&r.supportsReasoningEffort,p=r==null?void 0:r.supportsReasoningEffort,m=p===!0?Rx:Array.isArray(p)?p:Rx,f=!(r!=null&&r.requiredReasoningEffort)&&p===!0&&!m.includes("disable")?["disable",...m]:m,x=r==null?void 0:r.reasoningEffort,v=r!=null&&r.requiredReasoningEffort?x||"medium":"disable",y=e.reasoningEffort||v;h.useEffect(()=>{u&&!e.reasoningEffort&&r!=null&&r.requiredReasoningEffort&&v!=="disable"&&t("reasoningEffort",v,!1)},[u,e.reasoningEffort,v,r==null?void 0:r.requiredReasoningEffort,t]),h.useEffect(()=>{if(!u)return;((r==null?void 0:r.requiredReasoningEffort)||y!=="disable")&&e.enableReasoningEffort!==!0&&t("enableReasoningEffort",!0,!1)},[u,r==null?void 0:r.requiredReasoningEffort,y,e.enableReasoningEffort,t]);const w=e.enableReasoningEffort,b=e.modelMaxTokens||Yl,k=e.modelMaxThinkingTokens||oD,_=r!=null&&r.maxThinkingTokens?Math.min(r.maxThinkingTokens,Math.floor(.8*b)):Math.floor(.8*b);return h.useEffect(()=>{l&&k>_&&t("modelMaxThinkingTokens",_,!1)},[l,k,_,t]),h.useEffect(()=>{l&&(r!=null&&r.maxTokens)&&b>r.maxTokens&&t("modelMaxTokens",r.maxTokens||Yl)},[l,b,r==null?void 0:r.maxTokens,t]),r?c?s.jsx("div",{className:"flex flex-col gap-1",children:s.jsx(Pt,{checked:w,onChange:j=>t("enableReasoningEffort",j===!0),children:n("settings:providers.useReasoning")})}):l&&r.maxTokens?s.jsxs(s.Fragment,{children:[!d&&e.apiProvider!=="virtual-quota-fallback"&&s.jsx("div",{className:"flex flex-col gap-1",children:s.jsx(Pt,{checked:w,onChange:j=>t("enableReasoningEffort",j===!0),children:n("settings:providers.useReasoning")})}),(d||w)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-medium",children:n("settings:thinkingBudget.maxTokens")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Rt,{min:8192,max:Math.max(r.maxTokens||8192,b,Yl),step:1024,value:[b],onValueChange:([j])=>t("modelMaxTokens",j)}),s.jsx("div",{className:"w-12 text-sm text-center",children:b})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-medium",children:n("settings:thinkingBudget.maxThinkingTokens")}),s.jsxs("div",{className:"flex items-center gap-1","data-testid":"reasoning-budget",children:[s.jsx(Rt,{min:i,max:_,step:i===128?128:1024,value:[k],onValueChange:([j])=>t("modelMaxThinkingTokens",j)}),s.jsx("div",{className:"w-12 text-sm text-center",children:k})]})]})]})]}):u?s.jsxs("div",{className:"flex flex-col gap-1","data-testid":"reasoning-effort",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.reasoningEffort.label")})}),s.jsxs(Dt,{value:y,onValueChange:j=>{j==="disable"?(t("enableReasoningEffort",!1),t("reasoningEffort","disable")):(t("enableReasoningEffort",!0),t("reasoningEffort",j))},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n(y?y==="none"||y==="disable"?"settings:providers.reasoningEffort.none":`settings:providers.reasoningEffort.${y}`:"settings:common.select")})}),s.jsx(Bt,{children:f.map(j=>s.jsx(Be,{value:j,children:n(j==="none"||j==="disable"?"settings:providers.reasoningEffort.none":`settings:providers.reasoningEffort.${j}`)},j))})]})]}):null:null},vz=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{var b,k,_,j,T,S,I,E,M,R,C,q,B,U,te,Q,O,F,W,re;const{t:a}=oe(),[i,c]=h.useState(!!(e!=null&&e.azureApiVersion)),[l,d]=h.useState(!!(e!=null&&e.openAiLegacyFormat)),[u,p]=h.useState(null),[m,g]=h.useState(()=>{const H=(e==null?void 0:e.openAiHeaders)||{};return Object.entries(H)}),f=h.useCallback(()=>{g(H=>[...H,["",""]])},[]),x=h.useCallback((H,Z)=>{g(Y=>{const G=[...Y];return G[H]&&(G[H]=[Z,G[H][1]]),G})},[]),v=h.useCallback((H,Z)=>{g(Y=>{const G=[...Y];return G[H]&&(G[H]=[G[H][0],Z]),G})},[]),N=h.useCallback(H=>{g(Z=>Z.filter((Y,G)=>G!==H))},[]);h.useEffect(()=>{const H=setTimeout(()=>{const Z=bf(m);t("openAiHeaders",Z)},300);return()=>clearTimeout(H)},[m,t]);const y=h.useCallback((H,Z=st)=>Y=>{t(H,Z(Y))},[t]),w=h.useCallback(H=>{const Z=H.data;switch(Z.type){case"openAiModels":{const Y=Z.openAiModels??[];p(Object.fromEntries(Y.map(G=>[G,Wt])));break}}},[]);return tr("message",w),s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.openAiBaseUrl)||"",type:"url",onInput:y("openAiBaseUrl"),placeholder:a("settings:placeholders.baseUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.openAiBaseUrl")})}),s.jsx(ce,{value:(e==null?void 0:e.openAiApiKey)||"",type:"password",onInput:y("openAiApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.apiKey")})}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:"gpt-4o",models:u,modelIdKey:"openAiModelId",serviceName:"OpenAI",serviceUrl:"https://platform.openai.com",organizationAllowList:r,errorMessage:n,simplifySettings:o}),s.jsx(xz,{onChange:y("openAiR1FormatEnabled",no),openAiR1FormatEnabled:(e==null?void 0:e.openAiR1FormatEnabled)??!1}),s.jsx("div",{children:s.jsx(Pt,{checked:l,onChange:H=>{d(H),t("openAiLegacyFormat",H)},children:a("settings:providers.useLegacyFormat")})}),s.jsx(Pt,{checked:(e==null?void 0:e.openAiStreamingEnabled)??!0,onChange:y("openAiStreamingEnabled",no),children:a("settings:modelInfo.enableStreaming")}),s.jsxs("div",{children:[s.jsx(Pt,{checked:(e==null?void 0:e.includeMaxTokens)??!0,onChange:y("includeMaxTokens",no),children:a("settings:includeMaxOutputTokens")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6",children:a("settings:includeMaxOutputTokensDescription")})]}),s.jsx(Pt,{checked:(e==null?void 0:e.openAiUseAzure)??!1,onChange:y("openAiUseAzure",no),children:a("settings:modelInfo.useAzure")}),s.jsxs("div",{children:[s.jsx(Pt,{checked:i,onChange:H=>{c(H),H||t("azureApiVersion","")},children:a("settings:modelInfo.azureApiVersion")}),i&&s.jsx(ce,{value:(e==null?void 0:e.azureApiVersion)||"",onInput:y("azureApiVersion"),placeholder:`Default: ${HP}`,className:"w-full mt-1"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block font-medium",children:a("settings:providers.customHeaders")}),s.jsx(de,{content:a("settings:common.add"),children:s.jsx(xt,{appearance:"icon",onClick:f,children:s.jsx("span",{className:"codicon codicon-add"})})})]}),m.length?m.map(([H,Z],Y)=>s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ce,{value:H,className:"flex-1 mr-2",placeholder:a("settings:providers.headerName"),onInput:G=>x(Y,G.target.value)}),s.jsx(ce,{value:Z,className:"flex-1 mr-2",placeholder:a("settings:providers.headerValue"),onInput:G=>v(Y,G.target.value)}),s.jsx(de,{content:a("settings:common.remove"),children:s.jsx(xt,{appearance:"icon",onClick:()=>N(Y),children:s.jsx("span",{className:"codicon codicon-trash"})})})]},Y)):s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.noCustomHeaders")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(Pt,{checked:e.enableReasoningEffort??!1,onChange:H=>{if(t("enableReasoningEffort",H),!H){const{reasoningEffort:Z,...Y}=e.openAiCustomModelInfo||Wt;t("openAiCustomModelInfo",Y)}},children:a("settings:providers.setReasoningLevel")}),!!e.enableReasoningEffort&&s.jsx(mS,{apiConfiguration:{...e,reasoningEffort:(b=e.openAiCustomModelInfo)==null?void 0:b.reasoningEffort},setApiConfigurationField:(H,Z)=>{if(H==="reasoningEffort"){const Y=e.openAiCustomModelInfo||Wt;t("openAiCustomModelInfo",{...Y,reasoningEffort:Z})}},modelInfo:{...e.openAiCustomModelInfo||Wt,supportsReasoningEffort:!0}})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"text-sm text-vscode-descriptionForeground whitespace-pre-line",children:a("settings:providers.customModel.capabilities")}),s.jsxs("div",{children:[s.jsx(ce,{value:((_=(k=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:k.maxTokens)==null?void 0:_.toString())||((j=Wt.maxTokens)==null?void 0:j.toString())||"",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.maxTokens;return H?H>0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)":"var(--vscode-input-border)"})()},onInput:y("openAiCustomModelInfo",H=>{const Z=parseInt(H.target.value);return{...(e==null?void 0:e.openAiCustomModelInfo)||Wt,maxTokens:isNaN(Z)?void 0:Z}}),placeholder:a("settings:placeholders.numbers.maxTokens"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.maxTokens.label")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.customModel.maxTokens.description")})]}),s.jsxs("div",{children:[s.jsx(ce,{value:((S=(T=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:T.contextWindow)==null?void 0:S.toString())||((I=Wt.contextWindow)==null?void 0:I.toString())||"",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.contextWindow;return H?H>0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)":"var(--vscode-input-border)"})()},onInput:y("openAiCustomModelInfo",H=>{const Z=H.target.value,Y=parseInt(Z);return{...(e==null?void 0:e.openAiCustomModelInfo)||Wt,contextWindow:isNaN(Y)?Wt.contextWindow:Y}}),placeholder:a("settings:placeholders.numbers.contextWindow"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.contextWindow.label")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.customModel.contextWindow.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{checked:((E=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:E.supportsImages)??Wt.supportsImages,onChange:y("openAiCustomModelInfo",H=>({...(e==null?void 0:e.openAiCustomModelInfo)||Wt,supportsImages:H})),children:s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.imageSupport.label")})}),s.jsx(de,{content:a("settings:providers.customModel.imageSupport.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground pt-1",children:a("settings:providers.customModel.imageSupport.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{checked:((M=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:M.supportsPromptCache)??!1,onChange:y("openAiCustomModelInfo",H=>({...(e==null?void 0:e.openAiCustomModelInfo)||Wt,supportsPromptCache:H})),children:s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.promptCache.label")})}),s.jsx(de,{content:a("settings:providers.customModel.promptCache.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground pt-1",children:a("settings:providers.customModel.promptCache.description")})]}),s.jsx("div",{children:s.jsx(ce,{value:((C=(R=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:R.inputPrice)==null?void 0:C.toString())??((q=Wt.inputPrice)==null?void 0:q.toString())??"",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.inputPrice;return!H&&H!==0?"var(--vscode-input-border)":H>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:y("openAiCustomModelInfo",H=>{const Z=H.target.value,Y=parseFloat(Z);return{...(e==null?void 0:e.openAiCustomModelInfo)??Wt,inputPrice:isNaN(Y)?Wt.inputPrice:Y}}),placeholder:a("settings:placeholders.numbers.inputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.input.label")}),s.jsx(de,{content:a("settings:providers.customModel.pricing.input.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),s.jsx("div",{children:s.jsx(ce,{value:((U=(B=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:B.outputPrice)==null?void 0:U.toString())||((te=Wt.outputPrice)==null?void 0:te.toString())||"",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.outputPrice;return!H&&H!==0?"var(--vscode-input-border)":H>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:y("openAiCustomModelInfo",H=>{const Z=H.target.value,Y=parseFloat(Z);return{...(e==null?void 0:e.openAiCustomModelInfo)||Wt,outputPrice:isNaN(Y)?Wt.outputPrice:Y}}),placeholder:a("settings:placeholders.numbers.outputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.output.label")}),s.jsx(de,{content:a("settings:providers.customModel.pricing.output.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),((Q=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Q.supportsPromptCache)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(ce,{value:((F=(O=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:O.cacheReadsPrice)==null?void 0:F.toString())??"0",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.cacheReadsPrice;return!H&&H!==0?"var(--vscode-input-border)":H>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:y("openAiCustomModelInfo",H=>{const Z=H.target.value,Y=parseFloat(Z);return{...(e==null?void 0:e.openAiCustomModelInfo)??Wt,cacheReadsPrice:isNaN(Y)?0:Y}}),placeholder:a("settings:placeholders.numbers.inputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.pricing.cacheReads.label")}),s.jsx(de,{content:a("settings:providers.customModel.pricing.cacheReads.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),s.jsx("div",{children:s.jsx(ce,{value:((re=(W=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:W.cacheWritesPrice)==null?void 0:re.toString())??"0",type:"text",style:{borderColor:(()=>{var Z;const H=(Z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:Z.cacheWritesPrice;return!H&&H!==0?"var(--vscode-input-border)":H>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:y("openAiCustomModelInfo",H=>{const Z=H.target.value,Y=parseFloat(Z);return{...(e==null?void 0:e.openAiCustomModelInfo)??Wt,cacheWritesPrice:isNaN(Y)?0:Y}}),placeholder:a("settings:placeholders.numbers.cacheWritePrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.cacheWrites.label")}),s.jsx(de,{content:a("settings:providers.customModel.pricing.cacheWrites.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})})]}),s.jsx(ae,{variant:"secondary",onClick:()=>t("openAiCustomModelInfo",Wt),children:a("settings:providers.customModel.resetDefaults")})]})]})},bz=ys({data:ys({label:We(),usage:ur(),is_free_tier:Tn(),is_provisioning_key:Tn(),rate_limit:ys({requests:ur(),interval:We()}),limit:ur().nullable()})});async function yz(e,t){if(!e)return null;try{const n=`${t||"https://openrouter.ai/api/v1"}/key`,o=await Jt.get(n,{headers:{Authorization:`Bearer ${e}`}}),a=bz.safeParse(o.data);return a.success?a.data.data:(console.error("OpenRouter API key info validation failed:",a.error),null)}catch(r){return console.error("Error fetching OpenRouter key info:",r),null}}const wz=(e,t,r)=>An({queryKey:["openrouter-key-info",e,t],queryFn:()=>yz(e,t),staleTime:30*1e3,enabled:!!e,...r}),kz=({apiKey:e,baseUrl:t})=>{const{data:r}=wz(e,t);if(!r||!r.limit)return null;const n=(r.limit-r.usage).toFixed(2);return s.jsxs(Fe,{href:"https://openrouter.ai/settings/keys",className:"text-vscode-foreground hover:underline",children:["$",n]})},jz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,uriScheme:n,simplifySettings:o,organizationAllowList:a,modelValidationError:i})=>{const{t:c}=oe(),[l,d]=h.useState(!!(e!=null&&e.openRouterBaseUrl)),u=h.useCallback((p,m=st)=>g=>{t(p,m(g))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.openRouterApiKey)||"",type:"password",onInput:u("openRouterApiKey"),placeholder:c("settings:placeholders.apiKey"),className:"w-full",children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:c("settings:providers.openRouterApiKey")}),(e==null?void 0:e.openRouterApiKey)&&s.jsx(kz,{apiKey:e.openRouterApiKey,baseUrl:e.openRouterBaseUrl})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:c("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.openRouterApiKey)&&s.jsx(vt,{href:az(n),style:{width:"100%"},appearance:"primary",children:c("settings:providers.getOpenRouterApiKey")}),!o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Pt,{checked:l,onChange:p=>{d(p),p||t("openRouterBaseUrl","")},children:c("settings:providers.useCustomBaseUrl")}),l&&s.jsx(ce,{value:(e==null?void 0:e.openRouterBaseUrl)||"",type:"url",onInput:u("openRouterBaseUrl"),placeholder:"Default: https://openrouter.ai/api/v1",className:"w-full mt-1"})]}),s.jsx(Pt,{checked:(e==null?void 0:e.openRouterUseMiddleOutTransform)??!0,onChange:u("openRouterUseMiddleOutTransform",no),children:s.jsx(je,{i18nKey:"settings:providers.openRouterTransformsText",components:{a:s.jsx("a",{href:"https://openrouter.ai/docs/transforms"})}})})]}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Ki,models:(r==null?void 0:r.openrouter)??{},modelIdKey:"openRouterModelId",serviceName:"OpenRouter",serviceUrl:"https://openrouter.ai/models",organizationAllowList:a,errorMessage:i,simplifySettings:o})]})},_z=({apiConfiguration:e,setApiConfigurationField:t})=>{const r="~/.qwen/oauth_creds.json",n=a=>{const i=a.target;t("qwenCodeOauthPath",i.value)},o=a=>{const i=a.target;(!i.value||i.value.trim()==="")&&t("qwenCodeOauthPath",r)};return s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.qwenCodeOauthPath)||"",className:"w-full mt-1",type:"text",onInput:n,onBlur:o,placeholder:r,children:"OAuth Credentials Path"}),s.jsx("p",{className:"text-xs mt-1 text-vscode-descriptionForeground",children:"Path to your Qwen OAuth credentials file. Defaults to ~/.qwen/oauth_creds.json if left empty."}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-3",children:"Qwen Code is an OAuth-based API that requires authentication through the official Qwen client. You'll need to set up OAuth credentials first."}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-2",children:["To get started:",s.jsx("br",{}),"1. Install the official Qwen client",s.jsx("br",{}),"2. Authenticate using your account",s.jsx("br",{}),"3. OAuth credentials will be stored automatically"]}),s.jsx(Fe,{href:"https://github.com/QwenLM/qwen-code/blob/main/README.md",className:"text-vscode-textLink-foreground mt-2 inline-block text-xs",children:"Setup Instructions"})]})})},Nz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,cloudIsAuthenticated:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:c}=oe();return s.jsxs(s.Fragment,{children:[n?s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:c("settings:providers.roo.authenticatedMessage")})}):s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(ae,{variant:"primary",onClick:()=>A.postMessage({type:"rooCloudSignIn"}),className:"w-fit",children:c("settings:providers.roo.connectButton")})}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Ef,models:(r==null?void 0:r.roo)??{},modelIdKey:"apiModelId",serviceName:"Roo Code Cloud",serviceUrl:"https://roocode.com",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},$m="https://router.requesty.ai/v1",Xk=(e,t)=>{if(t==="router")return e;try{const r=new URL(e);return r.hostname.includes("router")&&(r.hostname=r.hostname.replace("router",t)),r.pathname.endsWith("/v1")&&(r.pathname=r.pathname.slice(0,-3)),r.toString()}catch{return e.replace("router",t).replace("/v1","")}},_x=(e,t="router")=>{const r=e&&typeof e=="string"&&e.trim()?e.trim():$m;try{const n=new URL(r).toString();return Xk(n,t)}catch{return e&&e!==$m&&console.warn(`Invalid base URL "${e}", falling back to default`),Xk($m,t)}},Sz=ys({name:We(),monthly_limit:We(),monthly_spend:We(),org_balance:We(),config:ys({aliases:fT(We(),gT()).optional()})});async function Tz(e,t){if(!t)return null;const r=_x(e,"api"),n=new URL("x/apikey",r);try{const o=await Jt.get(n.toString(),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=Sz.safeParse(o.data);return a.success?a.data:(console.error("Requesty API key info validation failed:",a.error),null)}catch(o){return console.error("Error fetching Requesty key info:",o),null}}const Iz=(e,t,r)=>An({queryKey:["requesty-key-info",e,t],queryFn:()=>Tz(e,t),staleTime:30*1e3,enabled:!!t,...r}),Pz=({baseUrl:e,apiKey:t})=>{const{data:r}=Iz(e,t);if(!r)return null;const o=parseFloat(r.org_balance).toFixed(2),a=_x(e,"app"),i=new URL("settings",a);return s.jsxs(Fe,{href:i.toString(),className:"text-vscode-foreground hover:underline",children:["$",o]})},Ez=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,refetchRouterModels:n,organizationAllowList:o,modelValidationError:a,uriScheme:i,simplifySettings:c})=>{const{t:l}=oe(),[d,u]=h.useState(!!e.requestyBaseUrl);h.useEffect(()=>{u(!!(e!=null&&e.requestyBaseUrl))},[e==null?void 0:e.requestyBaseUrl]);const p=h.useCallback((g,f=st)=>x=>{t(g,f(x))},[t]),m=()=>{const g=jx("requesty",i),f=_x(e.requestyBaseUrl,"app");return new URL(`oauth/authorize?callback_url=${g}`,f).toString()};return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.requestyApiKey)||"",type:"password",onInput:p("requestyApiKey"),placeholder:l("settings:providers.getRequestyApiKey"),className:"w-full",children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:l("settings:providers.requestyApiKey")}),(e==null?void 0:e.requestyApiKey)&&s.jsx(Pz,{baseUrl:e.requestyBaseUrl,apiKey:e.requestyApiKey})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:l("settings:providers.apiKeyStorageNotice")}),s.jsx("a",{href:m(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 rounded-md px-3 w-full",style:{width:"100%",textDecoration:"none",color:"var(--vscode-button-foreground)",backgroundColor:"var(--vscode-button-background)"},children:l("settings:providers.getRequestyApiKey")}),s.jsx(ze,{checked:d,onChange:g=>{const f=g.target.checked===!0;f||t("requestyBaseUrl",void 0),u(f)},children:l("settings:providers.requestyUseCustomBaseUrl")}),d&&s.jsx(ce,{value:(e==null?void 0:e.requestyBaseUrl)||"",type:"text",onInput:p("requestyBaseUrl"),placeholder:l("settings:providers.getRequestyBaseUrl"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:l("settings:providers.getRequestyBaseUrl")})})}),s.jsx(ae,{variant:"outline",onClick:()=>{A.postMessage({type:"flushRouterModels",text:"requesty"}),n()},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),l("settings:providers.refreshModels.label")]})}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Yc,models:(r==null?void 0:r.requesty)??{},modelIdKey:"requestyModelId",serviceName:"Requesty",serviceUrl:"https://requesty.ai",organizationAllowList:o,errorMessage:a,simplifySettings:c})]})},Mz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.sambaNovaApiKey)||"",type:"password",onInput:n("sambaNovaApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.sambaNovaApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.sambaNovaApiKey)&&s.jsx(vt,{href:"https://cloud.sambanova.ai/?utm_source=roocode&utm_medium=external&utm_campaign=cloud_signup",appearance:"secondary",children:r("settings:providers.getSambaNovaApiKey")})]})},Az=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=oe(),[c,l]=h.useState(),[d,u]=h.useState(!1),p=Wj(),m=h.useRef(),g=h.useRef(),f=h.useCallback((y,w=st)=>b=>{t(y,w(b))},[t]),x=h.useCallback(async()=>{A.postMessage({type:"upsertApiConfiguration",text:"default",apiConfiguration:e});const y=new Promise((w,b)=>{const k=setTimeout(()=>{window.removeEventListener("message",_),b(new Error("Timeout waiting for state update"))},1e4),_=j=>{j.data.type==="state"&&(clearTimeout(k),window.removeEventListener("message",_),w())};window.addEventListener("message",_)});try{await y}catch(w){console.error("Failed to save configuration:",w)}},[e]),v=h.useCallback(async()=>{var b;A.postMessage({type:"flushRouterModels",text:"unbound"});const y=new Promise(k=>{const _=j=>{j.data.type==="routerModels"&&(window.removeEventListener("message",_),k())};window.addEventListener("message",_)});A.postMessage({type:"requestRouterModels"}),await y,await p.invalidateQueries({queryKey:["routerModels"]});const w=(b=p.getQueryData(["routerModels"]))==null?void 0:b.unbound;if(w&&Object.keys(w).length>0){const k=e==null?void 0:e.unboundModelId,_=k&&Object.prototype.hasOwnProperty.call(w,k);if(!k||!_){const j=Object.keys(w)[0];t("unboundModelId",j,!1)}}return!(!w||Object.keys(w).includes("error"))},[p,e,t]),N=h.useCallback(async()=>{await x(),await v()?(l(!0),m.current=setTimeout(()=>l(!1),3e3)):(u(!0),g.current=setTimeout(()=>u(!1),3e3))},[x,v]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.unboundApiKey)||"",type:"password",onInput:f("unboundApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.unboundApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.unboundApiKey)&&s.jsx(vt,{href:"https://gateway.getunbound.ai",appearance:"secondary",children:i("settings:providers.getUnboundApiKey")}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{variant:"outline",onClick:N,className:"w-1/2 max-w-xs",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("span",{className:"codicon codicon-refresh"}),i("settings:providers.refreshModels.label")]})})}),c&&s.jsx("div",{className:"flex items-center text-vscode-charts-green",children:i("settings:providers.unboundRefreshModelsSuccess")}),d&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:i("settings:providers.unboundInvalidApiKey")}),s.jsx(Ps,{apiConfiguration:e,defaultModelId:Xc,models:(r==null?void 0:r.unbound)??{},modelIdKey:"unboundModelId",serviceName:"Unbound",serviceUrl:"https://api.getunbound.ai/models",setApiConfigurationField:t,organizationAllowList:n,errorMessage:o,simplifySettings:a})]})},Rz=({apiConfiguration:e,setApiConfigurationField:t,simplifySettings:r})=>{var a;const{t:n}=oe(),o=h.useCallback((i,c=st)=>l=>{t(i,c(l))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("div",{children:n("settings:providers.googleCloudSetup.title")}),s.jsx("div",{children:s.jsx(Fe,{href:"https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/use-claude#before_you_begin",className:"text-sm",children:n("settings:providers.googleCloudSetup.step1")})}),s.jsx("div",{children:s.jsx(Fe,{href:"https://cloud.google.com/docs/authentication/provide-credentials-adc#google-idp",className:"text-sm",children:n("settings:providers.googleCloudSetup.step2")})}),s.jsx("div",{children:s.jsx(Fe,{href:"https://developers.google.com/workspace/guides/create-credentials?hl=en#service-account",className:"text-sm",children:n("settings:providers.googleCloudSetup.step3")})})]}),s.jsx(ce,{value:(e==null?void 0:e.vertexJsonCredentials)||"",onInput:o("vertexJsonCredentials"),placeholder:n("settings:placeholders.credentialsJson"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudCredentials")})}),s.jsx(ce,{value:(e==null?void 0:e.vertexKeyFile)||"",onInput:o("vertexKeyFile"),placeholder:n("settings:placeholders.keyFilePath"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudKeyFile")})}),s.jsx(ce,{value:(e==null?void 0:e.vertexProjectId)||"",onInput:o("vertexProjectId"),placeholder:n("settings:placeholders.projectId"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudProjectId")})}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudRegion")}),s.jsxs(Dt,{value:(e==null?void 0:e.vertexRegion)||"",onValueChange:i=>t("vertexRegion",i),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n("settings:common.select")})}),s.jsx(Bt,{children:VP.map(({value:i,label:c})=>s.jsx(Be,{value:i,children:c},i))})]})]}),!r&&((a=e.apiModelId)==null?void 0:a.startsWith("gemini"))&&s.jsxs("div",{className:"mt-6",children:[s.jsx(Pt,{"data-testid":"checkbox-url-context",checked:!!e.enableUrlContext,onChange:i=>t("enableUrlContext",i),children:n("settings:providers.geminiParameters.urlContext.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:n("settings:providers.geminiParameters.urlContext.description")}),s.jsx(Pt,{"data-testid":"checkbox-grounding-search",checked:!!e.enableGrounding,onChange:i=>t("enableGrounding",i),children:n("settings:providers.geminiParameters.groundingSearch.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:n("settings:providers.geminiParameters.groundingSearch.description")})]})]})},Cz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),[n,o]=h.useState([]),a=h.useCallback((c,l=st)=>d=>{t(c,l(d))},[t]),i=h.useCallback(c=>{const l=c.data;switch(l.type){case"vsCodeLmModels":{const d=l.vsCodeLmModels??[];o(d)}break}},[]);return tr("message",i),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.vscodeLmModel")}),n.length>0?s.jsxs(Dt,{value:e!=null&&e.vsCodeLmModelSelector?`${e.vsCodeLmModelSelector.vendor??""}/${e.vsCodeLmModelSelector.family??""}`:"",onValueChange:a("vsCodeLmModelSelector",c=>{const[l,d]=c.split("/");return{vendor:l,family:d}}),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:r("settings:common.select")})}),s.jsx(Bt,{children:n.map(c=>s.jsx(Be,{value:`${c.vendor}/${c.family}`,children:`${c.vendor} - ${c.family}`},`${c.vendor}/${c.family}`))})]}):s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("p",{children:r("settings:providers.vscodeLmUnavailable")}),s.jsx("p",{className:"mt-2",children:r("settings:providers.vscodeLmUnavailableInstructions")})]})]}),s.jsx("div",{className:"text-sm text-vscode-errorForeground",children:r("settings:providers.vscodeLmWarning")})]})},Oz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.xaiApiKey)||"",type:"password",onInput:n("xaiApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.xaiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.xaiApiKey)&&s.jsx(vt,{href:"https://api.x.ai/docs",appearance:"secondary",children:r("settings:providers.getXaiApiKey")})]})},Dz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=oe(),[i,c]=h.useState(!!(e!=null&&e.ovhCloudAiEndpointsBaseUrl)),l=h.useCallback((d,u=st)=>p=>{t(d,u(p))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.ovhCloudAiEndpointsApiKey)||"",type:"password",onInput:l("ovhCloudAiEndpointsApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.ovhCloudAiEndpointsApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.ovhCloudAiEndpointsApiKey)&&s.jsx(vt,{href:"https://www.ovh.com/manager",appearance:"secondary",children:a("settings:providers.getOvhCloudAiEndpointsApiKey")}),s.jsx(ze,{checked:i,onChange:d=>{const u=d.target.checked===!0;u||t("ovhCloudAiEndpointsBaseUrl",void 0),c(u)},children:a("settings:providers.getOvhCloudAiEndpointsBaseUrl")}),i&&s.jsx(ce,{value:(e==null?void 0:e.ovhCloudAiEndpointsBaseUrl)||"",type:"text",onInput:l("ovhCloudAiEndpointsBaseUrl"),placeholder:a("settings:providers.getOvhCloudAiEndpointsBaseUrl"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:a("settings:providers.ovhCloudAiEndpointsBaseUrl")})})}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Wc,models:(r==null?void 0:r.ovhcloud)??{},modelIdKey:"ovhCloudAiEndpointsModelId",serviceName:"OVHcloud AI Endpoints",serviceUrl:"https://endpoints.ai.cloud.ovh.net/catalog",organizationAllowList:n,errorMessage:o})]})},Fz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.geminiCliOAuthPath)||"",onInput:n("geminiCliOAuthPath"),placeholder:"~/.gemini/oauth_creds.json",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.geminiCli.oauthPath")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.geminiCli.oauthPathDescription")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-3",children:r("settings:providers.geminiCli.description")}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground mt-2",children:[r("settings:providers.geminiCli.instructions")," ",s.jsx("code",{className:"text-vscode-textPreformat-foreground",children:"gemini"})," ",r("settings:providers.geminiCli.instructionsContinued")]}),s.jsx(Fe,{href:"https://github.com/google-gemini/gemini-cli?tab=readme-ov-file#quickstart",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground mt-2 inline-block",children:r("settings:providers.geminiCli.setupLink")}),s.jsxs("div",{className:"mt-3 p-3 bg-vscode-editorWidget-background border border-vscode-editorWidget-border rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("i",{className:"codicon codicon-warning text-vscode-notificationsWarningIcon-foreground"}),s.jsx("span",{className:"font-semibold text-sm",children:r("settings:providers.geminiCli.requirementsTitle")})]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-vscode-descriptionForeground",children:[s.jsx("li",{children:r("settings:providers.geminiCli.requirement1")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement2")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement3")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement4")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement5")})]})]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("i",{className:"codicon codicon-check text-vscode-notificationsInfoIcon-foreground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.geminiCli.freeAccess")})]})]})},Lz=({profiles:e,availableProfiles:t,isAlertOpen:r,usageData:n,onProfileChange:o,onProfileSelect:a,onAddProfile:i,onRemoveProfile:c,onMoveProfileUp:l,onMoveProfileDown:d,onClearUsageData:u,onSetIsAlertOpen:p,getUsedProfileIds:m})=>{const{t:g}=bt();return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mb-0",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.title",children:"Virtual Quota Fallback Settings"})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-4",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.description",children:"Configure a list of profiles each with their own limits. When one profiles limits are reached, the next profile in the list will be used until none remain."})}),s.jsxs("div",{className:"space-y-1",children:[e.map((f,x)=>{const v=m(x),N=t.filter(y=>!v.includes(y.id));return s.jsxs("div",{className:"border border-vscode-settings-sashBorder rounded-md p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block font-medium",children:x===0?g("kilocode:virtualProvider.primaryProfileLabel",{number:x+1}):g("kilocode:virtualProvider.profileLabel",{number:x+1})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{appearance:"icon",onClick:()=>l(x),disabled:x===0,title:g("kilocode:virtualProvider.moveProfileUp"),children:s.jsx(Bc,{size:16})}),s.jsx(xt,{appearance:"icon",onClick:()=>d(x),disabled:x===e.length-1,title:g("kilocode:virtualProvider.moveProfileDown"),children:s.jsx(Vo,{size:16})}),e.length>1&&s.jsx(xt,{appearance:"icon",onClick:()=>c(x),title:g("kilocode:virtualProvider.removeProfile"),children:s.jsx(cI,{})})]})]}),s.jsx(Ko,{value:f.profileId||"",onValueChange:y=>a(x,y),disabled:N.length===0,options:N.map(y=>({value:y.id,label:y.name})),placeholder:g("kilocode:virtualProvider.selectProfilePlaceholder"),searchPlaceholder:g("settings:providers.searchPlaceholder"),emptyMessage:g("settings:providers.noMatchFound"),className:"w-full"}),s.jsx(Bz,{profile:f,index:x,onProfileChange:o,usage:f.profileId?n[f.profileId]:null})]},x)}),s.jsx("div",{className:"flex justify-center p-4",children:s.jsxs(xt,{appearance:"secondary",onClick:i,disabled:t.length<=e.length,children:[s.jsx(dI,{className:"mr-2"}),s.jsx(je,{i18nKey:"kilocode:virtualProvider.addProfile",children:"Add Profile"})]})}),t.length===0?s.jsx("div",{className:"text-sm text-vscode-descriptionForeground text-center p-4 border border-vscode-settings-sashBorder rounded-md",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.noProfilesAvailable",children:"No profile profiles available. Please configure at least one non-virtual profile profile first."})}):null]}),s.jsxs("div",{className:"p-4 border border-vscode-editorWarning-foreground rounded-md",children:[s.jsx("div",{className:"text-md font-semibold text-vscode-editorWarning-foreground",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.dangerZoneTitle",children:"Danger Zone"})}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground mt-1 mb-3",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.dangerZoneDescription",children:"These actions are destructive and cannot be undone."})}),s.jsx(xt,{appearance:"secondary",onClick:()=>p(!0),children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.clearUsageData",children:"Clear Usage Data"})})]}),s.jsx(Hr,{open:r,onOpenChange:p,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.confirmClearTitle",children:"Are you sure?"})}),s.jsx(Xr,{children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.confirmClearDescription",children:"This will permanently delete all stored usage data for virtual profiles. This action cannot be undone."})})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{children:s.jsx(je,{i18nKey:"common:cancel",children:"Cancel"})}),s.jsx(Sr,{onClick:u,children:s.jsx(je,{i18nKey:"common:confirm",children:"Confirm"})})]})]})})]})},Bz=({profile:e,index:t,onProfileChange:r,usage:n})=>{var i,c,l,d,u,p,m,g,f,x,v,N;const o=h.useCallback(y=>w=>{const b=st(w),k={...e,profileLimits:{...e.profileLimits,[y]:b===""?void 0:Number(b)}};r(t,k)},[e,t,r]),a=h.useCallback((y,w,b)=>{var j;const k=(j=e.profileLimits)==null?void 0:j[y];if(!k||!n)return null;const _=n[b][w];return s.jsx("div",{className:"mt-1",children:s.jsx(QR,{label:"",currentValue:_,limitValue:k})})},[e.profileLimits,n]);return e.profileId?s.jsxs("div",{className:"space-y-4 p-2 rounded-md mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.tokensLabel",children:"Tokens"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perMinute",children:"Per Minute"})}),s.jsx(ce,{value:((c=(i=e.profileLimits)==null?void 0:i.tokensPerMinute)==null?void 0:c.toString())??"",onInput:o("tokensPerMinute"),className:"[--input-min-width:100%]"}),a("tokensPerMinute","tokens","minute")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perHour",children:"Per Hour"})}),s.jsx(ce,{value:((d=(l=e.profileLimits)==null?void 0:l.tokensPerHour)==null?void 0:d.toString())??"",onInput:o("tokensPerHour"),className:"[--input-min-width:100%]"}),a("tokensPerHour","tokens","hour")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perDay",children:"Per Day"})}),s.jsx(ce,{value:((p=(u=e.profileLimits)==null?void 0:u.tokensPerDay)==null?void 0:p.toString())??"",onInput:o("tokensPerDay"),className:"[--input-min-width:100%]"}),a("tokensPerDay","tokens","day")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.requestsLabel",children:"Requests"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perMinute",children:"Per Minute"})}),s.jsx(ce,{value:((g=(m=e.profileLimits)==null?void 0:m.requestsPerMinute)==null?void 0:g.toString())??"",onInput:o("requestsPerMinute"),className:"[--input-min-width:100%]"}),a("requestsPerMinute","requests","minute")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perHour",children:"Per Hour"})}),s.jsx(ce,{value:((x=(f=e.profileLimits)==null?void 0:f.requestsPerHour)==null?void 0:x.toString())??"",onInput:o("requestsPerHour"),className:"[--input-min-width:100%]"}),a("requestsPerHour","requests","hour")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(je,{i18nKey:"kilocode:virtualProvider.perDay",children:"Per Day"})}),s.jsx(ce,{value:((N=(v=e.profileLimits)==null?void 0:v.requestsPerDay)==null?void 0:N.toString())??"",onInput:o("requestsPerDay"),className:"[--input-min-width:100%]"}),a("requestsPerDay","requests","day")]})]})]})]}):null},zz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{listApiConfigMeta:r,currentApiConfigName:n}=Ge(),[o,a]=h.useState(!1),[i,c]=h.useState({}),l=r==null?void 0:r.find(_=>_.name===n),d=l==null?void 0:l.id,u=h.useMemo(()=>(r==null?void 0:r.filter(_=>_.apiProvider!=="virtual-quota-fallback"&&_.id!==d))||[],[r,d]),p=h.useMemo(()=>e.profiles&&e.profiles.length>0?e.profiles:[{}],[e.profiles]),m=h.useCallback(_=>{t("profiles",_)},[t]),g=h.useCallback((_,j)=>{const T=[...p];T[_]=j,m(T)},[p,m]),f=h.useCallback((_,j)=>{const T=u.find(S=>S.id===j);if(T){const S={...p[_],profileId:T.id,profileName:T.name};g(_,S)}},[u,p,g]),x=h.useCallback(()=>{const _=[...p,{}];m(_)},[p,m]),v=h.useCallback(_=>{if(p.length>1){const j=p.filter((T,S)=>S!==_);m(j)}},[p,m]),N=h.useCallback((_,j)=>{const T=[...p],S=T[_];T[_]=T[j],T[j]=S,m(T)},[p,m]),y=h.useCallback(_=>{_>0&&N(_,_-1)},[N]),w=h.useCallback(_=>{_<p.length-1&&N(_,_+1)},[p.length,N]),b=h.useCallback(()=>{A.postMessage({type:"clearUsageData"}),a(!1)},[]),k=h.useCallback(_=>p.map((j,T)=>T!==_?j.profileId:null).filter(j=>!!j),[p]);return h.useEffect(()=>{const _=j=>{const T=j.data;T.type==="usageDataResponse"&&T.text&&c(S=>({...S,[T.text]:T.values}))};return window.addEventListener("message",_),()=>{window.removeEventListener("message",_)}},[]),h.useEffect(()=>{p.forEach(_=>{_.profileId&&A.postMessage({type:"getUsageData",text:_.profileId})})},[p]),s.jsx(Lz,{profiles:p,availableProfiles:u,isAlertOpen:o,usageData:i,onProfileChange:g,onProfileSelect:f,onAddProfile:x,onRemoveProfile:v,onMoveProfileUp:y,onMoveProfileDown:w,onClearUsageData:b,onSetIsAlertOpen:a,getUsedProfileIds:k})},qz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,refetchRouterModels:n,organizationAllowList:o,modelValidationError:a})=>{const{t:i}=oe(),[c,l]=h.useState(),d=h.useCallback((u,p=st)=>m=>{t(u,p(m))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.inceptionLabsApiKey)||"",type:"password",onInput:d("inceptionLabsApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.apiKey")})}),s.jsx(ce,{value:(e==null?void 0:e.inceptionLabsBaseUrl)||"",onInput:d("inceptionLabsBaseUrl"),placeholder:"https://api.inceptionlabs.ai/",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:"Base URL (optional)"})}),s.jsx(ae,{variant:"outline",onClick:()=>{A.postMessage({type:"flushRouterModels",text:"inception"}),n(),l(!0)},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),i("settings:providers.refreshModels.label")]})}),c&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:i("settings:providers.refreshModels.hint")}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Hc,models:(r==null?void 0:r.inception)??{},modelIdKey:"inceptionLabsModelId",serviceName:"Inception",serviceUrl:"https://inceptionlabs.ai/models",organizationAllowList:o,errorMessage:a})]})},Uz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=oe(),i=h.useCallback((c,l=st)=>d=>{t(c,l(d))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.syntheticApiKey)||"",type:"password",onInput:i("syntheticApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.syntheticApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.syntheticApiKey)&&s.jsx(vt,{href:"https://synthetic.new/",appearance:"secondary",children:a("settings:providers.getSyntheticApiKey")}),s.jsx(s.Fragment,{children:s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:$c,models:(r==null?void 0:r.synthetic)??{},modelIdKey:"apiModelId",serviceName:"Synthetic",serviceUrl:"https://synthetic.new/",organizationAllowList:n,errorMessage:o})})]})},Kz=["sapAiCoreServiceKey","sapAiCoreResourceGroup","sapAiCoreUseOrchestration"],Wz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),[n,o]=h.useState({}),[a,i]=h.useState({}),[c,l]=h.useState(!1),[d,u]=h.useState(!1),p=h.useMemo(()=>({sapAiCoreServiceKey:e.sapAiCoreServiceKey||"",sapAiCoreResourceGroup:e.sapAiCoreResourceGroup||"",sapAiCoreUseOrchestration:e.sapAiCoreUseOrchestration||!1}),[e]),m=h.useCallback(()=>{l(!0),A.postMessage({type:"requestSapAiCoreModels",values:p})},[p]),g=h.useCallback(()=>{l(!0),A.postMessage({type:"requestSapAiCoreDeployments",values:p})},[p]),f=h.useCallback(()=>{["sapAiCoreModelId","sapAiCoreCustomModelInfo","sapAiCoreDeploymentId"].forEach(S=>t(S,void 0))},[t]),x=h.useCallback((T,S=st)=>I=>{t(T,S(I)),Kz.includes(T)&&(f(),m(),g())},[t,m,g,f]);h.useEffect(()=>{m(),g()},[m,g]);const v=h.useCallback(T=>{const S=T.data;switch(S.type){case"sapAiCoreModels":o(S.sapAiCoreModels||{}),l(!1);break;case"sapAiCoreDeployments":i(S.sapAiCoreDeployments||{}),l(!1);break}},[]);tr("message",v);const N=T=>{t("sapAiCoreModelId",T),t("sapAiCoreCustomModelInfo",n[T]),t("sapAiCoreDeploymentId",void 0)},y=T=>{t("sapAiCoreDeploymentId",T)},w=T=>{f(),t("sapAiCoreUseOrchestration",T)},b=h.useCallback(T=>Object.values(a).filter(S=>S.model===T),[a]),k=h.useCallback(T=>b(T).length>0,[b]),_=h.useMemo(()=>Object.keys(n).map(T=>({value:T,label:T,disabled:!e.sapAiCoreUseOrchestration&&!k(T)})).sort((T,S)=>!e.sapAiCoreUseOrchestration&&T.disabled!==S.disabled?T.disabled?1:-1:T.label.localeCompare(S.label)),[n,e.sapAiCoreUseOrchestration,k]),j=h.useMemo(()=>e.sapAiCoreModelId?b(e.sapAiCoreModelId).sort((T,S)=>+(S.targetStatus==="RUNNING")-+(T.targetStatus==="RUNNING")).map(T=>({value:T.id,label:T.targetStatus==="RUNNING"?T.id:`${T.id} (${T.targetStatus.toLowerCase()})`,disabled:T.targetStatus!=="RUNNING"})):[],[e.sapAiCoreModelId,b]);return s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"sap-ai-core-service-key",className:"block font-medium mb-1",children:r("settings:providers.sapAiCore.serviceKey")}),s.jsx(_r,{id:"sap-ai-core-service-key",type:"text",value:e.sapAiCoreServiceKey||"",onInput:x("sapAiCoreServiceKey"),placeholder:r("settings:providers.sapAiCore.serviceKeyJson")})]}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:[r("settings:providers.sapAiCore.credentialsNote")," ",s.jsx(Fe,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/enabling-service-in-cloud-foundry",target:"_blank",children:r("settings:providers.sapAiCore.learnMore")})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"sap-ai-core-resource-group",className:"block font-medium mb-1",children:r("settings:providers.sapAiCore.resourceGroup")}),s.jsx(_r,{id:"sap-ai-core-resource-group",type:"text",value:e.sapAiCoreResourceGroup||"",onInput:x("sapAiCoreResourceGroup"),placeholder:"default"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mc,{id:"sap-ai-core-orchestration",checked:e.sapAiCoreUseOrchestration??!1,onCheckedChange:w}),s.jsx("label",{htmlFor:"sap-ai-core-orchestration",children:r("settings:providers.sapAiCore.orchestrationMode")})]}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:[s.jsx("div",{className:"mb-1",children:r("settings:providers.sapAiCore.orchestrationEnabledDesc")}),s.jsx("div",{children:r("settings:providers.sapAiCore.orchestrationDisabledDesc")})]}),!e.sapAiCoreUseOrchestration&&s.jsxs("div",{className:"mt-3 p-3 bg-vscode-editorWidget-background border border-vscode-editorWidget-border rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("i",{className:"codicon codicon-warning text-vscode-notificationsWarningIcon-foreground"}),s.jsx("span",{className:"font-semibold text-sm",children:r("settings:providers.sapAiCore.supportedProviders")})]}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.sapAiCore.supportedProvidersDesc1")}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-vscode-descriptionForeground",children:s.jsx("li",{children:r("settings:codeIndex.openaiProvider")})}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.sapAiCore.supportedProvidersDesc2")}),s.jsx("div",{className:"mt-2",children:s.jsx(Fe,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/orchestration-8d022355037643cebf775cd3bf662cc5",target:"_blank",children:r("settings:providers.sapAiCore.supportedProvidersDesc3")})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.model"),c?s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.loading")}):s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.modelsCount",{count:Object.keys(n).length})})]}),s.jsx(Ko,{value:(e==null?void 0:e.sapAiCoreModelId)||"",onValueChange:N,options:_,placeholder:r("settings:providers.sapAiCore.selectModel"),searchPlaceholder:r("settings:providers.sapAiCore.searchModels"),emptyMessage:r("settings:providers.sapAiCore.noModelsFound"),disabled:c})]}),!e.sapAiCoreUseOrchestration&&!e.sapAiCoreModelId&&s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:s.jsx("div",{className:"mb-1",children:r("settings:providers.sapAiCore.modelDeploymentDesc")})}),!e.sapAiCoreUseOrchestration&&e.sapAiCoreModelId&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.sapAiCore.deployment"),c?s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.loading")}):s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.deploymentsCount",{count:b(e.sapAiCoreModelId).length})})]}),s.jsx(Ko,{value:(e==null?void 0:e.sapAiCoreDeploymentId)||"",onValueChange:y,options:j,placeholder:k(e.sapAiCoreModelId)?r("settings:providers.sapAiCore.selectDeployment"):r("settings:providers.sapAiCore.noDeploymentFound"),searchPlaceholder:r("settings:providers.sapAiCore.searchDeployments"),emptyMessage:r("settings:providers.sapAiCore.noDeploymentFound"),disabled:!k(e.sapAiCoreModelId)})]}),e.sapAiCoreModelId&&s.jsx(kx,{apiProvider:e.apiProvider,selectedModelId:e.sapAiCoreModelId,modelInfo:n[e.sapAiCoreModelId],isDescriptionExpanded:d,setIsDescriptionExpanded:u}),s.jsx("div",{className:"mt-2",children:s.jsx(Fe,{href:"https://help.sap.com/docs/sap-ai-core",target:"_blank",children:r("settings:providers.sapAiCore.getStarted")})})]})},$z=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.zaiEntrypoint")}),s.jsx($s,{value:e.zaiApiLine||Cx.enum.international_coding,onChange:n("zaiApiLine"),className:ee("w-full"),children:Cx.options.map(o=>{const a=cv[o];return s.jsxs(yt,{value:o,className:"p-2",children:[a.name," (",a.baseUrl,")"]},o)})}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.zaiEntrypointDescription")})]}),s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.zaiApiKey)||"",type:"password",onInput:n("zaiApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.zaiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.zaiApiKey)&&s.jsx(vt,{href:cv[e.zaiApiLine??"international_coding"].isChina?"https://open.bigmodel.cn/console/overview":"https://z.ai/manage-apikey/apikey-list",appearance:"secondary",children:r("settings:providers.getZaiApiKey")})]})]})},Hz=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{const{t:a}=oe(),{routerModels:i}=Ge(),[c,l]=h.useState("idle"),[d,u]=h.useState(),p=h.useRef(!1);h.useEffect(()=>{const f=x=>{var N;const v=x.data;v.type==="singleRouterModelFetchResponse"&&!v.success?((N=v.values)==null?void 0:N.provider)==="litellm"&&(p.current=!0,l("error"),u(v.error)):v.type==="routerModels"&&c==="loading"&&(p.current||l("success"))};return window.addEventListener("message",f),()=>{window.removeEventListener("message",f)}},[c,d,l,u]);const m=h.useCallback((f,x=st)=>v=>{t(f,x(v))},[t]),g=h.useCallback(()=>{p.current=!1,l("loading"),u(void 0);const f=e.litellmApiKey,x=e.litellmBaseUrl;if(!f||!x){l("error"),u(a("settings:providers.refreshModels.missingConfig"));return}A.postMessage({type:"requestRouterModels",values:{litellmApiKey:f,litellmBaseUrl:x}})},[e,l,u,a]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.litellmBaseUrl)||"",onInput:m("litellmBaseUrl"),placeholder:a("settings:placeholders.baseUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.litellmBaseUrl")})}),s.jsx(ce,{value:(e==null?void 0:e.litellmApiKey)||"",type:"password",onInput:m("litellmApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.litellmApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),s.jsx(ae,{variant:"outline",onClick:g,disabled:c==="loading"||!e.litellmApiKey||!e.litellmBaseUrl,className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[c==="loading"?s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin"}):s.jsx("span",{className:"codicon codicon-refresh"}),a("settings:providers.refreshModels.label")]})}),c==="loading"&&s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.refreshModels.loading")}),c==="success"&&s.jsx("div",{className:"text-sm text-vscode-foreground",children:a("settings:providers.refreshModels.success")}),c==="error"&&s.jsx("div",{className:"text-sm text-vscode-errorForeground",children:d||a("settings:providers.refreshModels.error")}),s.jsx(Ps,{apiConfiguration:e,defaultModelId:Ti,models:(i==null?void 0:i.litellm)??{},modelIdKey:"litellmModelId",serviceName:"LiteLLM",serviceUrl:"https://docs.litellm.ai/",setApiConfigurationField:t,organizationAllowList:r,errorMessage:n,simplifySettings:o}),(()=>{var v;const f=e.litellmModelId||Ti,x=(v=i==null?void 0:i.litellm)==null?void 0:v[f];return x!=null&&x.supportsPromptCache?s.jsxs("div",{className:"mt-4",children:[s.jsx(ze,{checked:e.litellmUsePromptCache||!1,onChange:N=>{t("litellmUsePromptCache",N.target.checked)},children:s.jsx("span",{className:"font-medium",children:a("settings:providers.enablePromptCaching")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1",children:a("settings:providers.enablePromptCachingTitle")})]}):null})()]})},Vz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.fireworksApiKey)||"",type:"password",onInput:n("fireworksApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.fireworksApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.fireworksApiKey)&&s.jsx(vt,{href:"https://fireworks.ai/",appearance:"secondary",children:r("settings:providers.getFireworksApiKey")})]})},Gz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.featherlessApiKey)||"",type:"password",onInput:n("featherlessApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.featherlessApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.featherlessApiKey)&&s.jsx(vt,{href:"https://featherless.ai/account/api-keys",appearance:"secondary",children:r("settings:providers.getFeatherlessApiKey")})]})},Qz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=oe(),c=h.useCallback((l,d=st)=>u=>{t(l,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.vercelAiGatewayApiKey)||"",type:"password",onInput:c("vercelAiGatewayApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.vercelAiGatewayApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.vercelAiGatewayApiKey)&&s.jsx(vt,{href:"https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys&title=AI+Gateway+API+Key",appearance:"primary",style:{width:"100%"},children:i("settings:providers.getVercelAiGatewayApiKey")}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:_g,models:(r==null?void 0:r["vercel-ai-gateway"])??{},modelIdKey:"vercelAiGatewayModelId",serviceName:"Vercel AI Gateway",serviceUrl:"https://vercel.com/ai-gateway/models",organizationAllowList:n,errorMessage:o,simplifySettings:a})]})},Yz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,refetchRouterModels:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:c}=oe(),[l,d]=h.useState(),u=h.useCallback((p,m=st)=>g=>{t(p,m(g))},[t]);return h.useEffect(()=>{},[e.deepInfraBaseUrl,e.deepInfraApiKey]),s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.deepInfraApiKey)||"",type:"password",onInput:u("deepInfraApiKey"),placeholder:c("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:c("settings:providers.apiKey")})}),s.jsx(ae,{variant:"outline",onClick:()=>{A.postMessage({type:"flushRouterModels",text:"deepinfra"}),n(),d(!0)},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),c("settings:providers.refreshModels.label")]})}),l&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:c("settings:providers.refreshModels.hint")}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Jc,models:(r==null?void 0:r.deepinfra)??{},modelIdKey:"deepInfraModelId",serviceName:"Deep Infra",serviceUrl:"https://deepinfra.com/models",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},Xz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.minimaxBaseUrl")}),s.jsxs($s,{value:e.minimaxBaseUrl,onChange:n("minimaxBaseUrl"),className:ee("w-full"),children:[s.jsx(yt,{value:"https://api.minimax.io/anthropic",className:"p-2",children:"api.minimax.io"}),s.jsx(yt,{value:"https://api.minimaxi.com/anthropic",className:"p-2",children:"api.minimaxi.com"})]})]}),s.jsxs("div",{children:[s.jsx(ce,{value:(e==null?void 0:e.minimaxApiKey)||"",type:"password",onInput:n("minimaxApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.minimaxApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.minimaxApiKey)&&s.jsx(vt,{href:e.minimaxBaseUrl==="https://api.minimaxi.com/anthropic"?"https://platform.minimaxi.com/user-center/basic-information/interface-key":"https://www.minimax.io/platform/user-center/basic-information/interface-key",appearance:"secondary",children:r("settings:providers.getMiniMaxApiKey")})]})]})},Jz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useCallback((o,a=st)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.basetenApiKey)||"",type:"password",onInput:n("basetenApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.basetenApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.basetenApiKey)&&s.jsx(vt,{href:"https://app.baseten.co/settings/api_keys",appearance:"secondary",children:r("settings:providers.getBasetenApiKey")})]})},Zz={anthropic:Cc,"claude-code":Of,bedrock:Lf,cerebras:tg,deepseek:rg,doubao:Ff,moonshot:mg,"gemini-cli":lg,mistral:ug,"openai-native":fg,"qwen-code":xg,vertex:wg,xai:jg,groq:dg,sambanova:bg,zai:Sg,fireworks:ig,roo:xT,featherless:ng,minimax:Df,baseten:Jf},If=[{value:"openrouter",label:"OpenRouter"},{value:"deepinfra",label:"DeepInfra"},{value:"anthropic",label:"Anthropic"},{value:"claude-code",label:"Claude Code"},{value:"cerebras",label:"Cerebras"},{value:"gemini",label:"Google Gemini"},{value:"doubao",label:"Doubao"},{value:"inception",label:"Inception"},{value:"gemini-cli",label:"Gemini CLI"},{value:"virtual-quota-fallback",label:"Virtual Quota Fallback"},{value:"synthetic",label:"Synthetic"},{value:"ovhcloud",label:"OVHcloud AI Endpoints"},{value:"sap-ai-core",label:"SAP AI Core"},{value:"deepseek",label:"DeepSeek"},{value:"moonshot",label:"Moonshot"},{value:"openai-native",label:"OpenAI"},{value:"openai",label:"OpenAI Compatible"},{value:"qwen-code",label:"Qwen Code"},{value:"vertex",label:"GCP Vertex AI"},{value:"bedrock",label:"Amazon Bedrock"},{value:"glama",label:"Glama"},{value:"nano-gpt",label:"Nano-GPT"},{value:"vscode-lm",label:"VS Code LM API"},{value:"mistral",label:"Mistral"},{value:"lmstudio",label:"LM Studio"},{value:"ollama",label:"Ollama"},{value:"unbound",label:"Unbound"},{value:"requesty",label:"Requesty"},{value:"human-relay",label:"Human Relay"},{value:"xai",label:"xAI (Grok)"},{value:"groq",label:"Groq"},{value:"huggingface",label:"Hugging Face"},{value:"chutes",label:"Chutes AI"},{value:"litellm",label:"LiteLLM"},{value:"sambanova",label:"SambaNova"},{value:"zai",label:"Z.ai"},{value:"fireworks",label:"Fireworks AI"},{value:"featherless",label:"Featherless AI"},{value:"io-intelligence",label:"IO Intelligence"},{value:"vercel-ai-gateway",label:"Vercel AI Gateway"},{value:"minimax",label:"MiniMax"},{value:"baseten",label:"Baseten"}].sort((e,t)=>e.label.localeCompare(t.label));If.unshift({value:"kilocode",label:"Kilo Gateway"});const eq=({apiConfiguration:e,setApiConfigurationField:t,modelInfo:r})=>{const{t:n}=oe();return r?s.jsxs("div",{className:"flex flex-col gap-1","data-testid":"verbosity",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.verbosity.label")})}),s.jsxs(Dt,{value:e.verbosity||"medium",onValueChange:o=>t("verbosity",o),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:n("settings:common.select")})}),s.jsx(Bt,{children:vT.map(o=>s.jsx(Be,{value:o,children:n(`settings:providers.verbosity.${o}`)},o))})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:n("settings:providers.verbosity.description")})]}):null},tq=({diffEnabled:e=!0,fuzzyMatchThreshold:t=1,onChange:r})=>{const{t:n}=oe(),o=h.useCallback(i=>{r("diffEnabled",i.target.checked)},[r]),a=h.useCallback(i=>{r("fuzzyMatchThreshold",i[0])},[r]);return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:o,children:s.jsx("span",{className:"font-medium",children:n("settings:advanced.diff.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:n("settings:advanced.diff.description")})]}),e&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:advanced.diff.matchPrecision.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:.8,max:1,step:.005,value:[t],onValueChange:a}),s.jsxs("span",{className:"w-10",children:[Math.round(t*100),"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:n("settings:advanced.diff.matchPrecision.description")})]})})]})},sq=({todoListEnabled:e=!0,onChange:t})=>{const{t:r}=oe(),n=h.useCallback(o=>{t("todoListEnabled",o.target.checked)},[t]);return s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:n,children:s.jsx("span",{className:"font-medium",children:r("settings:advanced.todoList.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:r("settings:advanced.todoList.description")})]})})},rq=({value:e,onChange:t,maxValue:r=1,defaultValue:n})=>{const{t:o}=oe(),[a,i]=h.useState(e!==void 0),[c,l]=h.useState(e);return Th(()=>t(c),50,[t,c]),h.useEffect(()=>{const d=e!=null;i(d),l(e)},[e]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:a,onChange:d=>{const u=d.target.checked;i(u),l(u?e??n??0:null)},children:s.jsx("label",{className:"block font-medium mb-1",children:o("settings:temperature.useCustom")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o("settings:temperature.description")})]}),a&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:r,step:.01,value:[c??0],onValueChange:([d])=>l(d)}),s.jsx("span",{className:"w-10",children:c})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:o("settings:temperature.rangeDescription")})]})})]})},nq=({value:e,onChange:t})=>{const{t:r}=oe();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.rateLimitSeconds.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{value:[e],min:0,max:60,step:1,onValueChange:n=>t(n[0])}),s.jsxs("span",{className:"w-10",children:[e,"s"]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.rateLimitSeconds.description",{value:e})})]})},oq=({value:e,onChange:t})=>{const{t:r}=oe();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.consecutiveMistakeLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{value:[e??Ul],min:0,max:10,step:1,onValueChange:n=>t(Math.max(0,n[0]))}),s.jsx("span",{className:"w-10",children:Math.max(0,e??Ul)})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:e===0?r("settings:providers.consecutiveMistakeLimit.unlimitedDescription"):r("settings:providers.consecutiveMistakeLimit.description",{value:e??Ul})}),e===0&&s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-1",children:r("settings:providers.consecutiveMistakeLimit.warning")})]})},aq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=oe(),n=h.useMemo(()=>{const{awsCustomArn:o,awsRegion:a}=e;return o?YF(o,a):{isValid:!0,errorMessage:void 0}},[e]);return s.jsxs(s.Fragment,{children:[s.jsx(ce,{value:(e==null?void 0:e.awsCustomArn)||"",onInput:o=>t("awsCustomArn",o.target.value),placeholder:r("settings:placeholders.customArn"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:labels.customArn")})}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:[r("settings:providers.awsCustomArnUse"),s.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[s.jsx("li",{children:"arn:aws:bedrock:eu-west-1:123456789012:inference-profile/eu.anthropic.claude-3-7-sonnet-20250219-v1:0"}),s.jsx("li",{children:"arn:aws:bedrock:us-west-2:123456789012:provisioned-model/my-provisioned-model"}),s.jsx("li",{children:"arn:aws:bedrock:us-east-1:123456789012:default-prompt-router/anthropic.claude:1"})]}),r("settings:providers.awsCustomArnDesc")]}),n.isValid?n.errorMessage&&s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-2",children:n.errorMessage}):s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-2",children:n.errorMessage||r("settings:providers.invalidArnFormat")})]})};function hS(e,t){const[r,n]=h.useState("");return h.useEffect(()=>{const o=a=>{var i,c,l;if(a.data.type==="profileDataResponse"){const d=a.data.payload,u=(d==null?void 0:d.success)||!1,p=((i=d==null?void 0:d.data)==null?void 0:i.kilocodeToken)||"",m=((l=(c=d==null?void 0:d.data)==null?void 0:c.user)==null?void 0:l.email)||"";u?p!==e?console.error("KILOTEL: Failed to identify Kilo user, token mismatch:",d):m?(console.debug("KILOTEL: Kilo user identified:",m),n(m),window.removeEventListener("message",o)):console.error("KILOTEL: Failed to identify Kilo user, email missing:",d):console.error("KILOTEL: Failed to identify Kilo user, message doesn't indicate success:",d)}};return e?(console.debug("KILOTEL: fetching profile..."),window.addEventListener("message",o),A.postMessage({type:"fetchProfileDataRequest"})):(console.debug("KILOTEL: no Kilo user"),n("")),()=>{window.removeEventListener("message",o)}},[e]),r||t}const iq=({apiConfiguration:e,setApiConfigurationField:t,currentApiConfigName:r,hideKiloCodeButton:n,routerModels:o,organizationAllowList:a,kilocodeDefaultModel:i})=>{const{t:c}=oe(),l=h.useCallback((g,f=st)=>x=>{t(g,f(x))},[t]),u=hS(e.kilocodeToken||"","").endsWith("@kilo.ai"),p=e.kilocodeTesterWarningsDisabledUntil?e.kilocodeTesterWarningsDisabledUntil>Date.now():!1,m=h.useCallback(()=>{const g=Date.now()+(p?0:864e5);t("kilocodeTesterWarningsDisabledUntil",g)},[p,t]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("label",{className:"block font-medium -mb-2",children:c("kilocode:settings.provider.account")})}),!n&&(e.kilocodeToken?s.jsx("div",{children:s.jsx(ae,{variant:"secondary",onClick:async()=>{t("kilocodeToken",""),A.postMessage({type:"upsertApiConfiguration",text:r,apiConfiguration:{...e,kilocodeToken:"",kilocodeOrganizationId:void 0}})},children:c("kilocode:settings.provider.logout")})}):s.jsx(ae,{variant:"secondary",onClick:()=>{A.postMessage({type:"switchTab",tab:"auth",values:{returnTo:"settings",profileName:r}})},children:c("kilocode:settings.provider.login")})),s.jsx(ce,{value:(e==null?void 0:e.kilocodeToken)||"",type:"password",onInput:l("kilocodeToken"),placeholder:c("kilocode:settings.provider.apiKey"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:c("kilocode:settings.provider.apiKey")})})}),s.jsx(Hg,{showLabel:!0}),s.jsx(Ps,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:i,models:(o==null?void 0:o.kilocode)??{},modelIdKey:"kilocodeModel",serviceName:"Kilo Code",serviceUrl:jr(),organizationAllowList:a}),u&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-medium mb-2",children:"Disable KILOCODE-TESTER warnings"}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:p?`Warnings disabled until ${new Date(e.kilocodeTesterWarningsDisabledUntil||0).toLocaleString()}`:"KILOCODE-TESTER warnings are currently enabled"}),s.jsx(ae,{variant:"secondary",onClick:m,className:"text-sm",children:p?"Enable warnings now":"Disable warnings for 1 day"})]})]})},lq=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!1),[o,a]=h.useState(null);return h.useEffect(()=>{n(!0);const i=`roo-balance-${Date.now()}`,c=d=>{var p,m;const u=d.data;u.type==="rooCreditBalance"&&u.requestId===i&&(window.removeEventListener("message",c),clearTimeout(l),((p=u.values)==null?void 0:p.balance)!==void 0?(t(u.values.balance),a(null)):(m=u.values)!=null&&m.error&&(a(u.values.error),t(null)),n(!1))},l=setTimeout(()=>{window.removeEventListener("message",c),n(!1),a("Request timed out")},1e4);return window.addEventListener("message",c),A.postMessage({type:"requestRooCreditBalance",requestId:i}),()=>{window.removeEventListener("message",c),clearTimeout(l)}},[]),{data:e,isLoading:r,error:o}},cq=()=>{const{data:e}=lq(),{cloudApiUrl:t}=Ge();if(e==null)return null;const r=e.toFixed(2),n=t?`${t.replace(/\/$/,"")}/billing`:"https://app.roocode.com/billing";return s.jsxs(Fe,{href:n,className:"text-vscode-foreground hover:underline whitespace-nowrap",children:["$",r]})},rc="default",gi="specific",Hm="zdr",oa=({value:e,children:t})=>s.jsx(Be,{value:JSON.stringify(e),children:t}),dq=e=>e.openRouterSpecificProvider&&e.openRouterSpecificProvider!==yi?{type:gi,provider:e.openRouterSpecificProvider}:{type:e.openRouterProviderSort??rc},uq=e=>{const{t}=oe();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:t("kilocode:settings.provider.providerRouting.title")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(vt,{href:jr(`/organizations/${e.organizationId}`),appearance:"secondary",className:"text-sm w-full whitespace-normal h-auto py-3",children:t("kilocode:settings.provider.providerRouting.managedByOrganization")})})]})},pq=({apiConfiguration:e,setApiConfigurationField:t,kilocodeDefaultModel:r})=>{const{t:n}=oe(),o=Object.values(Rg(r,e).data??{}),a=l=>{const d=dr(l);t("openRouterProviderSort",hl.safeParse(d==null?void 0:d.type).data),t("openRouterSpecificProvider",(d==null?void 0:d.type)===gi?d.provider:yi)},i=e.openRouterSpecificProvider,c=!!i&&i!==yi&&!o.find(l=>l.label===i);return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("kilocode:settings.provider.providerRouting.title")})}),s.jsxs(Dt,{value:JSON.stringify(dq(e)),onValueChange:a,children:[s.jsx(Lt,{className:ee("w-full",c&&"border-destructive border-3"),children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(oa,{value:{type:rc},children:n("kilocode:settings.provider.providerRouting.sorting.default")}),s.jsx(oa,{value:{type:hl.Values.price},children:n("kilocode:settings.provider.providerRouting.sorting.price")}),s.jsx(oa,{value:{type:hl.Values.throughput},children:n("kilocode:settings.provider.providerRouting.sorting.throughput")}),s.jsx(oa,{value:{type:hl.Values.latency},children:n("kilocode:settings.provider.providerRouting.sorting.latency")}),s.jsx(K_,{}),c&&s.jsx(oa,{value:{type:gi,provider:i},children:i}),o.map(l=>s.jsx(oa,{value:{type:gi,provider:l.label},children:l.label},`${gi}:${l.label}`))]})]}),s.jsxs(Dt,{value:e.openRouterZdr?Hm:e.openRouterProviderDataCollection??rc,onValueChange:l=>{t("openRouterProviderDataCollection",Pd.safeParse(l).data),t("openRouterZdr",l===Hm||void 0)},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:rc,children:e.apiProvider==="kilocode"?n("kilocode:settings.provider.providerRouting.dataCollection.allowFree"):n("kilocode:settings.provider.providerRouting.dataCollection.default")}),s.jsx(Be,{value:Pd.Values.allow,children:n("kilocode:settings.provider.providerRouting.dataCollection.allow")}),s.jsx(Be,{value:Pd.Values.deny,children:n("kilocode:settings.provider.providerRouting.dataCollection.deny")}),s.jsx(Be,{value:Hm,children:n("kilocode:settings.provider.providerRouting.dataCollection.zdr")})]})]}),e.apiProvider==="kilocode"&&s.jsx(vt,{onClick:()=>{Yt.capture(Ts.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"provider-routing"})},href:jr("/organizations/new"),appearance:"primary",className:"text-sm w-full whitespace-normal h-auto py-3",children:n("kilocode:settings.provider.providerRouting.createOrganization")})]})},mq=({rateLimitAfterEnabled:e=!1,onChange:t})=>{const{t:r}=oe(),n=h.useCallback(o=>{t("rateLimitAfter",o.target.checked)},[t]);return s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:n,children:s.jsx("span",{className:"font-medium",children:r("settings:providers.rateLimitAfter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:r("settings:providers.rateLimitAfter.description")})]})})},hq=({uriScheme:e,apiConfiguration:t,setApiConfigurationField:r,fromWelcomeView:n,errorMessage:o,setErrorMessage:a,hideKiloCodeButton:i=!1,currentApiConfigName:c})=>{const{t:l}=oe(),{organizationAllowList:d,kilocodeDefaultModel:u,cloudIsAuthenticated:p}=Ge(),[m,g]=h.useState(()=>{const q=(t==null?void 0:t.openAiHeaders)||{};return Object.entries(q)});h.useEffect(()=>{const q=(t==null?void 0:t.openAiHeaders)||{};JSON.stringify(m)!==JSON.stringify(Object.entries(q))&&g(Object.entries(q))},[t==null?void 0:t.openAiHeaders,m]),Th(()=>{const q=(t==null?void 0:t.openAiHeaders)||{},B=bf(m);JSON.stringify(q)!==JSON.stringify(B)&&r("openAiHeaders",B)},300,[m,t==null?void 0:t.openAiHeaders,r]);const[f,x]=h.useState(!1),[v,N]=h.useState(!1),y=h.useCallback((q,B=st)=>U=>{r(q,B(U))},[r]),{provider:w,id:b,info:k}=lo(t),{data:_,refetch:j}=Qi({openRouterBaseUrl:t==null?void 0:t.openRouterBaseUrl,openRouterApiKey:t==null?void 0:t.openRouterApiKey,kilocodeOrganizationId:(t==null?void 0:t.kilocodeOrganizationId)??"personal",deepInfraApiKey:t==null?void 0:t.deepInfraApiKey,geminiApiKey:t==null?void 0:t.geminiApiKey,googleGeminiBaseUrl:t==null?void 0:t.googleGeminiBaseUrl,chutesApiKey:t==null?void 0:t.chutesApiKey,syntheticApiKey:t==null?void 0:t.syntheticApiKey});h.useEffect(()=>{b&&t.apiModelId!==b&&r("apiModelId",b,!1)},[b,r,t.apiModelId]),Th(()=>{if(w==="openai"){const q=bf(m);A.postMessage({type:"requestOpenAiModels",values:{baseUrl:t==null?void 0:t.openAiBaseUrl,apiKey:t==null?void 0:t.openAiApiKey,customHeaders:{},openAiHeaders:q}})}else w==="ollama"?A.postMessage({type:"requestOllamaModels"}):w==="lmstudio"?A.postMessage({type:"requestLmStudioModels"}):w==="vscode-lm"?A.postMessage({type:"requestVsCodeLmModels"}):(w==="litellm"||w==="deepinfra"||w==="chutes"||w==="synthetic"||w==="roo")&&A.postMessage({type:"requestRouterModels"})},250,[w,t==null?void 0:t.requestyApiKey,t==null?void 0:t.openAiBaseUrl,t==null?void 0:t.openAiApiKey,t==null?void 0:t.ollamaBaseUrl,t==null?void 0:t.lmStudioBaseUrl,t==null?void 0:t.litellmBaseUrl,t==null?void 0:t.litellmApiKey,t==null?void 0:t.deepInfraApiKey,t==null?void 0:t.deepInfraBaseUrl,t==null?void 0:t.chutesApiKey,t==null?void 0:t.ovhCloudAiEndpointsBaseUrl,m]),h.useEffect(()=>{const q=JF(t,_,d);a(q)},[t,_,d,a]);const T=h.useMemo(()=>{const q=Zz[w];if(!q)return[];const B=ZF(q,w,d);return B?Object.entries(B).filter(([te,Q])=>te===b?!0:!Q.deprecated).map(([te])=>({value:te,label:te})):[]},[w,d,b]),S=h.useCallback(q=>{r("apiProvider",q);const B=(Q,O,F)=>{if(!F)return;!Q&&r(O,F,!1)},te={deepinfra:{field:"deepInfraModelId",default:Jc},openrouter:{field:"openRouterModelId",default:Ki},glama:{field:"glamaModelId",default:Vc},unbound:{field:"unboundModelId",default:Xc},requesty:{field:"requestyModelId",default:Yc},litellm:{field:"litellmModelId",default:Ti},"nano-gpt":{field:"nanoGptModelId",default:hg},anthropic:{field:"apiModelId",default:Ui},cerebras:{field:"apiModelId",default:eg},"claude-code":{field:"apiModelId",default:Mf},"qwen-code":{field:"apiModelId",default:gg},"openai-native":{field:"apiModelId",default:Jj},gemini:{field:"apiModelId",default:Fa},deepseek:{field:"apiModelId",default:sg},doubao:{field:"apiModelId",default:Rf},moonshot:{field:"apiModelId",default:pg},minimax:{field:"apiModelId",default:Af},mistral:{field:"apiModelId",default:Qc},xai:{field:"apiModelId",default:kg},groq:{field:"apiModelId",default:cg},chutes:{field:"apiModelId",default:Kc},baseten:{field:"apiModelId",default:Zf},bedrock:{field:"apiModelId",default:Cf},vertex:{field:"apiModelId",default:yg},sambanova:{field:"apiModelId",default:vg},zai:{field:"apiModelId",default:t.zaiApiLine==="china_coding"?Tg:Ng},fireworks:{field:"apiModelId",default:ag},featherless:{field:"apiModelId",default:og},"io-intelligence":{field:"ioIntelligenceModelId",default:Gc},roo:{field:"apiModelId",default:Ef},"vercel-ai-gateway":{field:"vercelAiGatewayModelId",default:_g},openai:{field:"openAiModelId"},ollama:{field:"ollamaModelId"},lmstudio:{field:"lmStudioModelId"},kilocode:{field:"kilocodeModel",default:u},"gemini-cli":{field:"apiModelId",default:Yj},synthetic:{field:"apiModelId",default:$c},ovhcloud:{field:"ovhCloudAiEndpointsModelId",default:Wc},inception:{field:"inceptionLabsModelId",default:Hc}}[q];te&&B(t[te.field],te.field,te.default)},[r,t,u]),I=h.useMemo(()=>XF(t,_,d),[t,_,d]),E=h.useMemo(()=>{const q=If.find(({value:O})=>O===w),B=q==null?void 0:q.label;if(!B||["gemini-cli","moonshot","chutes","cerebras","litellm","zai","qwen-code","minimax"].includes(w))return;const Q={"openai-native":"openai",openai:"openai-compatible"}[w]||w;return{url:It(`providers/${Q}`),name:B}},[w]),M=(k==null?void 0:k.defaultToolProtocol)||fl.XML,R=w==="openai"||(k==null?void 0:k.supportsNativeTools)===!0,C=h.useMemo(()=>If.map(({value:q,label:B})=>({value:q,label:B})),[]);return s.jsxs("div",{className:"flex flex-col gap-3",children:[Ig,s.jsxs("div",{className:"flex flex-col gap-1 relative",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block font-medium",children:l("settings:providers.apiProvider")}),w==="roo"&&p?s.jsx(cq,{}):E&&s.jsxs(Fe,{href:E.url,target:"_blank",className:"flex gap-2",children:[E.name,s.jsx(Q1,{className:"size-4 inline ml-2"})]})]}),s.jsx(Ko,{value:w,onValueChange:q=>S(q),options:C,placeholder:l("settings:common.select"),searchPlaceholder:l("settings:providers.searchProviderPlaceholder"),emptyMessage:l("settings:providers.noProviderMatchFound"),className:"w-full","data-testid":"provider-select"})]}),o&&s.jsx(Ac,{errorMessage:o}),w==="kilocode"&&s.jsx(iq,{apiConfiguration:t,setApiConfigurationField:r,hideKiloCodeButton:i,currentApiConfigName:c,routerModels:_,organizationAllowList:d,kilocodeDefaultModel:u}),w==="openrouter"&&s.jsx(jz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,selectedModelId:b,uriScheme:e,simplifySettings:n,organizationAllowList:d,modelValidationError:I}),w==="requesty"&&s.jsx(Ez,{uriScheme:e,apiConfiguration:t,setApiConfigurationField:r,routerModels:_,refetchRouterModels:j,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="glama"&&s.jsx(iz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,uriScheme:e,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="unbound"&&s.jsx(Az,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="deepinfra"&&s.jsx(Yz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,refetchRouterModels:j,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="inception"&&s.jsx(qz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,refetchRouterModels:j,organizationAllowList:d,modelValidationError:I}),w==="anthropic"&&s.jsx(bB,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="claude-code"&&s.jsx(tz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="openai-native"&&s.jsx(gz,{apiConfiguration:t,setApiConfigurationField:r,selectedModelInfo:k,simplifySettings:n}),w==="ovhcloud"&&s.jsx(Dz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I}),w==="mistral"&&s.jsx(pz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="baseten"&&s.jsx(Jz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="bedrock"&&s.jsx(yB,{apiConfiguration:t,setApiConfigurationField:r,selectedModelInfo:k,simplifySettings:n}),w==="vertex"&&s.jsx(Rz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="gemini"&&s.jsx(nz,{apiConfiguration:t,setApiConfigurationField:r,fromWelcomeView:n,routerModels:_,organizationAllowList:d,modelValidationError:I}),w==="openai"&&s.jsx(vz,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="lmstudio"&&s.jsx(uz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="deepseek"&&s.jsx(sz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="doubao"&&s.jsx(rz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="qwen-code"&&s.jsx(_z,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="moonshot"&&s.jsx(mz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),w==="minimax"&&s.jsx(Xz,{apiConfiguration:t,setApiConfigurationField:r}),w==="nano-gpt"&&s.jsx(hz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I}),w==="vscode-lm"&&s.jsx(Cz,{apiConfiguration:t,setApiConfigurationField:r}),w==="ollama"&&s.jsx(fz,{apiConfiguration:t,setApiConfigurationField:r}),w==="xai"&&s.jsx(Oz,{apiConfiguration:t,setApiConfigurationField:r}),w==="groq"&&s.jsx(lz,{apiConfiguration:t,setApiConfigurationField:r}),w==="huggingface"&&s.jsx(cz,{apiConfiguration:t,setApiConfigurationField:r}),w==="cerebras"&&s.jsx(wB,{apiConfiguration:t,setApiConfigurationField:r}),w==="chutes"&&s.jsx(ez,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="gemini-cli"&&s.jsx(Fz,{apiConfiguration:t,setApiConfigurationField:r}),w==="virtual-quota-fallback"&&s.jsx(zz,{apiConfiguration:t,setApiConfigurationField:r}),w==="litellm"&&s.jsx(Hz,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="sambanova"&&s.jsx(Mz,{apiConfiguration:t,setApiConfigurationField:r}),w==="zai"&&s.jsx($z,{apiConfiguration:t,setApiConfigurationField:r}),w==="io-intelligence"&&s.jsx(dz,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="vercel-ai-gateway"&&s.jsx(Qz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="human-relay"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:l("settings:providers.humanRelay.description")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:l("settings:providers.humanRelay.instructions")})]}),w==="fireworks"&&s.jsx(Vz,{apiConfiguration:t,setApiConfigurationField:r}),w==="synthetic"&&s.jsx(Uz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,organizationAllowList:d,modelValidationError:I}),w==="roo"&&s.jsx(Nz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:_,cloudIsAuthenticated:p,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),w==="featherless"&&s.jsx(Gz,{apiConfiguration:t,setApiConfigurationField:r}),w==="sap-ai-core"&&s.jsx(Wz,{apiConfiguration:t,setApiConfigurationField:r}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:providers.model")}),s.jsxs(Dt,{value:b==="custom-arn"?"custom-arn":b,onValueChange:q=>{r("apiModelId",q),q!=="custom-arn"&&w==="bedrock"&&r("awsCustomArn",""),w==="openai-native"&&r("reasoningEffort",void 0)},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:l("settings:common.select")})}),s.jsxs(Bt,{children:[T.map(q=>s.jsx(Be,{value:q.value,children:q.label},q.value)),w==="bedrock"&&s.jsx(Be,{value:"custom-arn",children:l("settings:labels.useCustomArn")})]})]})]}),(k==null?void 0:k.deprecated)&&s.jsx(Ac,{errorMessage:l("settings:validation.modelDeprecated")}),w==="bedrock"&&b==="custom-arn"&&s.jsx(aq,{apiConfiguration:t,setApiConfigurationField:r}),!(k!=null&&k.deprecated)&&s.jsx(kx,{apiProvider:w,selectedModelId:b,modelInfo:k,isDescriptionExpanded:f,setIsDescriptionExpanded:x})]}),!n&&s.jsx(mS,{apiConfiguration:t,setApiConfigurationField:r,modelInfo:k},`${w}-${b}`),!n&&(k==null?void 0:k.supportsVerbosity)&&s.jsx(eq,{apiConfiguration:t,setApiConfigurationField:r,modelInfo:k}),(w==="kilocode"||w==="openrouter")&&(t.kilocodeOrganizationId?s.jsx(uq,{organizationId:t.kilocodeOrganizationId}):s.jsx(pq,{apiConfiguration:t,setApiConfigurationField:r,kilocodeDefaultModel:u})),!n&&w!=="virtual-quota-fallback"&&s.jsxs(Ug,{open:v,onOpenChange:N,children:[s.jsxs(Kg,{className:"flex items-center gap-1 w-full cursor-pointer hover:opacity-80 mb-2",children:[s.jsx("span",{className:`codicon codicon-chevron-${v?"down":"right"}`}),s.jsx("span",{className:"font-medium",children:l("settings:advancedSettings.title")})]}),s.jsxs(m_,{className:"space-y-3",children:[s.jsx(sq,{todoListEnabled:t.todoListEnabled,onChange:(q,B)=>r(q,B)}),s.jsx(tq,{diffEnabled:t.diffEnabled,fuzzyMatchThreshold:t.fuzzyMatchThreshold,onChange:(q,B)=>r(q,B)}),(k==null?void 0:k.supportsTemperature)!==!1&&s.jsx(rq,{value:t.modelTemperature,onChange:y("modelTemperature",no),maxValue:2,defaultValue:k==null?void 0:k.defaultTemperature}),s.jsx(mq,{rateLimitAfterEnabled:t.rateLimitAfter,onChange:(q,B)=>r(q,B)}),s.jsx(nq,{value:t.rateLimitSeconds||0,onChange:q=>r("rateLimitSeconds",q)}),s.jsx(oq,{value:t.consecutiveMistakeLimit!==void 0?t.consecutiveMistakeLimit:Ul,onChange:q=>r("consecutiveMistakeLimit",q)}),R&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:toolProtocol.label")}),s.jsxs(Dt,{value:t.toolProtocol||"default",onValueChange:q=>{r("toolProtocol",q==="default"?void 0:q)},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:l("settings:common.select")})}),s.jsxs(Bt,{children:[s.jsxs(Be,{value:"default",children:[l("settings:toolProtocol.default")," (",M===fl.NATIVE?l("settings:toolProtocol.native"):l("settings:toolProtocol.xml"),")"]}),s.jsx(Be,{value:fl.XML,children:l("settings:toolProtocol.xml")}),s.jsx(Be,{value:fl.NATIVE,children:l("settings:toolProtocol.native")})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:l("settings:toolProtocol.description")})]})]})]})]})},fS=h.memo(hq),$t=({className:e,...t})=>s.jsx("div",{className:ee("flex flex-col gap-4 px-5 py-2",e),...t}),fq=({allowedMaxRequests:e,allowedMaxCost:t,onMaxRequestsChange:r,onMaxCostChange:n})=>{const{t:o}=bt();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-2 items-center",children:[s.jsx(XN,{allowedMaxRequests:e,onValueChange:r}),s.jsx(JN,{allowedMaxCost:t,onValueChange:n})]}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:o("settings:autoApprove.maxLimits.description")})]})},gq=({alwaysAllowReadOnly:e,alwaysAllowReadOnlyOutsideWorkspace:t,alwaysAllowWrite:r,alwaysAllowWriteOutsideWorkspace:n,alwaysAllowWriteProtected:o,alwaysAllowBrowser:a,alwaysApproveResubmit:i,requestDelaySeconds:c,alwaysAllowMcp:l,alwaysAllowModeSwitch:d,alwaysAllowSubtasks:u,alwaysAllowExecute:p,alwaysAllowFollowupQuestions:m,followupAutoApproveTimeoutMs:g=6e4,alwaysAllowUpdateTodoList:f,allowedCommands:x,allowedMaxRequests:v,allowedMaxCost:N,showAutoApproveMenu:y,yoloMode:w,yoloGatekeeperApiConfigId:b,deniedCommands:k,setCachedStateField:_,...j})=>{const{t:T}=oe(),[S,I]=h.useState(""),[E,M]=h.useState(""),{autoApprovalEnabled:R,setAutoApprovalEnabled:C,listApiConfigMeta:q}=Ge(),B=e2(),{effectiveAutoApprovalEnabled:U}=ZN(B,R),te=()=>{const O=x??[];if(S&&!O.includes(S)){const F=[...O,S];_("allowedCommands",F),I(""),A.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:F}})}},Q=()=>{const O=k??[];if(E&&!O.includes(E)){const F=[...O,E];_("deniedCommands",F),M(""),A.postMessage({type:"updateSettings",updatedSettings:{deniedCommands:F}})}};return s.jsxs("div",{...j,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cg,{className:"w-4 h-4"}),s.jsx("div",{children:T("settings:sections.autoApprove")})]})}),w&&s.jsx($t,{children:s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm font-medium text-yellow-500",children:"YOLO Mode is active - all auto-approval settings below are overridden"})]})}),s.jsx($t,{children:s.jsxs("div",{children:[s.jsx(ze,{checked:y,onChange:O=>_("showAutoApproveMenu",O.target.checked),"data-testid":"show-auto-approve-menu-checkbox",children:s.jsx("span",{className:"font-medium",children:T("settings:autoApprove.showMenu.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.showMenu.description")})]})}),s.jsxs($t,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ze,{checked:U,"aria-label":T("settings:autoApprove.toggleAriaLabel"),onChange:()=>{const O=!(R??!1);C(O),A.postMessage({type:"autoApprovalEnabled",bool:O})},children:s.jsx("span",{className:"font-medium",children:T("settings:autoApprove.enabled")})}),s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:[s.jsx("p",{children:T("settings:autoApprove.description")}),s.jsx("p",{children:s.jsx(je,{i18nKey:"settings:autoApprove.toggleShortcut",components:{SettingsLink:s.jsx("a",{href:"#",className:"text-vscode-textLink-foreground hover:underline cursor-pointer",onClick:O=>{O.preventDefault(),A.postMessage({type:"openKeyboardShortcuts",text:`${Ba.name}.toggleAutoApprove`})}})}})})]}),s.jsx(QN,{alwaysAllowReadOnly:e,alwaysAllowWrite:r,alwaysAllowBrowser:a,alwaysApproveResubmit:i,alwaysAllowMcp:l,alwaysAllowModeSwitch:d,alwaysAllowSubtasks:u,alwaysAllowExecute:p,alwaysAllowFollowupQuestions:m,alwaysAllowUpdateTodoList:f,onToggle:(O,F)=>_(O,F)}),s.jsx(fq,{allowedMaxRequests:v,allowedMaxCost:N,onMaxRequestsChange:O=>_("allowedMaxRequests",O),onMaxCostChange:O=>_("allowedMaxCost",O)})]}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-eye"}),s.jsx("div",{children:T("settings:autoApprove.readOnly.label")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:t,onChange:O=>_("alwaysAllowReadOnlyOutsideWorkspace",O.target.checked),"data-testid":"always-allow-readonly-outside-workspace-checkbox",children:s.jsx("span",{className:"font-medium",children:T("settings:autoApprove.readOnly.outsideWorkspace.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.readOnly.outsideWorkspace.description")})]})]}),r&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-edit"}),s.jsx("div",{children:T("settings:autoApprove.write.label")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:n,onChange:O=>_("alwaysAllowWriteOutsideWorkspace",O.target.checked),"data-testid":"always-allow-write-outside-workspace-checkbox",children:s.jsx("span",{className:"font-medium",children:T("settings:autoApprove.write.outsideWorkspace.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.write.outsideWorkspace.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:o,onChange:O=>_("alwaysAllowWriteProtected",O.target.checked),"data-testid":"always-allow-write-protected-checkbox",children:s.jsx("span",{className:"font-medium",children:T("settings:autoApprove.write.protected.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:T("settings:autoApprove.write.protected.description")})]})]}),i&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-refresh"}),s.jsx("div",{children:T("settings:autoApprove.retry.label")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:5,max:100,step:1,value:[c],onValueChange:([O])=>_("requestDelaySeconds",O),"data-testid":"request-delay-slider"}),s.jsxs("span",{className:"w-20",children:[c,"s"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.retry.delayLabel")})]})]}),m&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-question"}),s.jsx("div",{children:T("settings:autoApprove.followupQuestions.label")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1e3,max:3e5,step:1e3,value:[g],onValueChange:([O])=>_("followupAutoApproveTimeoutMs",O),"data-testid":"followup-timeout-slider"}),s.jsxs("span",{className:"w-20",children:[g/1e3,"s"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.followupQuestions.timeoutLabel")})]})]}),p&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-terminal"}),s.jsx("div",{children:T("settings:autoApprove.execute.label")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1","data-testid":"allowed-commands-heading",children:T("settings:autoApprove.execute.allowedCommands")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.execute.allowedCommandsDescription")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_r,{value:S,onChange:O=>I(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),te())},placeholder:T("settings:autoApprove.execute.commandPlaceholder"),className:"grow","data-testid":"command-input"}),s.jsx(ae,{className:"h-8",onClick:te,"data-testid":"add-command-button",children:T("settings:autoApprove.execute.addButton")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(x??[]).map((O,F)=>s.jsx(ae,{variant:"secondary","data-testid":`remove-command-${F}`,onClick:()=>{const W=(x??[]).filter((re,H)=>H!==F);_("allowedCommands",W),A.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:W}})},children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{children:O}),s.jsx(xn,{className:"text-foreground scale-75"})]})},F))}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block font-medium mb-1","data-testid":"denied-commands-heading",children:T("settings:autoApprove.execute.deniedCommands")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:T("settings:autoApprove.execute.deniedCommandsDescription")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_r,{value:E,onChange:O=>M(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),Q())},placeholder:T("settings:autoApprove.execute.deniedCommandPlaceholder"),className:"grow","data-testid":"denied-command-input"}),s.jsx(ae,{className:"h-8",onClick:Q,"data-testid":"add-denied-command-button",children:T("settings:autoApprove.execute.addButton")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(k??[]).map((O,F)=>s.jsx(ae,{variant:"secondary","data-testid":`remove-denied-command-${F}`,onClick:()=>{const W=(k??[]).filter((re,H)=>H!==F);_("deniedCommands",W),A.postMessage({type:"updateSettings",updatedSettings:{deniedCommands:W}})},children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{children:O}),s.jsx(xn,{className:"text-foreground scale-75"})]})},F))})]})]}),s.jsx($t,{children:s.jsxs("div",{className:"border-2 border-yellow-500 rounded-md p-4 bg-yellow-500/10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-lg font-bold text-yellow-500",children:"YOLO Mode"})]}),s.jsx(ze,{checked:w??!1,onChange:O=>_("yoloMode",O.target.checked),"data-testid":"yolo-mode-checkbox",children:s.jsx("span",{className:"font-bold text-base",children:"Enable YOLO Mode - Auto-approve EVERYTHING"})}),s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm mt-2 pl-6",children:[s.jsxs("p",{className:"mb-2",children:["When enabled,"," ",s.jsx("strong",{children:"all operations will be automatically approved without confirmation"}),"."]}),s.jsx("p",{className:"text-yellow-500 font-medium",children:" This includes file modifications, command execution, MCP tools, browser actions, and all other operations. Use with extreme caution!"})]}),w&&s.jsxs("div",{className:"mt-4 pl-6 border-l-2 border-yellow-500/50",children:[s.jsx("label",{className:"block font-medium mb-1",children:"AI Safety Gatekeeper (Optional)"}),s.jsxs(Dt,{value:b||"-",onValueChange:O=>{const F=O==="-"?"":O;_("yoloGatekeeperApiConfigId",F),A.postMessage({type:"yoloGatekeeperApiConfigId",text:F})},children:[s.jsx(Lt,{"data-testid":"gatekeeper-api-config-select",className:"w-full",children:s.jsx(Ft,{placeholder:"No gatekeeper (approve all)"})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"-",children:"No gatekeeper (approve all)"}),(q||[]).map(O=>s.jsx(Be,{value:O.id,"data-testid":`gatekeeper-${O.id}-option`,children:O.name},O.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:"Select a model to evaluate each action before auto-approving. The gatekeeper will decide if risky operations should be allowed. We suggest using a small, fast model. This will incur additional costs, as well as additional latency."})]})]})})]})},xq=({browserToolEnabled:e,browserViewportSize:t,screenshotQuality:r,remoteBrowserHost:n,remoteBrowserEnabled:o,setCachedStateField:a,...i})=>{const{t:c}=oe(),[l,d]=h.useState(!1),[u,p]=h.useState(null),[m,g]=h.useState(!1);h.useEffect(()=>{const v=N=>{const y=N.data;y.type==="browserConnectionResult"&&(p({success:y.success,text:y.text}),d(!1),g(!1))};return window.addEventListener("message",v),()=>{window.removeEventListener("message",v)}},[]);const f=async()=>{d(!0),p(null);try{A.postMessage({type:"testBrowserConnection",text:n})}catch(v){p({success:!1,text:`Error: ${v instanceof Error?v.message:String(v)}`}),d(!1)}},x=h.useMemo(()=>[{value:"1280x800",label:c("settings:browser.viewport.options.largeDesktop")},{value:"900x600",label:c("settings:browser.viewport.options.smallDesktop")},{value:"768x1024",label:c("settings:browser.viewport.options.tablet")},{value:"360x640",label:c("settings:browser.viewport.options.mobile")}],[c]);return s.jsxs("div",{...i,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n_,{className:"w-4"}),s.jsx("div",{children:c("settings:sections.browser")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:v=>a("browserToolEnabled",v.target.checked),children:s.jsx("span",{className:"font-medium",children:c("settings:browser.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:browser.enable.description",children:s.jsx(Fe,{href:It("features/browser-use"),style:{display:"inline"},children:" "})})})]}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:c("settings:browser.viewport.label")}),s.jsxs(Dt,{value:t,onValueChange:v=>a("browserViewportSize",v),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:c("settings:common.select")})}),s.jsx(Bt,{children:s.jsx(U_,{children:x.map(({value:v,label:N})=>s.jsx(Be,{value:v,children:N},v))})})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:browser.viewport.description")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:c("settings:browser.screenshotQuality.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1,max:100,step:1,value:[r??75],onValueChange:([v])=>a("screenshotQuality",v)}),s.jsxs("span",{className:"w-10",children:[r??75,"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:browser.screenshotQuality.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:o,onChange:v=>{a("remoteBrowserEnabled",v.target.checked),v.target.checked||a("remoteBrowserHost",void 0)},children:s.jsx("label",{className:"block font-medium mb-1",children:c("settings:browser.remote.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:browser.remote.description")})]}),o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{value:n??"",onChange:v=>a("remoteBrowserHost",v.target.value||void 0),placeholder:c("settings:browser.remote.urlPlaceholder"),style:{flexGrow:1}}),s.jsx(ae,{disabled:l,onClick:f,children:c(l||m?"settings:browser.remote.testingButton":"settings:browser.remote.testButton")})]}),u&&s.jsx("div",{className:`p-2 rounded-xs text-sm ${u.success?"bg-green-800/20 text-green-400":"bg-red-800/20 text-red-400"}`,children:u.text}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:browser.remote.instructions")})]})]})]})]})},vq=({enableCheckpoints:e,autoPurgeEnabled:t,autoPurgeDefaultRetentionDays:r,autoPurgeFavoritedTaskRetentionDays:n,autoPurgeCompletedTaskRetentionDays:o,autoPurgeIncompleteTaskRetentionDays:a,autoPurgeLastRunTimestamp:i,onManualPurge:c,checkpointTimeout:l,setCachedStateField:d,...u})=>{const{t:p}=oe();return s.jsxs("div",{...u,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mj,{className:"w-4"}),s.jsx("div",{children:p("settings:sections.checkpoints")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:m=>{d("enableCheckpoints",m.target.checked)},children:s.jsx("span",{className:"font-medium",children:p("settings:checkpoints.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:checkpoints.enable.description",children:s.jsx(Fe,{href:It("features/checkpoints"),style:{display:"inline"},children:" "})})})]}),e&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:p("settings:checkpoints.timeout.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:yT,max:bT,step:1,defaultValue:[l??kh],onValueChange:([m])=>{d("checkpointTimeout",m)},className:"flex-1","data-testid":"checkpoint-timeout-slider"}),s.jsx("span",{className:"w-12 text-center",children:l??kh})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:checkpoints.timeout.description")})]})]}),s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ii,{className:"w-4"}),s.jsx("div",{children:p("settings:sections.autoPurge")})]})}),s.jsx($t,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ze,{checked:t,onChange:m=>{d("autoPurgeEnabled",m.target.checked)},children:s.jsx("span",{className:"font-medium",children:p("settings:autoPurge.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:autoPurge.enable.description")})]}),t&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.defaultRetention.label")}),s.jsx(ce,{value:String(r||30),onInput:m=>{const g=parseInt(m.target.value)||30;d("autoPurgeDefaultRetentionDays",Math.max(1,g))},placeholder:"30"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.defaultRetention.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:n===null,onChange:m=>{d("autoPurgeFavoritedTaskRetentionDays",m.target.checked?null:90)},children:s.jsx("span",{className:"font-medium",children:p("settings:autoPurge.neverPurgeFavorited.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:autoPurge.neverPurgeFavorited.description")})]}),n!==null&&s.jsxs("div",{className:"ml-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.favoritedRetention.label")}),s.jsx(ce,{value:String(n||90),onInput:m=>{const g=parseInt(m.target.value)||90;d("autoPurgeFavoritedTaskRetentionDays",Math.max(1,g))},placeholder:"90"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.completedRetention.label")}),s.jsx(ce,{value:String(o||30),onInput:m=>{const g=parseInt(m.target.value)||30;d("autoPurgeCompletedTaskRetentionDays",Math.max(1,g))},placeholder:"30"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.completedRetention.description")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.incompleteRetention.label")}),s.jsx(ce,{value:String(a||7),onInput:m=>{const g=parseInt(m.target.value)||7;d("autoPurgeIncompleteTaskRetentionDays",Math.max(1,g))},placeholder:"7"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.incompleteRetention.description")})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx("div",{children:i&&s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm",children:[s.jsx(Aj,{className:"w-3 h-3 inline mr-1"}),p("settings:autoPurge.lastRun.label"),":"," ",new Date(i).toLocaleDateString()]})}),s.jsx(xt,{onClick:c,appearance:"secondary",children:p("settings:autoPurge.manualPurge.button")})]})]})]})})]})};var nc={exports:{}},bq=nc.exports,Jk;function yq(){return Jk||(Jk=1,(function(e){(function(t,r,n){function o(l){var d=this,u=c();d.next=function(){var p=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=p-(d.c=p|0)},d.c=1,d.s0=u(" "),d.s1=u(" "),d.s2=u(" "),d.s0-=u(l),d.s0<0&&(d.s0+=1),d.s1-=u(l),d.s1<0&&(d.s1+=1),d.s2-=u(l),d.s2<0&&(d.s2+=1),u=null}function a(l,d){return d.c=l.c,d.s0=l.s0,d.s1=l.s1,d.s2=l.s2,d}function i(l,d){var u=new o(l),p=d&&d.state,m=u.next;return m.int32=function(){return u.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,p&&(typeof p=="object"&&a(p,u),m.state=function(){return a(u,{})}),m}function c(){var l=4022871197,d=function(u){u=String(u);for(var p=0;p<u.length;p++){l+=u.charCodeAt(p);var m=.02519603282416938*l;l=m>>>0,m-=l,m*=l,l=m>>>0,m-=l,l+=m*4294967296}return(l>>>0)*23283064365386963e-26};return d}r&&r.exports?r.exports=i:this.alea=i})(bq,e)})(nc)),nc.exports}var oc={exports:{}},wq=oc.exports,Zk;function kq(){return Zk||(Zk=1,(function(e){(function(t,r,n){function o(c){var l=this,d="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var p=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^p^p>>>8},c===(c|0)?l.x=c:d+=c;for(var u=0;u<d.length+64;u++)l.x^=d.charCodeAt(u)|0,l.next()}function a(c,l){return l.x=c.x,l.y=c.y,l.z=c.z,l.w=c.w,l}function i(c,l){var d=new o(c),u=l&&l.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xor128=i})(wq,e)})(oc)),oc.exports}var ac={exports:{}},jq=ac.exports,e0;function _q(){return e0||(e0=1,(function(e){(function(t,r,n){function o(c){var l=this,d="";l.next=function(){var p=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(p^p<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,c===(c|0)?l.x=c:d+=c;for(var u=0;u<d.length+64;u++)l.x^=d.charCodeAt(u)|0,u==d.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(c,l){return l.x=c.x,l.y=c.y,l.z=c.z,l.w=c.w,l.v=c.v,l.d=c.d,l}function i(c,l){var d=new o(c),u=l&&l.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xorwow=i})(jq,e)})(ac)),ac.exports}var ic={exports:{}},Nq=ic.exports,t0;function Sq(){return t0||(t0=1,(function(e){(function(t,r,n){function o(c){var l=this;l.next=function(){var u=l.x,p=l.i,m,g;return m=u[p],m^=m>>>7,g=m^m<<24,m=u[p+1&7],g^=m^m>>>10,m=u[p+3&7],g^=m^m>>>3,m=u[p+4&7],g^=m^m<<7,m=u[p+7&7],m=m^m<<13,g^=m^m<<9,u[p]=g,l.i=p+1&7,g};function d(u,p){var m,g=[];if(p===(p|0))g[0]=p;else for(p=""+p,m=0;m<p.length;++m)g[m&7]=g[m&7]<<15^p.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8?g[7]=-1:g[m],u.x=g,u.i=0,m=256;m>0;--m)u.next()}d(l,c)}function a(c,l){return l.x=c.x.slice(),l.i=c.i,l}function i(c,l){c==null&&(c=+new Date);var d=new o(c),u=l&&l.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(u.x&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xorshift7=i})(Nq,e)})(ic)),ic.exports}var lc={exports:{}},Tq=lc.exports,s0;function Iq(){return s0||(s0=1,(function(e){(function(t,r,n){function o(c){var l=this;l.next=function(){var u=l.w,p=l.X,m=l.i,g,f;return l.w=u=u+1640531527|0,f=p[m+34&127],g=p[m=m+1&127],f^=f<<13,g^=g<<17,f^=f>>>15,g^=g>>>12,f=p[m]=f^g,l.i=m,f+(u^u>>>16)|0};function d(u,p){var m,g,f,x,v,N=[],y=128;for(p===(p|0)?(g=p,p=null):(p=p+"\0",g=0,y=Math.max(y,p.length)),f=0,x=-32;x<y;++x)p&&(g^=p.charCodeAt((x+32)%p.length)),x===0&&(v=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,x>=0&&(v=v+1640531527|0,m=N[x&127]^=g+v,f=m==0?f+1:0);for(f>=128&&(N[(p&&p.length||0)&127]=-1),f=127,x=512;x>0;--x)g=N[f+34&127],m=N[f=f+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,N[f]=g^m;u.w=v,u.X=N,u.i=f}d(l,c)}function a(c,l){return l.i=c.i,l.w=c.w,l.X=c.X.slice(),l}function i(c,l){c==null&&(c=+new Date);var d=new o(c),u=l&&l.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(u.X&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xor4096=i})(Tq,e)})(lc)),lc.exports}var cc={exports:{}},Pq=cc.exports,r0;function Eq(){return r0||(r0=1,(function(e){(function(t,r,n){function o(c){var l=this,d="";l.next=function(){var p=l.b,m=l.c,g=l.d,f=l.a;return p=p<<25^p>>>7^m,m=m-g|0,g=g<<24^g>>>8^f,f=f-p|0,l.b=p=p<<20^p>>>12^m,l.c=m=m-g|0,l.d=g<<16^m>>>16^f,l.a=f-p|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,c===Math.floor(c)?(l.a=c/4294967296|0,l.b=c|0):d+=c;for(var u=0;u<d.length+20;u++)l.b^=d.charCodeAt(u)|0,l.next()}function a(c,l){return l.a=c.a,l.b=c.b,l.c=c.c,l.d=c.d,l}function i(c,l){var d=new o(c),u=l&&l.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.tychei=i})(Pq,e)})(cc)),cc.exports}var dc={exports:{}};const Mq=hI(XP);var Aq=dc.exports,n0;function Rq(){return n0||(n0=1,(function(e){(function(t,r,n){var o=256,a=6,i=52,c="random",l=n.pow(o,a),d=n.pow(2,i),u=d*2,p=o-1,m;function g(b,k,_){var j=[];k=k==!0?{entropy:!0}:k||{};var T=N(v(k.entropy?[b,w(r)]:b??y(),3),j),S=new f(j),I=function(){for(var E=S.g(a),M=l,R=0;E<d;)E=(E+R)*o,M*=o,R=S.g(1);for(;E>=u;)E/=2,M/=2,R>>>=1;return(E+R)/M};return I.int32=function(){return S.g(4)|0},I.quick=function(){return S.g(4)/4294967296},I.double=I,N(w(S.S),r),(k.pass||_||function(E,M,R,C){return C&&(C.S&&x(C,S),E.state=function(){return x(S,{})}),R?(n[c]=E,M):E})(I,T,"global"in k?k.global:this==n,k.state)}function f(b){var k,_=b.length,j=this,T=0,S=j.i=j.j=0,I=j.S=[];for(_||(b=[_++]);T<o;)I[T]=T++;for(T=0;T<o;T++)I[T]=I[S=p&S+b[T%_]+(k=I[T])],I[S]=k;(j.g=function(E){for(var M,R=0,C=j.i,q=j.j,B=j.S;E--;)M=B[C=p&C+1],R=R*o+B[p&(B[C]=B[q=p&q+M])+(B[q]=M)];return j.i=C,j.j=q,R})(o)}function x(b,k){return k.i=b.i,k.j=b.j,k.S=b.S.slice(),k}function v(b,k){var _=[],j=typeof b,T;if(k&&j=="object")for(T in b)try{_.push(v(b[T],k-1))}catch{}return _.length?_:j=="string"?b:b+"\0"}function N(b,k){for(var _=b+"",j,T=0;T<_.length;)k[p&T]=p&(j^=k[p&T]*19)+_.charCodeAt(T++);return w(k)}function y(){try{var b;return m&&(b=m.randomBytes)?b=b(o):(b=new Uint8Array(o),(t.crypto||t.msCrypto).getRandomValues(b)),w(b)}catch{var k=t.navigator,_=k&&k.plugins;return[+new Date,t,_,t.screen,w(r)]}}function w(b){return String.fromCharCode.apply(0,b)}if(N(n.random(),r),e.exports){e.exports=g;try{m=Mq}catch{}}else n["seed"+c]=g})(typeof self<"u"?self:Aq,[],Math)})(dc)),dc.exports}var Vm,o0;function Cq(){if(o0)return Vm;o0=1;var e=yq(),t=kq(),r=_q(),n=Sq(),o=Iq(),a=Eq(),i=Rq();return i.alea=e,i.xor128=t,i.xorwow=r,i.xorshift7=n,i.xor4096=o,i.tychei=a,Vm=i,Vm}var Oq=Cq();const Dq=Zr(Oq),Fq=17041104e5,a0=Dq("TimelineData");function Lq(){const e=[],t=[{type:"ask",ask:"command",texts:["Create a React component","Build a todo app","Fix the login bug","Add dark mode support"]},{type:"say",say:"text",texts:["I'll help you with that","Let me analyze the requirements","I'll start by examining the code","Let me understand the current setup"]},{type:"ask",ask:"tool",texts:[JSON.stringify({tool:"read_file",path:"src/App.tsx"}),JSON.stringify({tool:"list_files",path:"src/components"}),JSON.stringify({tool:"search_files",query:"useState"}),JSON.stringify({tool:"read_file",path:"package.json"})]},{type:"say",say:"command_output",texts:["File created successfully","Changes applied","Build completed","Tests passed"]},{type:"say",say:"checkpoint_saved",texts:["Checkpoint saved","Progress saved","State preserved"]},{type:"say",say:"completion_result",texts:["Task completed successfully!","All done!","Implementation finished","Ready to use"]}];for(let r=0;r<8;r++)t.forEach((n,o)=>{const a=n.texts[Math.floor(a0()*n.texts.length)];e.push({ts:Fq+(r*8+o)*(1e3+a0()*3e3),type:n.type,...n.ask&&{ask:n.ask},...n.say&&{say:n.say},text:a})});return e}const Bq=({showTaskTimeline:e,showTimestamps:t,sendMessageOnEnter:r,setCachedStateField:n,reasoningBlockCollapsed:o,hideCostBelowThreshold:a,...i})=>{const{t:c}=oe(),l=h.useMemo(()=>Lq(),[]),d=u=>{n("reasoningBlockCollapsed",u),Yt.capture("ui_settings_collapse_thinking_changed",{enabled:u})};return s.jsxs("div",{...i,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e_,{className:"w-4"}),s.jsx("div",{children:c("settings:sections.display")})]})}),s.jsxs($t,{children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:o,onChange:u=>d(u.target.checked),"data-testid":"collapse-thinking-checkbox",children:s.jsx("span",{className:"font-medium",children:c("settings:ui.collapseThinking.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:c("settings:ui.collapseThinking.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:u=>{var p;n("showTaskTimeline",((p=u.target)==null?void 0:p.checked)||!1)},children:s.jsx("span",{className:"font-medium",children:c("settings:display.taskTimeline.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:display.taskTimeline.description")}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"font-medium text-vscode-foreground text-xs mb-4",children:"Preview"}),s.jsx("div",{className:"opacity-60",children:s.jsx(Sc,{groupedMessages:l,isTaskActive:!1})})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(ze,{checked:t,onChange:u=>{n("showTimestamps",u.target.checked)},children:s.jsx("span",{className:"font-medium",children:c("settings:display.showTimestamps.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:display.showTimestamps.description")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:r,onChange:u=>{var p;n("sendMessageOnEnter",((p=u.target)==null?void 0:p.checked)||!1)},children:s.jsx("span",{className:"font-medium",children:c("settings:display.sendMessageOnEnter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:display.sendMessageOnEnter.description")})]})]}),s.jsx($t,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:c("settings:display.costThreshold.label")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:display.costThreshold.description")}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:1,step:.01,value:[a??0],onValueChange:([u])=>n("hideCostBelowThreshold",u),"data-testid":"cost-threshold-slider",className:"flex-1"}),s.jsxs("span",{className:"text-sm text-vscode-foreground min-w-[60px]",children:["$",(a??0).toFixed(2)]})]}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:c("settings:display.costThreshold.currentValue",{value:(a??0).toFixed(2)})})]})]})})]})},zq=({ttsEnabled:e,ttsSpeed:t,soundEnabled:r,soundVolume:n,systemNotificationsEnabled:o,areSettingsCommitted:a,setCachedStateField:i,...c})=>{const{t:l}=oe(),d=()=>{A.postMessage({type:"showSystemNotification",notificationOptions:{title:l("kilocode:settings.systemNotifications.testTitle"),message:l("kilocode:settings.systemNotifications.testMessage")},alwaysAllow:!0})};return s.jsxs("div",{...c,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G1,{className:"w-4"}),s.jsx("div",{children:l("settings:sections.notifications")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:e,onChange:u=>i("ttsEnabled",u.target.checked),"data-testid":"tts-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:l("settings:notifications.tts.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:notifications.tts.description")})]}),e&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:notifications.tts.speedLabel")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:.1,max:2,step:.01,value:[t??1],onValueChange:([u])=>i("ttsSpeed",u),"data-testid":"tts-speed-slider"}),s.jsxs("span",{className:"w-10",children:[((t??1)*100).toFixed(0),"%"]})]})]})}),s.jsxs("div",{children:[s.jsx(ze,{checked:r,onChange:u=>i("soundEnabled",u.target.checked),"data-testid":"sound-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:l("settings:notifications.sound.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:notifications.sound.description")})]}),r&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:notifications.sound.volumeLabel")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:1,step:.01,value:[n??.5],onValueChange:([u])=>i("soundVolume",u),"data-testid":"sound-volume-slider"}),s.jsxs("span",{className:"w-10",children:[((n??.5)*100).toFixed(0),"%"]})]})]})}),s.jsxs("div",{children:[s.jsx(ze,{checked:o,onChange:u=>i("systemNotificationsEnabled",u.target.checked),"data-testid":"system-notifications-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:l("kilocode:settings.systemNotifications.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("kilocode:settings.systemNotifications.description")})]}),o&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsx(E2,{className:"w-fit text-vscode-button-background hover:text-vscode-button-hoverBackground",onClick:d,children:l("kilocode:settings.systemNotifications.testButton")})})]})]})},qq=({autoCondenseContext:e,autoCondenseContextPercent:t,listApiConfigMeta:r,maxOpenTabsContext:n,maxWorkspaceFiles:o,showRooIgnoredFiles:a,setCachedStateField:i,maxReadFileLine:c,maxImageFileSize:l,maxTotalImageSize:d,maxConcurrentFileReads:u,allowVeryLargeReads:p,profileThresholds:m={},includeDiagnosticMessages:g,maxDiagnosticMessages:f,writeDelayMs:x,includeCurrentTime:v,includeCurrentCost:N,maxGitStatusFiles:y,className:w,...b})=>{const{t:k}=oe(),[_,j]=He.useState("default"),T=()=>{if(_==="default")return t;const I=m[_];return I===void 0||I===-1?t:I},S=I=>{if(_==="default")i("autoCondenseContextPercent",I);else{const E={...m,[_]:I};i("profileThresholds",E),A.postMessage({type:"updateSettings",updatedSettings:{profileThresholds:E}})}};return s.jsxs("div",{className:ee("flex flex-col gap-2",w),...b,children:[s.jsx(ws,{description:k("settings:contextManagement.description"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Og,{className:"w-4"}),s.jsx("div",{children:k("settings:sections.contextManagement")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.openTabs.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:500,step:1,value:[n??20],onValueChange:([I])=>i("maxOpenTabsContext",I),"data-testid":"open-tabs-limit-slider"}),s.jsx("span",{className:"w-10",children:n??20})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.openTabs.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.workspaceFiles.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:500,step:1,value:[o??200],onValueChange:([I])=>i("maxWorkspaceFiles",I),"data-testid":"workspace-files-limit-slider"}),s.jsx("span",{className:"w-10",children:o??200})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.workspaceFiles.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.maxGitStatusFiles.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:50,step:1,value:[y??0],onValueChange:([I])=>i("maxGitStatusFiles",I),"data-testid":"max-git-status-files-slider"}),s.jsx("span",{className:"w-10",children:y??0})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.maxGitStatusFiles.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.maxConcurrentFileReads.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1,max:100,step:1,value:[Math.max(1,u??5)],onValueChange:([I])=>i("maxConcurrentFileReads",I),"data-testid":"max-concurrent-file-reads-slider"}),s.jsx("span",{className:"w-10 text-sm",children:Math.max(1,u??5)})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.maxConcurrentFileReads.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:a,onChange:I=>i("showRooIgnoredFiles",I.target.checked),"data-testid":"show-rooignored-files-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.rooignore.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.rooignore.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxReadFile.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(_r,{type:"number",pattern:"-?[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-50",value:c??-1,min:-1,onChange:I=>{const E=parseInt(I.target.value,10);!isNaN(E)&&E>=-1&&i("maxReadFileLine",E)},onClick:I=>I.currentTarget.select(),"data-testid":"max-read-file-line-input",disabled:c===-1}),s.jsx("span",{children:k("settings:contextManagement.maxReadFile.lines")}),s.jsx(ze,{checked:c===-1,onChange:I=>i("maxReadFileLine",I.target.checked?-1:500),"data-testid":"max-read-file-always-full-checkbox",children:k("settings:contextManagement.maxReadFile.always_full_read")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxReadFile.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:p,onChange:I=>i("allowVeryLargeReads",I.target.checked),children:s.jsx("label",{className:"block font-medium mb-1",children:k("kilocode:settings.contextManagement.allowVeryLargeReads.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("kilocode:settings.contextManagement.allowVeryLargeReads.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxImageFileSize.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(_r,{type:"number",pattern:"[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:l??5,min:1,max:100,onChange:I=>{const E=parseInt(I.target.value,10);!isNaN(E)&&E>=1&&E<=100&&i("maxImageFileSize",E)},onClick:I=>I.currentTarget.select(),"data-testid":"max-image-file-size-input"}),s.jsx("span",{children:k("settings:contextManagement.maxImageFileSize.mb")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxImageFileSize.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxTotalImageSize.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(_r,{type:"number",pattern:"[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:d??20,min:1,max:500,onChange:I=>{const E=parseInt(I.target.value,10);!isNaN(E)&&E>=1&&E<=500&&i("maxTotalImageSize",E)},onClick:I=>I.currentTarget.select(),"data-testid":"max-total-image-size-input"}),s.jsx("span",{children:k("settings:contextManagement.maxTotalImageSize.mb")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxTotalImageSize.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:g,onChange:I=>i("includeDiagnosticMessages",I.target.checked),"data-testid":"include-diagnostic-messages-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.includeMessages.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.diagnostics.includeMessages.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.maxMessages.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1,max:100,step:1,value:[f!==void 0&&f<=0?100:f??50],onValueChange:([I])=>{i("maxDiagnosticMessages",I===100?-1:I)},"data-testid":"max-diagnostic-messages-slider","aria-label":k("settings:contextManagement.diagnostics.maxMessages.label"),"aria-valuemin":1,"aria-valuemax":100,"aria-valuenow":f!==void 0&&f<=0?100:f??50,"aria-valuetext":f!==void 0&&f<=0||f===100?k("settings:contextManagement.diagnostics.maxMessages.unlimitedLabel"):`${f??50} ${k("settings:contextManagement.diagnostics.maxMessages.label")}`}),s.jsx("span",{className:"w-20 text-sm font-medium",children:f!==void 0&&f<=0||f===100?k("settings:contextManagement.diagnostics.maxMessages.unlimitedLabel"):f??50}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>i("maxDiagnosticMessages",50),title:k("settings:contextManagement.diagnostics.maxMessages.resetTooltip"),className:"p-1 h-6 w-6",disabled:f===50,children:s.jsx("span",{className:"codicon codicon-discard"})})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.diagnostics.maxMessages.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.delayAfterWrite.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:5e3,step:100,value:[x],onValueChange:([I])=>i("writeDelayMs",I),"data-testid":"write-delay-slider"}),s.jsxs("span",{className:"w-20",children:[x,"ms"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.diagnostics.delayAfterWrite.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:v,onChange:I=>i("includeCurrentTime",I.target.checked),"data-testid":"include-current-time-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.includeCurrentTime.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.includeCurrentTime.description")})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:N,onChange:I=>i("includeCurrentCost",I.target.checked),"data-testid":"include-current-cost-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.includeCurrentCost.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.includeCurrentCost.description")})]})]}),s.jsxs($t,{className:"pt-2",children:[s.jsx(ze,{checked:e,onChange:I=>i("autoCondenseContext",I.target.checked),"data-testid":"auto-condense-context-checkbox",children:s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.autoCondenseContext.name")})}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx(nd,{size:16}),s.jsx("div",{children:k("settings:contextManagement.condensingThreshold.label")})]}),s.jsx("div",{children:s.jsxs(Dt,{value:_||"default",onValueChange:I=>{j(I)},"data-testid":"threshold-profile-select",children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:k("settings:contextManagement.condensingThreshold.selectProfile")||"Select profile for threshold"})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"default",children:k("settings:contextManagement.condensingThreshold.defaultProfile")||"Default (applies to all unconfigured profiles)"}),(r||[]).map(I=>{const E=m[I.id],M=E!==void 0?E===-1?` ${k("settings:contextManagement.condensingThreshold.usesGlobal",{threshold:t})}`:` (${E}%)`:"";return s.jsxs(Be,{value:I.id,children:[I.name,M]},I.id)})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:10,max:100,step:1,value:[T()],onValueChange:([I])=>S(I),"data-testid":"condense-threshold-slider"}),s.jsxs("span",{className:"w-20",children:[T(),"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_==="default"?k("settings:contextManagement.condensingThreshold.defaultDescription",{threshold:t}):k("settings:contextManagement.condensingThreshold.profileDescription")})]})]})]})]})},Uq=({terminalCommandApiConfigId:e,setCachedStateField:t,className:r,...n})=>{const{t:o}=oe(),{listApiConfigMeta:a}=Ge();return s.jsxs("div",{className:ee("flex flex-col gap-3",r),...n,children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(l_,{className:"w-4"}),s.jsx("div",{children:o("kilocode:settings.terminal.commandGenerator.provider")})]})}),s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.label")}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{children:[s.jsxs(Dt,{value:e||"-",onValueChange:i=>t("terminalCommandApiConfigId",i==="-"?"":i),children:[s.jsx(Lt,{"data-testid":"terminal-command-api-config-select",className:"w-full",children:s.jsx(Ft,{placeholder:o("kilocode:settings.terminal.commandGenerator.apiConfigId.current")})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"-",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.current")}),(a||[]).map(i=>s.jsxs(Be,{value:i.id,"data-testid":`terminal-command-${i.id}-option`,children:[i.name," (",i.apiProvider,")"]},i.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.description")})]})})]})})]})},Kq=({terminalOutputLineLimit:e,terminalOutputCharacterLimit:t,terminalShellIntegrationTimeout:r,terminalShellIntegrationDisabled:n,terminalCommandDelay:o,terminalPowershellCounter:a,terminalZshClearEolMark:i,terminalZshOhMy:c,terminalZshP10k:l,terminalZdotdir:d,terminalCompressProgressBar:u,terminalCommandApiConfigId:p,setCachedStateField:m,className:g,...f})=>{const{t:x}=oe(),[v,N]=h.useState(!0);uI(()=>A.postMessage({type:"getVSCodeSetting",setting:"terminal.integrated.inheritEnv"}));const y=h.useCallback(w=>{const b=w.data;switch(b.type){case"vsCodeSetting":switch(b.setting){case"terminal.integrated.inheritEnv":N(b.value??!0);break}break}},[]);return tr("message",y),s.jsxs("div",{className:ee("flex flex-col",g),...f,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($f,{className:"w-4"}),s.jsx("div",{children:x("settings:sections.terminal")})]})}),s.jsxs($t,{children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx("span",{className:"codicon codicon-settings-gear"}),s.jsx("div",{children:x("settings:terminal.basic.label")})]})}),s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.outputLineLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:100,max:5e3,step:100,value:[e??500],onValueChange:([w])=>m("terminalOutputLineLimit",w),"data-testid":"terminal-output-limit-slider"}),s.jsx("span",{className:"w-10",children:e??500})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.outputLineLimit.description",children:s.jsx(Fe,{href:It("features/shell-integration#terminal-output-limit"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.outputCharacterLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1e3,max:1e5,step:1e3,value:[t??5e4],onValueChange:([w])=>m("terminalOutputCharacterLimit",w),"data-testid":"terminal-output-character-limit-slider"}),s.jsx("span",{className:"w-16",children:t??5e4})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.outputCharacterLimit.description",children:s.jsx(Fe,{href:It("features/shell-integration#terminal-output-limit"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:u??!0,onChange:w=>m("terminalCompressProgressBar",w.target.checked),"data-testid":"terminal-compress-progress-bar-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.compressProgressBar.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.compressProgressBar.description",children:s.jsx(Fe,{href:It("features/shell-integration#compress-progress-bar-output"),style:{display:"inline"},children:" "})})})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx("span",{className:"codicon codicon-tools"}),s.jsx("div",{children:x("settings:terminal.advanced.label")})]}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:x("settings:terminal.advanced.description")})]}),s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx(ze,{checked:v,onChange:w=>{N(w.target.checked),A.postMessage({type:"updateVSCodeSetting",setting:"terminal.integrated.inheritEnv",value:w.target.checked})},"data-testid":"terminal-inherit-env-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.inheritEnv.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.inheritEnv.description",children:s.jsx(Fe,{href:It("features/shell-integration#inherit-environment-variables"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:n??!0,onChange:w=>m("terminalShellIntegrationDisabled",w.target.checked),children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.shellIntegrationDisabled.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.shellIntegrationDisabled.description",children:s.jsx(Fe,{href:It("features/shell-integration#use-inline-terminal-recommended"),style:{display:"inline"},children:" "})})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:v,onChange:w=>{N(w.target.checked),A.postMessage({type:"updateVSCodeSetting",setting:"terminal.integrated.inheritEnv",value:w.target.checked})},"data-testid":"terminal-inherit-env-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.inheritEnv.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.inheritEnv.description",children:s.jsx(Fe,{href:It("features/shell-integration#inherit-environment-variables"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.shellIntegrationTimeout.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:1e3,max:6e4,step:1e3,value:[r??5e3],onValueChange:([w])=>m("terminalShellIntegrationTimeout",Math.min(6e4,Math.max(1e3,w)))}),s.jsxs("span",{className:"w-10",children:[(r??5e3)/1e3,"s"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.shellIntegrationTimeout.description",children:s.jsx(Fe,{href:It("features/shell-integration#terminal-shell-integration-timeout"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.commandDelay.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{min:0,max:1e3,step:10,value:[o??0],onValueChange:([w])=>m("terminalCommandDelay",Math.min(1e3,Math.max(0,w)))}),s.jsxs("span",{className:"w-10",children:[o??50,"ms"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.commandDelay.description",children:s.jsx(Fe,{href:It("features/shell-integration#terminal-command-delay"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:a??!1,onChange:w=>m("terminalPowershellCounter",w.target.checked),"data-testid":"terminal-powershell-counter-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.powershellCounter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.powershellCounter.description",children:s.jsx(Fe,{href:It("features/shell-integration#enable-powershell-counter-workaround"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:i??!0,onChange:w=>m("terminalZshClearEolMark",w.target.checked),"data-testid":"terminal-zsh-clear-eol-mark-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshClearEolMark.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.zshClearEolMark.description",children:s.jsx(Fe,{href:It("features/shell-integration#clear-zsh-eol-mark"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:c??!1,onChange:w=>m("terminalZshOhMy",w.target.checked),"data-testid":"terminal-zsh-oh-my-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshOhMy.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.zshOhMy.description",children:s.jsx(Fe,{href:It("features/shell-integration#enable-oh-my-zsh-integration"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:l??!1,onChange:w=>m("terminalZshP10k",w.target.checked),"data-testid":"terminal-zsh-p10k-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshP10k.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.zshP10k.description",children:s.jsx(Fe,{href:It("features/shell-integration#enable-powerlevel10k-integration"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(ze,{checked:d??!1,onChange:w=>m("terminalZdotdir",w.target.checked),"data-testid":"terminal-zdotdir-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zdotdir.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"settings:terminal.zdotdir.description",children:s.jsx(Fe,{href:It("features/shell-integration#enable-zdotdir-handling"),style:{display:"inline"},children:" "})})})]})]})]})]}),s.jsx(Uq,{terminalCommandApiConfigId:p,setCachedStateField:m})]})]})},Gm=({enabled:e,onChange:t,experimentKey:r})=>{const{t:n}=oe(),o=r?`settings:experimental.${r}.name`:"",a=r?`settings:experimental.${r}.description`:"";return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{checked:e,onChange:i=>t(i.target.checked),children:s.jsx("span",{className:"font-medium",children:n(o)})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:n(a)})]})},Wq=({morphApiKey:e,fastApplyModel:t,fastApplyApiProvider:r,setCachedStateField:n})=>{const{t:o}=oe();return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-vscode-descriptionForeground mb-1 block",children:o("settings:experimental.MORPH_FAST_APPLY.apiProvider")}),s.jsxs($s,{value:r||"current",onChange:a=>{var i;return n("fastApplyApiProvider",((i=a.target)==null?void 0:i.value)||"current")},className:"w-full",children:[s.jsx(yt,{className:"py-2 px-3",value:"kilocode",children:"Kilo Code"}),s.jsx(yt,{className:"py-2 px-3",value:"openrouter",children:"OpenRouter"}),s.jsx(yt,{className:"py-2 px-3",value:"morph",children:"Morph"}),s.jsx(yt,{className:"py-2 px-3",value:"current",children:o("settings:experimental.MORPH_FAST_APPLY.apiProviderList.current")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-vscode-descriptionForeground mb-1 block",children:o("settings:experimental.MORPH_FAST_APPLY.modelLabel")}),s.jsxs($s,{value:t||"auto",onChange:a=>{var i;return n("fastApplyModel",((i=a.target)==null?void 0:i.value)||"auto")},className:"w-full",children:[s.jsx(yt,{value:"auto",children:o("settings:experimental.MORPH_FAST_APPLY.models.auto")}),s.jsx(yt,{value:"morph/morph-v3-fast",children:o("settings:experimental.MORPH_FAST_APPLY.models.morphFast")}),s.jsx(yt,{value:"morph/morph-v3-large",children:o("settings:experimental.MORPH_FAST_APPLY.models.morphLarge")}),s.jsx(yt,{value:"relace/relace-apply-3",children:o("settings:experimental.MORPH_FAST_APPLY.models.relace")})]}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1",children:o("settings:experimental.MORPH_FAST_APPLY.modelDescription")})]}),r!=="current"&&s.jsx(ce,{type:"password",value:e||"",placeholder:o("settings:experimental.MORPH_FAST_APPLY.placeholder"),onChange:a=>{var i;return n("morphApiKey",((i=a.target)==null?void 0:i.value)||"")},className:"w-full",children:o("settings:experimental.MORPH_FAST_APPLY.apiKey")})]})},$q=({enabled:e,onChange:t,imageGenerationProvider:r,openRouterImageApiKey:n,openRouterImageGenerationSelectedModel:o,setImageGenerationProvider:a,setOpenRouterImageApiKey:i,setImageGenerationSelectedModel:c,kiloCodeImageApiKey:l,setKiloCodeImageApiKey:d,currentProfileKilocodeToken:u})=>{const{t:p}=oe(),m=wT(r,!!o);h.useEffect(()=>{e&&m!=="openrouter"&&n&&i("")},[e,m,n,i]);const g=h.useMemo(()=>gl.filter(b=>b.provider===m),[m]),f=h.useMemo(()=>{var b;return o&&gl.find(_=>_.value===o&&_.provider===m)?o:((b=g[0])==null?void 0:b.value)||gl[0].value},[o,g,m]),x=b=>{const k=b;a(k);const _=gl.filter(j=>j.provider===k);_.length>0&&(_.find(T=>T.value===o)||c(_[0].value))},v=b=>{i(b)},N=b=>{d(b)},y=b=>{c(b)},w=m==="openrouter"?n:l;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{checked:e,onChange:b=>t(b.target.checked),children:s.jsx("span",{className:"font-medium",children:p("settings:experimental.IMAGE_GENERATION.name")})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:p("settings:experimental.IMAGE_GENERATION.description")})]}),e&&s.jsxs("div",{className:"ml-2 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.providerLabel")}),s.jsxs($s,{value:m,onChange:b=>x(b.target.value),className:"w-full",children:[s.jsx(yt,{value:"kilocode",className:"py-2 px-3",children:"Kilo Gateway"}),s.jsx(yt,{value:"openrouter",className:"py-2 px-3",children:"OpenRouter"})]}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:experimental.IMAGE_GENERATION.providerDescription")})]}),s.jsxs("div",{style:{display:m==="openrouter"?"none":void 0},children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyLabel")}),s.jsx(ce,{value:l,onInput:b=>N(b.target.value),placeholder:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyPlaceholder"),className:"w-full",type:"password"}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:u?s.jsx("a",{href:"#",onClick:()=>N(u),className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyPaste")}):s.jsxs(s.Fragment,{children:[p("settings:experimental.IMAGE_GENERATION.getApiKeyText")," ",s.jsx("a",{href:jr("/profile?personal=true"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:jr("/profile")})]})})]}),m==="openrouter"&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.openRouterApiKeyLabel")}),s.jsx(ce,{value:n||"",onInput:b=>v(b.target.value),placeholder:p("settings:experimental.IMAGE_GENERATION.openRouterApiKeyPlaceholder"),className:"w-full",type:"password"}),s.jsxs("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:[p("settings:experimental.IMAGE_GENERATION.getApiKeyText")," ",s.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:"openrouter.ai/keys"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.modelSelectionLabel")}),s.jsx($s,{value:f,onChange:b=>y(b.target.value),className:"w-full",children:g.map(b=>s.jsx(yt,{value:b.value,className:"py-2 px-3",children:b.label},b.value))}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:experimental.IMAGE_GENERATION.modelSelectionDescription")})]}),e&&!w&&s.jsx("div",{className:"p-2 bg-vscode-editorWarning-background text-vscode-editorWarning-foreground rounded text-sm",children:p("settings:experimental.IMAGE_GENERATION.warningMissingKey")}),e&&w&&s.jsx("div",{className:"p-2 bg-vscode-editorInfo-background text-vscode-editorInfo-foreground rounded text-sm",children:p("settings:experimental.IMAGE_GENERATION.successConfigured")})]})]})},Hq=({experiments:e,setExperimentEnabled:t,apiConfiguration:r,setApiConfigurationField:n,imageGenerationProvider:o,openRouterImageApiKey:a,openRouterImageGenerationSelectedModel:i,setImageGenerationProvider:c,setOpenRouterImageApiKey:l,setImageGenerationSelectedModel:d,className:u,morphApiKey:p,fastApplyModel:m,fastApplyApiProvider:g,setCachedStateField:f,setKiloCodeImageApiKey:x,kiloCodeImageApiKey:v,currentProfileKilocodeToken:N,...y})=>{const{t:w}=oe();return s.jsxs("div",{className:ee("flex flex-col gap-2",u),...y,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J1,{className:"w-4"}),s.jsx("div",{children:w("settings:sections.experimental")})]})}),s.jsx($t,{children:Object.entries(kT).filter(([b])=>b in yn).filter(b=>b[0]!=="MARKETPLACE").filter(([b])=>b!=="MULTIPLE_NATIVE_TOOL_CALLS").map(b=>{if(b[0]==="MULTI_FILE_APPLY_DIFF")return s.jsx(Gm,{experimentKey:b[0],enabled:e[yn.MULTI_FILE_APPLY_DIFF]??!1,onChange:k=>t(yn.MULTI_FILE_APPLY_DIFF,k)},b[0]);if(b[0]==="MORPH_FAST_APPLY"){const k=e[yn[b[0]]]??!1;return s.jsxs(He.Fragment,{children:[s.jsx(Gm,{experimentKey:b[0],enabled:k,onChange:_=>t(yn[b[0]],_)},b[0]),k&&s.jsx(Wq,{setCachedStateField:f,morphApiKey:p,fastApplyModel:m,fastApplyApiProvider:g})]},b[0])}return b[0]==="IMAGE_GENERATION"&&c&&l&&x&&d?s.jsx($q,{enabled:e[yn.IMAGE_GENERATION]??!1,onChange:k=>t(yn.IMAGE_GENERATION,k),imageGenerationProvider:o,openRouterImageApiKey:a,kiloCodeImageApiKey:v,openRouterImageGenerationSelectedModel:i,setImageGenerationProvider:c,setOpenRouterImageApiKey:l,setKiloCodeImageApiKey:x,setImageGenerationSelectedModel:d,currentProfileKilocodeToken:N},b[0]):s.jsx(Gm,{experimentKey:b[0],enabled:e[yn[b[0]]]??!1,onChange:k=>t(yn[b[0]],k)},b[0])})})]})};function Vq(){return Object.entries(ZP).toSorted((e,t)=>e[0].localeCompare(t[0]))}const Gq=({language:e,setCachedStateField:t,className:r,...n})=>{const{t:o}=oe();return s.jsxs("div",{className:ee("flex flex-col gap-2",r),...n,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oc,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.language")})]})}),s.jsx($t,{children:s.jsxs(Dt,{value:e,onValueChange:a=>t("language",a),children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:o("settings:common.select")})}),s.jsx(Bt,{children:s.jsx(U_,{children:Vq().map(([a,i])=>s.jsxs(Be,{value:a,children:[i,s.jsxs("span",{className:"text-muted-foreground",children:["(",a,")"]})]},a))})})]})})]})};t1(e=>{A.postMessage({type:"showSystemNotification",notificationOptions:{message:e}})});function i0(){if("memory"in performance&&typeof performance.memory=="object"){const e=performance.memory;return Math.floor(100*e.totalJSHeapSize/e.jsHeapSizeLimit)}return 0}const Qq=({telemetrySetting:e,setTelemetrySetting:t,className:r,...n})=>{const{t:o}=oe(),[a,i]=h.useState([]);return s.jsxs("div",{className:ee("flex flex-col gap-2",r),...n,children:[s.jsx(ws,{description:`Version: ${Ba.version} (${Ba.sha.slice(0,8)})`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(od,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.about")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:e!=="disabled",onChange:c=>{const l=c.target.checked===!0;t(l?"enabled":"disabled")},children:o("settings:footer.telemetry.label")}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:s.jsx(je,{i18nKey:"settings:footer.telemetry.description",components:{privacyLink:s.jsx(Fe,{href:"https://kilo.ai/privacy"})}})})]}),s.jsx("div",{children:s.jsx(je,{i18nKey:"settings:footer.feedback",components:{githubLink:s.jsx(Fe,{href:"https://github.com/Kilo-Org/kilocode"}),redditLink:s.jsx(Fe,{href:"https://reddit.com/r/kilocode"}),discordLink:s.jsx(Fe,{href:"https://kilo.ai/discord"})}})}),s.jsx("div",{children:s.jsx(je,{i18nKey:"settings:footer.support",components:{supportLink:s.jsx(Fe,{href:"https://kilo.ai/support"})}})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsxs(ae,{onClick:()=>A.postMessage({type:"exportSettings"}),className:"w-28",children:[s.jsx(a_,{className:"p-0.5"}),o("settings:footer.settings.export")]}),s.jsxs(ae,{onClick:()=>A.postMessage({type:"importSettings"}),className:"w-28",children:[s.jsx(Dg,{className:"p-0.5"}),o("settings:footer.settings.import")]}),s.jsxs(ae,{variant:"destructive",onClick:()=>A.postMessage({type:"resetState"}),className:"w-28",children:[s.jsx(el,{className:"p-0.5"}),o("settings:footer.settings.reset")]})]}),!1]})]})},Yq=e=>e!=null&&e.length?`
Current problems detected:
${e.map(t=>`- [${t.source||"Error"}] ${t.message}${t.code?` (${t.code})`:""}`).join(`
`)}`:"",Xq=(e,t)=>e.replace(/\${(.*?)}/g,(r,n)=>{if(n==="diagnosticText")return Yq(t.diagnostics);if(t.hasOwnProperty(n)){const o=t[n];return typeof o=="string"?o:String(o)}else return""}),l0={ENHANCE:{template:`Generate an enhanced version of this prompt (reply with only the enhanced prompt - no conversation, explanations, lead-in, bullet points, placeholders, or surrounding quotes):

\${userInput}`},CONDENSE:{template:`Your task is to create a detailed summary of the conversation so far, paying close attention to the user's explicit requests and your previous actions.
This summary should be thorough in capturing technical details, code patterns, and architectural decisions that would be essential for continuing with the conversation and supporting any continuing tasks.

Your summary should be structured as follows:
Context: The context to continue the conversation with. If applicable based on the current task, this should include:
  1. Previous Conversation: High level details about what was discussed throughout the entire conversation with the user. This should be written to allow someone to be able to follow the general overarching conversation flow.
  2. Current Work: Describe in detail what was being worked on prior to this request to summarize the conversation. Pay special attention to the more recent messages in the conversation.
  3. Key Technical Concepts: List all important technical concepts, technologies, coding conventions, and frameworks discussed, which might be relevant for continuing with this work.
  4. Relevant Files and Code: If applicable, enumerate specific files and code sections examined, modified, or created for the task continuation. Pay special attention to the most recent messages and changes.
  5. Problem Solving: Document problems solved thus far and any ongoing troubleshooting efforts.
  6. Pending Tasks and Next Steps: Outline all pending tasks that you have explicitly been asked to work on, as well as list the next steps you will take for all outstanding work, if applicable. Include code snippets where they add clarity. For any next steps, include direct quotes from the most recent conversation showing exactly what task you were working on and where you left off. This should be verbatim to ensure there's no information loss in context between tasks.

Example summary structure:
1. Previous Conversation:
  [Detailed description]
2. Current Work:
  [Detailed description]
3. Key Technical Concepts:
  - [Concept 1]
  - [Concept 2]
  - [...]
4. Relevant Files and Code:
  - [File Name 1]
	- [Summary of why this file is important]
	- [Summary of the changes made to this file, if any]
	- [Important Code Snippet]
  - [File Name 2]
	- [Important Code Snippet]
  - [...]
5. Problem Solving:
  [Detailed description]
6. Pending Tasks and Next Steps:
  - [Task 1 details & next steps]
  - [Task 2 details & next steps]
  - [...]

Output only the summary of the conversation so far, without any additional commentary or explanation.`},EXPLAIN:{template:"Explain the following code from file path ${filePath}:${startLine}-${endLine}\n${userInput}\n\n```\n${selectedText}\n```\n\nPlease provide a clear and concise explanation of what this code does, including:\n1. The purpose and functionality\n2. Key components and their interactions\n3. Important patterns or techniques used"},FIX:{template:"Fix any issues in the following code from file path ${filePath}:${startLine}-${endLine}\n${diagnosticText}\n${userInput}\n\n```\n${selectedText}\n```\n\nPlease:\n1. Address all detected problems listed above (if any)\n2. Identify any other potential bugs or issues\n3. Provide corrected code\n4. Explain what was fixed and why"},IMPROVE:{template:`Improve the following code from file path \${filePath}:\${startLine}-\${endLine}
\${userInput}

\`\`\`
\${selectedText}
\`\`\`

Please suggest improvements for:
1. Code readability and maintainability
2. Performance optimization
3. Best practices and patterns
4. Error handling and edge cases

Provide the improved code along with explanations for each enhancement.`},ADD_TO_CONTEXT:{template:"${filePath}:${startLine}-${endLine}\n```\n${selectedText}\n```"},TERMINAL_ADD_TO_CONTEXT:{template:"${userInput}\nTerminal output:\n```\n${terminalContent}\n```"},TERMINAL_FIX:{template:`\${userInput}
Fix this terminal command:
\`\`\`
\${terminalContent}
\`\`\`

Please:
1. Identify any issues in the command
2. Provide the corrected command
3. Explain what was fixed and why`},TERMINAL_EXPLAIN:{template:`\${userInput}
Explain this terminal command:
\`\`\`
\${terminalContent}
\`\`\`

Please provide:
1. What the command does
2. Explanation of each part/flag
3. Expected output and behavior`},TERMINAL_GENERATE:{template:`Generate a terminal command based on this description: "\${userInput}"

Context:
- Operating System: \${operatingSystem}
- Current Directory: \${currentDirectory}
- Shell: \${shell}

Requirements:
1. Generate ONLY the command, no explanations or formatting
2. Ensure the command is safe and appropriate
3. Use common command-line tools and best practices
4. Consider the current working directory context
5. Return only the raw command that can be executed directly
`},NEW_TASK:{template:"${userInput}"},COMMIT_MESSAGE:{template:`# Conventional Commit Message Generator
## System Instructions
You are an expert Git commit message generator that creates conventional commit messages based on staged changes. Analyze the provided git diff output and generate appropriate conventional commit messages following the specification.

\${customInstructions}

## CRITICAL: Commit Message Output Rules
- DO NOT include any memory bank status indicators like "[Memory Bank: Active]" or "[Memory Bank: Missing]"
- DO NOT include any task-specific formatting or artifacts from other rules
- ONLY Generate a clean conventional commit message as specified below

\${gitContext}

## Conventional Commits Format
Generate commit messages following this exact structure:
\`\`\`
<type>[optional scope]: <description>
[optional body]
[optional footer(s)]
\`\`\`

### Core Types (Required)
- **feat**: New feature or functionality (MINOR version bump)
- **fix**: Bug fix or error correction (PATCH version bump)

### Additional Types (Extended)
- **docs**: Documentation changes only
- **style**: Code style changes (whitespace, formatting, semicolons, etc.)
- **refactor**: Code refactoring without feature changes or bug fixes
- **perf**: Performance improvements
- **test**: Adding or fixing tests
- **build**: Build system or external dependency changes
- **ci**: CI/CD configuration changes
- **chore**: Maintenance tasks, tooling changes
- **revert**: Reverting previous commits

### Scope Guidelines
- Use parentheses: \`feat(api):\`, \`fix(ui):\`
- Common scopes: \`api\`, \`ui\`, \`auth\`, \`db\`, \`config\`, \`deps\`, \`docs\`
- For monorepos: package or module names
- Keep scope concise and lowercase

### Description Rules
- Use imperative mood ("add" not "added" or "adds")
- Start with lowercase letter
- No period at the end
- Maximum 50 characters
- Be concise but descriptive

### Body Guidelines (Optional)
- Start one blank line after description
- Explain the "what" and "why", not the "how"
- Wrap at 72 characters per line
- Use for complex changes requiring explanation

### Footer Guidelines (Optional)
- Start one blank line after body
- **Breaking Changes**: \`BREAKING CHANGE: description\`

## Analysis Instructions
When analyzing staged changes:
1. Determine Primary Type based on the nature of changes
2. Identify Scope from modified directories or modules
3. Craft Description focusing on the most significant change
4. Determine if there are Breaking Changes
5. For complex changes, include a detailed body explaining what and why
6. Add appropriate footers for issue references or breaking changes

For significant changes, include a detailed body explaining the changes.

Return ONLY the commit message in the conventional format, nothing else.`}},Kn={default:Object.fromEntries(Object.entries(l0).map(([e,t])=>[e,t.template])),get:(e,t)=>(e==null?void 0:e[t])??l0[t].template,create:(e,t,r)=>{const n=Kn.get(r,e);return Xq(n,t)}},Jq=()=>{const{t:e}=oe(),{listApiConfigMeta:t,commitMessageApiConfigId:r,setCommitMessageApiConfigId:n}=Ge();return s.jsx("div",{className:"mt-4 flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:e("prompts:supportPrompts.enhance.apiConfiguration")}),s.jsxs(Dt,{value:r||"-",onValueChange:o=>{n(o==="-"?"":o),A.postMessage({type:"commitMessageApiConfigId",text:o})},children:[s.jsx(Lt,{"data-testid":"commit-message-api-config-select",className:"w-full",children:s.jsx(Ft,{placeholder:e("prompts:supportPrompts.enhance.useCurrentConfig")})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"-",children:e("prompts:supportPrompts.enhance.useCurrentConfig")}),(t||[]).map(o=>s.jsx(Be,{value:o.id,"data-testid":`commit-message-${o.id}-option`,children:o.name},o.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:e("prompts:supportPrompts.enhance.apiConfigDescription")})]})})},Zq=({customSupportPrompts:e,setCustomSupportPrompts:t,includeTaskHistoryInEnhance:r,setIncludeTaskHistoryInEnhance:n})=>{const{t:o}=oe(),{listApiConfigMeta:a,enhancementApiConfigId:i,setEnhancementApiConfigId:c,condensingApiConfigId:l,setCondensingApiConfigId:d,customCondensingPrompt:u,setCustomCondensingPrompt:p,includeTaskHistoryInEnhance:m,setIncludeTaskHistoryInEnhance:g}=Ge(),f=r??m??!0,x=n??g,[v,N]=h.useState(""),[y,w]=h.useState(!1),[b,k]=h.useState("ENHANCE");h.useEffect(()=>{const I=E=>{const M=E.data;M.type==="enhancedPrompt"&&(M.text&&N(M.text),w(!1))};return window.addEventListener("message",I),()=>window.removeEventListener("message",I)},[]);const _=(I,E)=>{const M=E??void 0;if(I==="CONDENSE"){p(M??Kn.default.CONDENSE),A.postMessage({type:"updateCondensingPrompt",text:M??Kn.default.CONDENSE});const R={...e};M===void 0?delete R[I]:R[I]=M,t(R)}else{const R={...e};M===void 0?delete R[I]:R[I]=M,t(R)}},j=I=>{if(I==="CONDENSE"){p(Kn.default.CONDENSE),A.postMessage({type:"updateCondensingPrompt",text:Kn.default.CONDENSE});const E={...e};delete E[I],t(E)}else{const E={...e};delete E[I],t(E)}},T=I=>I==="CONDENSE"?u??Kn.default.CONDENSE:Kn.get(e,I),S=()=>{v.trim()&&(w(!0),A.postMessage({type:"enhancePrompt",text:v}))};return s.jsxs("div",{children:[s.jsx(ws,{description:o("settings:prompts.description"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fg,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.prompts")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsxs(Dt,{value:b,onValueChange:I=>k(I),children:[s.jsx(Lt,{className:"w-full","data-testid":"support-prompt-select-trigger",children:s.jsx(Ft,{placeholder:o("settings:common.select")})}),s.jsx(Bt,{children:Object.keys(Kn.default).map(I=>s.jsx(Be,{value:I,"data-testid":`${I}-option`,children:o(`prompts:supportPrompts.types.${I}.label`)},I))})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o(`prompts:supportPrompts.types.${b}.description`)})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:o("prompts:supportPrompts.prompt")}),s.jsx(de,{content:o("prompts:supportPrompts.resetPrompt",{promptType:b}),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>j(b),children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx(jn,{resize:"vertical",value:T(b),onInput:I=>{var M,R;const E=((R=(M=I==null?void 0:I.detail)==null?void 0:M.target)==null?void 0:R.value)??I.target.value;_(b,E)},rows:6,className:"w-full"}),(b==="ENHANCE"||b==="CONDENSE")&&s.jsxs("div",{className:"mt-4 flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o(b==="ENHANCE"?"prompts:supportPrompts.enhance.apiConfiguration":"prompts:supportPrompts.condense.apiConfiguration")}),s.jsxs(Dt,{value:b==="ENHANCE"?i||"-":l||"-",onValueChange:I=>{const E=I==="-"?"":I;b==="ENHANCE"?(c(E),A.postMessage({type:"enhancementApiConfigId",text:I})):(d(E),A.postMessage({type:"updateSettings",updatedSettings:{condensingApiConfigId:E}}))},children:[s.jsx(Lt,{"data-testid":"api-config-select",className:"w-full",children:s.jsx(Ft,{placeholder:o(b==="ENHANCE"?"prompts:supportPrompts.enhance.useCurrentConfig":"prompts:supportPrompts.condense.useCurrentConfig")})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"-",children:o(b==="ENHANCE"?"prompts:supportPrompts.enhance.useCurrentConfig":"prompts:supportPrompts.condense.useCurrentConfig")}),(a||[]).map(I=>s.jsx(Be,{value:I.id,"data-testid":`${I.id}-option`,children:I.name},I.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o(b==="ENHANCE"?"prompts:supportPrompts.enhance.apiConfigDescription":"prompts:supportPrompts.condense.apiConfigDescription")})]}),b==="ENHANCE"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ze,{checked:f,onChange:I=>{const E="target"in I?I.target:null;E&&(x(E.checked),A.postMessage({type:"updateSettings",updatedSettings:{includeTaskHistoryInEnhance:E.checked}}))},children:s.jsx("span",{className:"font-medium",children:o("prompts:supportPrompts.enhance.includeTaskHistory")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:o("prompts:supportPrompts.enhance.includeTaskHistoryDescription")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o("prompts:supportPrompts.enhance.testEnhancement")}),s.jsx(jn,{resize:"vertical",value:v,onChange:I=>N(I.target.value),placeholder:o("prompts:supportPrompts.enhance.testPromptPlaceholder"),rows:3,className:"w-full","data-testid":"test-prompt-textarea"}),s.jsx("div",{className:"mt-2 flex justify-start items-center gap-2",children:s.jsx(ae,{variant:"primary",onClick:S,disabled:y,children:o("prompts:supportPrompts.enhance.previewButton")})})]})]})]}),b==="COMMIT_MESSAGE"&&s.jsx(Jq,{})]},b)]})]})},gS=6048e5,e7=864e5,c0=Symbol.for("constructDateFrom");function io(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&c0 in e?e[c0](t):e instanceof Date?new e.constructor(t):new Date(t)}function tn(e,t){return io(t||e,e)}let t7={};function cl(){return t7}function Oi(e,t){var c,l,d,u;const r=cl(),n=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=tn(e,t==null?void 0:t.in),a=o.getDay(),i=(a<n?7:0)+a-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Rc(e,t){return Oi(e,{...t,weekStartsOn:1})}function xS(e,t){const r=tn(e,t==null?void 0:t.in),n=r.getFullYear(),o=io(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=Rc(o),i=io(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=Rc(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function d0(e){const t=tn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vS(e,...t){const r=io.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function u0(e,t){const r=tn(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function bS(e,t,r){const[n,o]=vS(r==null?void 0:r.in,e,t),a=u0(n),i=u0(o),c=+a-d0(a),l=+i-d0(i);return Math.round((c-l)/e7)}function s7(e,t){const r=xS(e,t),n=io(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Rc(n)}function r7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function n7(e){return!(!r7(e)&&typeof e!="number"||isNaN(+tn(e)))}function o7(e,t){const r=tn(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const a7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i7=(e,t,r)=>{let n;const o=a7[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const l7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u7={date:Qm({formats:l7,defaultWidth:"full"}),time:Qm({formats:c7,defaultWidth:"full"}),dateTime:Qm({formats:d7,defaultWidth:"full"})},p7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},m7=(e,t,r,n)=>p7[e];function li(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):i;o=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[c]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const h7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y7=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w7={ordinalNumber:y7,era:li({values:h7,defaultWidth:"wide"}),quarter:li({values:f7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:li({values:g7,defaultWidth:"wide"}),day:li({values:x7,defaultWidth:"wide"}),dayPeriod:li({values:v7,defaultWidth:"wide",formattingValues:b7,defaultFormattingWidth:"wide"})};function ci(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?j7(c,p=>p.test(i)):k7(c,p=>p.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function k7(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function j7(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function _7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const c=t.slice(o.length);return{value:i,rest:c}}}const N7=/^(\d+)(th|st|nd|rd)?/i,S7=/\d+/i,T7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I7={any:[/^b/i,/^(a|c)/i]},P7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E7={any:[/1/i,/2/i,/3/i,/4/i]},M7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},C7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F7={ordinalNumber:_7({matchPattern:N7,parsePattern:S7,valueCallback:e=>parseInt(e,10)}),era:ci({matchPatterns:T7,defaultMatchWidth:"wide",parsePatterns:I7,defaultParseWidth:"any"}),quarter:ci({matchPatterns:P7,defaultMatchWidth:"wide",parsePatterns:E7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ci({matchPatterns:M7,defaultMatchWidth:"wide",parsePatterns:A7,defaultParseWidth:"any"}),day:ci({matchPatterns:R7,defaultMatchWidth:"wide",parsePatterns:C7,defaultParseWidth:"any"}),dayPeriod:ci({matchPatterns:O7,defaultMatchWidth:"any",parsePatterns:D7,defaultParseWidth:"any"})},yS={code:"en-US",formatDistance:i7,formatLong:u7,formatRelative:m7,localize:w7,match:F7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L7(e,t){const r=tn(e,t==null?void 0:t.in);return bS(r,o7(r))+1}function B7(e,t){const r=tn(e,t==null?void 0:t.in),n=+Rc(r)-+s7(r);return Math.round(n/gS)+1}function wS(e,t){var u,p,m,g;const r=tn(e,t==null?void 0:t.in),n=r.getFullYear(),o=cl(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((g=(m=o.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=io((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const c=Oi(i,t),l=io((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const d=Oi(l,t);return+r>=+c?n+1:+r>=+d?n:n-1}function z7(e,t){var c,l,d,u;const r=cl(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,o=wS(e,t),a=io((t==null?void 0:t.in)||e,0);return a.setFullYear(o,0,n),a.setHours(0,0,0,0),Oi(a,t)}function q7(e,t){const r=tn(e,t==null?void 0:t.in),n=+Oi(r,t)-+z7(r,t);return Math.round(n/gS)+1}function At(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const On={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return At(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):At(r+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return At(o,t.length)}},aa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},p0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return On.y(e,t)},Y:function(e,t,r,n){const o=wS(e,n),a=o>0?o:1-o;if(t==="YY"){const i=a%100;return At(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):At(a,t.length)},R:function(e,t){const r=xS(e);return At(r,t.length)},u:function(e,t){const r=e.getFullYear();return At(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return At(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return At(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return On.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return At(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=q7(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):At(o,t.length)},I:function(e,t,r){const n=B7(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):At(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):On.d(e,t)},D:function(e,t,r){const n=L7(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):At(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return At(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return At(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return At(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=aa.noon:n===0?o=aa.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=aa.evening:n>=12?o=aa.afternoon:n>=4?o=aa.morning:o=aa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return On.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):On.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):On.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):On.s(e,t)},S:function(e,t){return On.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return h0(n);case"XXXX":case"XX":return bo(n);case"XXXXX":case"XXX":default:return bo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return h0(n);case"xxxx":case"xx":return bo(n);case"xxxxx":case"xxx":default:return bo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m0(n,":");case"OOOO":default:return"GMT"+bo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m0(n,":");case"zzzz":default:return"GMT"+bo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return At(n,t.length)},T:function(e,t,r){return At(+e,t.length)}};function m0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),a=n%60;return a===0?r+String(o):r+String(o)+t+At(a,2)}function h0(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):bo(e,t)}function bo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=At(Math.trunc(n/60),2),a=At(n%60,2);return r+o+t+a}const f0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},U7=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return f0(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",f0(n,t)).replace("{{time}}",kS(o,t))},K7={p:kS,P:U7},W7=/^D+$/,$7=/^Y+$/,H7=["D","DD","YY","YYYY"];function V7(e){return W7.test(e)}function G7(e){return $7.test(e)}function Q7(e,t,r){const n=Y7(e,t,r);if(console.warn(n),H7.includes(e))throw new RangeError(n)}function Y7(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z7=/^'([^]*?)'?$/,eU=/''/g,tU=/[a-zA-Z]/;function sU(e,t,r){var u,p,m,g,f,x,v,N;const n=cl(),o=(r==null?void 0:r.locale)??n.locale??yS,a=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((x=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((N=(v=n.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,c=tn(e,r==null?void 0:r.in);if(!n7(c))throw new RangeError("Invalid time value");let l=t.match(J7).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=K7[w];return b(y,o.formatLong)}return y}).join("").match(X7).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:rU(y)};if(p0[w])return{isToken:!0,value:y};if(w.match(tU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});o.localize.preprocessor&&(l=o.localize.preprocessor(c,l));const d={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&G7(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&V7(w))&&Q7(w,t,String(e));const b=p0[w[0]];return b(c,w,o.localize,d)}).join("")}function rU(e){const t=e.match(Z7);return t?t[1].replace(eU,"'"):e}function nU(e,t,r){var p,m;const[n,o]=vS(r==null?void 0:r.in,e,t),a=cl(),i=a.locale??yS,c=a.weekStartsOn??((m=(p=a.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,l=bS(n,o);if(isNaN(l))throw new RangeError("Invalid time value");let d;l<-6?d="other":l<-1?d="lastWeek":l<0?d="yesterday":l<1?d="today":l<2?d="tomorrow":l<7?d="nextWeek":d="other";const u=i.formatRelative(d,n,o,{locale:i,weekStartsOn:c});return sU(n,u,{locale:i,weekStartsOn:c})}const oU=({error:e})=>{const t=h.useMemo(()=>{switch(e.level){case"error":return"var(--vscode-testing-iconFailed)";case"warn":return"var(--vscode-charts-yellow)";case"info":return"var(--vscode-testing-iconPassed)"}},[e.level]);return s.jsxs("div",{className:"text-sm bg-vscode-textCodeBlock-background border-l-2 p-2",style:{borderColor:t},children:[s.jsx("div",{className:"mb-1",style:{color:t},children:e.message}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:nU(e.timestamp,new Date)})]})},jS=({onDone:e,hideHeader:t=!1})=>{const{mcpServers:r,alwaysAllowMcp:n,mcpEnabled:o,enableMcpServerCreation:a,setEnableMcpServerCreation:i}=Ge(),{t:c}=oe();return s.jsxs(Xo,{className:"relative",children:[s.jsxs(ol,{style:{display:t?"none":"flex"},className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:c("mcp:title")}),s.jsx(ae,{onClick:e,children:c("mcp:done")})]}),s.jsxs($t,{children:[s.jsx("div",{style:{color:"var(--vscode-foreground)",fontSize:"13px",marginBottom:"10px",marginTop:"5px"},children:s.jsx(je,{i18nKey:"mcp:description",children:s.jsx(Fe,{href:It("features/mcp/using-mcp-in-kilo-code"),style:{display:"inline"},children:"Learn More"})})}),o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"none",marginBottom:15},children:[s.jsx(ze,{checked:a,onChange:l=>{i(l.target.checked),A.postMessage({type:"enableMcpServerCreation",bool:l.target.checked})},children:s.jsx("span",{style:{fontWeight:"500"},children:c("mcp:enableServerCreation.title")})}),s.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"var(--vscode-descriptionForeground)"},children:[s.jsxs(je,{i18nKey:"mcp:enableServerCreation.description",children:[s.jsx(Fe,{href:It("features/mcp/using-mcp-in-kilo-code#how-to-use-kilo-code-to-create-an-mcp-server"),style:{display:"inline"},children:"Learn about server creation"}),s.jsx("strong",{children:"new"})]}),s.jsx("p",{style:{marginTop:"8px"},children:c("mcp:enableServerCreation.hint")})]})]}),r.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(l=>s.jsx(aU,{server:l,alwaysAllowMcp:n},`${l.name}-${l.source||"global"}`))}),s.jsxs("div",{style:{marginTop:"10px",width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[s.jsxs(ae,{variant:"secondary",style:{width:"100%"},onClick:()=>{A.postMessage({type:"openMcpSettings"})},children:[s.jsx("span",{className:"codicon codicon-edit",style:{marginRight:"6px"}}),c("mcp:editGlobalMCP")]}),s.jsxs(ae,{variant:"secondary",style:{width:"100%"},onClick:()=>{A.postMessage({type:"openProjectMcpSettings"})},children:[s.jsx("span",{className:"codicon codicon-edit",style:{marginRight:"6px"}}),c("mcp:editProjectMCP")]}),s.jsxs(ae,{variant:"secondary",style:{width:"100%"},onClick:()=>{A.postMessage({type:"refreshAllMcpServers"})},children:[s.jsx("span",{className:"codicon codicon-refresh",style:{marginRight:"6px"}}),c("mcp:refreshMCP")]})]}),s.jsx("div",{className:"mt-5",children:"You can find the MCP Marketplace under Settings > MCP Servers > Marketplace"}),s.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--vscode-descriptionForeground)"},children:s.jsx(Fe,{href:It("features/mcp/using-mcp-in-kilo-code#editing-mcp-settings-files"),style:{display:"inline"},children:c("mcp:learnMoreEditingSettings")})})]})]})]})},aU=({server:e,alwaysAllowMcp:t})=>{var v,N;const{t:r}=oe(),[n,o]=h.useState(!1),[a,i]=h.useState(!1),[c,l]=h.useState(()=>{var w;return((w=JSON.parse(e.config))==null?void 0:w.timeout)??60}),d=e.status==="connected"&&!e.disabled,u=[{value:15,label:r("mcp:networkTimeout.options.15seconds")},{value:30,label:r("mcp:networkTimeout.options.30seconds")},{value:60,label:r("mcp:networkTimeout.options.1minute")},{value:300,label:r("mcp:networkTimeout.options.5minutes")},{value:600,label:r("mcp:networkTimeout.options.10minutes")},{value:900,label:r("mcp:networkTimeout.options.15minutes")},{value:1800,label:r("mcp:networkTimeout.options.30minutes")},{value:3600,label:r("mcp:networkTimeout.options.60minutes")}],p=()=>{if(e.disabled)return"var(--vscode-descriptionForeground)";switch(e.status){case"connected":return"var(--vscode-testing-iconPassed)";case"connecting":return"var(--vscode-charts-yellow)";case"disconnected":return"var(--vscode-testing-iconFailed)"}},m=()=>{d&&o(!n)},g=()=>{A.postMessage({type:"restartMcpServer",text:e.name,source:e.source||"global"})},f=y=>{const w=parseInt(y.target.value);l(w),A.postMessage({type:"updateMcpTimeout",serverName:e.name,source:e.source||"global",timeout:w})},x=()=>{A.postMessage({type:"deleteMcpServer",serverName:e.name,source:e.source||"global"}),i(!1)};return s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px",background:"var(--vscode-textCodeBlock-background)",cursor:d?"pointer":"default",borderRadius:n||d?"4px":"4px 4px 0 0",opacity:e.disabled?.6:1},onClick:m,children:[d&&s.jsx("span",{className:`codicon codicon-chevron-${n?"down":"right"}`,style:{marginRight:"8px"}}),s.jsxs("span",{style:{flex:1},children:[e.name,e.source&&s.jsx("span",{style:{marginLeft:"8px",padding:"1px 6px",fontSize:"11px",borderRadius:"4px",background:"var(--vscode-badge-background)",color:"var(--vscode-badge-foreground)"},children:e.source})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginRight:"8px"},onClick:y=>y.stopPropagation(),children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>i(!0),style:{marginRight:"8px"},children:s.jsx("span",{className:"codicon codicon-trash",style:{fontSize:"14px"}})}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:g,disabled:e.status==="connecting",style:{marginRight:"8px"},children:s.jsx("span",{className:"codicon codicon-refresh",style:{fontSize:"14px"}})})]}),s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:p(),marginLeft:"8px"}}),s.jsx("div",{style:{marginLeft:"8px"},children:s.jsx(W_,{checked:!e.disabled,onChange:()=>{A.postMessage({type:"toggleMcpServer",serverName:e.name,source:e.source||"global",disabled:!e.disabled})},size:"medium","aria-label":`Toggle ${e.name} server`})})]}),d?n&&s.jsxs("div",{style:{background:"var(--vscode-textCodeBlock-background)",padding:"0 10px 10px 10px",fontSize:"13px",borderRadius:"0 0 4px 4px"},children:[s.jsxs(jT,{style:{marginBottom:"10px"},children:[s.jsxs(xl,{id:"tools",children:[r("mcp:tabs.tools")," (",((v=e.tools)==null?void 0:v.length)||0,")"]}),s.jsxs(xl,{id:"resources",children:[r("mcp:tabs.resources")," (",[...e.resourceTemplates||[],...e.resources||[]].length||0,")"]}),e.instructions&&s.jsx(xl,{id:"instructions",children:r("mcp:instructions")}),s.jsxs(xl,{id:"logs",children:[r("mcp:tabs.logs")," (",((N=e.errorHistory)==null?void 0:N.length)||0,")"]}),s.jsx(vl,{id:"tools-view",children:e.tools&&e.tools.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:e.tools.map(y=>s.jsx(mf,{tool:y,serverName:e.name,serverSource:e.source||"global",alwaysAllowMcp:t},`${y.name}-${e.name}-${e.source||"global"}`))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noTools")})}),s.jsx(vl,{id:"resources-view",children:e.resources&&e.resources.length>0||e.resourceTemplates&&e.resourceTemplates.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[...e.resourceTemplates||[],...e.resources||[]].map(y=>s.jsx(uN,{item:y},"uriTemplate"in y?y.uriTemplate:y.uri))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noResources")})}),e.instructions&&s.jsx(vl,{id:"instructions-view",children:s.jsx("div",{style:{padding:"10px 0",fontSize:"12px"},children:s.jsx("div",{className:"opacity-80 whitespace-pre-wrap break-words",children:e.instructions})})}),s.jsx(vl,{id:"logs-view",children:e.errorHistory&&e.errorHistory.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[...e.errorHistory].sort((y,w)=>w.timestamp-y.timestamp).map((y,w)=>s.jsx(oU,{error:y},`${y.timestamp}-${w}`))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noLogs")})})]}),s.jsxs("div",{style:{padding:"10px 7px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[s.jsx("span",{children:r("mcp:networkTimeout.label")}),s.jsx("select",{value:c,onChange:f,style:{flex:1,padding:"4px",background:"var(--vscode-dropdown-background)",color:"var(--vscode-dropdown-foreground)",border:"1px solid var(--vscode-dropdown-border)",borderRadius:"2px",outline:"none",cursor:"pointer"},children:u.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]}),s.jsx("span",{style:{fontSize:"12px",color:"var(--vscode-descriptionForeground)",display:"block"},children:r("mcp:networkTimeout.description")})]})]}):!e.disabled&&s.jsxs("div",{style:{fontSize:"13px",background:"var(--vscode-textCodeBlock-background)",borderRadius:"0 0 4px 4px",width:"100%"},children:[s.jsx("div",{style:{color:"var(--vscode-testing-iconFailed)",marginBottom:"8px",padding:"0 10px",overflowWrap:"break-word",wordBreak:"break-word"},children:e.error&&e.error.split(`
`).map((y,w)=>s.jsxs(He.Fragment,{children:[w>0&&s.jsx("br",{}),y]},w))}),s.jsx(ae,{variant:"secondary",onClick:g,disabled:e.status==="connecting",style:{width:"calc(100% - 20px)",margin:"0 10px 10px 10px"},children:e.status==="connecting"?r("mcp:serverStatus.retrying"):r("mcp:serverStatus.retryConnection")})]}),s.jsx(Go,{open:a,onOpenChange:i,children:s.jsxs(Qo,{children:[s.jsxs(Ya,{children:[s.jsx(Xa,{children:r("mcp:deleteDialog.title")}),s.jsx(Wg,{children:r("mcp:deleteDialog.description",{serverName:e.name})})]}),s.jsxs(id,{children:[s.jsx(ae,{variant:"secondary",onClick:()=>i(!1),children:r("mcp:deleteDialog.cancel")}),s.jsx(ae,{variant:"primary",onClick:x,children:r("mcp:deleteDialog.delete")})]})]})})]})};function _S(e){const[t]=h.useState(()=>e||new Pg),[r,n]=h.useState(()=>t.getState());return h.useEffect(()=>{const o=c=>{n(l=>l.isFetching!==c.isFetching||l.activeTab!==c.activeTab||JSON.stringify(l.allItems)!==JSON.stringify(c.allItems)||JSON.stringify(l.organizationMcps)!==JSON.stringify(c.organizationMcps)||JSON.stringify(l.displayItems)!==JSON.stringify(c.displayItems)||JSON.stringify(l.displayOrganizationMcps)!==JSON.stringify(c.displayOrganizationMcps)||JSON.stringify(l.filters)!==JSON.stringify(c.filters)?c:l)},a=c=>{t.handleMessage(c.data)};window.addEventListener("message",a);const i=t.onStateChange(o);return o(t.getState()),()=>{window.removeEventListener("message",a),i(),e||t.cleanup()}},[t,e]),[r,t]}const Pf=e=>{try{return new URL(e),!0}catch{return!1}},iU=({item:e,isOpen:t,onClose:r,hasWorkspace:n})=>{const{t:o}=oe(),[a,i]=h.useState(n?"project":"global"),[c,l]=h.useState(0),[d,u]=h.useState({}),[p,m]=h.useState(null),[g,f]=h.useState(!1);He.useEffect(()=>{e&&(l(0),u({}),m(null),f(!1))},[e]);const x=h.useMemo(()=>e&&Array.isArray(e.content)&&e.content.length>1,[e]),v=h.useMemo(()=>!e||!Array.isArray(e.content)?[]:e.content.map(k=>k.name),[e]),N=h.useMemo(()=>{if(!e)return[];const k=e.type==="mcp"?e.parameters||[]:[];let _=[];if(Array.isArray(e.content)){const T=e.content[c];_=(T==null?void 0:T.parameters)||[]}const j=new Map;return k.forEach(T=>j.set(T.key,T)),_.forEach(T=>j.set(T.key,T)),Array.from(j.values())},[e,c]),y=h.useMemo(()=>{if(!e)return[];const k=e.prerequisites||[];let _=[];if(Array.isArray(e.content)){const T=e.content[c];_=(T==null?void 0:T.prerequisites)||[]}const j=[...k,..._];return Array.from(new Set(j))},[e,c]);He.useEffect(()=>{if(e){const k=e.type==="mcp"?e.parameters||[]:[];let _=[];if(Array.isArray(e.content)){const S=e.content[c];_=(S==null?void 0:S.parameters)||[]}const j=new Map;k.forEach(S=>j.set(S.key,S)),_.forEach(S=>j.set(S.key,S));const T=Array.from(j.values());u(S=>{const I={};return T.forEach(E=>{I[E.key]=S[E.key]||""}),I})}},[e,c]),h.useEffect(()=>{const k=_=>{const j=_.data;j.type==="marketplaceInstallResult"&&j.slug===(e==null?void 0:e.id)&&(j.success?(f(!0),m(null),A.postMessage({type:"fetchMarketplaceData"})):(m(j.error||"Installation failed"),f(!1)))};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[e==null?void 0:e.id]);const w=()=>{var _;if(!e)return;m(null);for(const j of N)if(!j.optional&&!((_=d[j.key])!=null&&_.trim())){m(o("marketplace:install.validationRequired",{paramName:j.name}));return}const k={...d};for(const j of N)j.optional&&!k[j.key]&&(k[j.key]="");A.postMessage({type:"installMarketplaceItem",mpItem:e,mpInstallOptions:{target:a,parameters:{...k,_selectedIndex:x?c:void 0}}}),m(null)},b=k=>{const _=k==="mcp"?"mcp":"modes";A.postMessage({type:"switchTab",tab:"settings",values:{section:_}}),r()};return e?s.jsx(Go,{open:t,onOpenChange:r,children:s.jsxs(Qo,{className:"sm:max-w-[500px]",children:[s.jsxs(Ya,{children:[s.jsx(Xa,{children:g?o("marketplace:install.successTitle",{name:e.name}):e.type==="mcp"?o("marketplace:install.titleMcp",{name:e.name}):o("marketplace:install.titleMode",{name:e.name})}),s.jsx(Wg,{children:g?o("marketplace:install.successDescription"):e.type==="mcp"&&e.url?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:o("marketplace:install.moreInfoMcp",{name:e.name})}):null})]}),g?s.jsx("div",{className:"space-y-4 py-2",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"text-green-500 text-lg",children:[" ",o("marketplace:install.installed")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.type==="mcp"?o("marketplace:install.whatNextMcp"):o("marketplace:install.whatNextMode")})]})}):s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.scope")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"scope",value:"project",checked:a==="project",onChange:()=>i("project"),disabled:!n,className:"rounded-full"}),s.jsx("span",{className:n?"":"opacity-50",children:o("marketplace:install.project")})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"scope",value:"global",checked:a==="global",onChange:()=>i("global"),className:"rounded-full"}),s.jsx("span",{children:o("marketplace:install.global")})]})]})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.method")}),s.jsxs(Dt,{value:String(c),onValueChange:k=>l(Number(k)),children:[s.jsx(Lt,{children:s.jsx(Ft,{})}),s.jsx(Bt,{children:v.map((k,_)=>s.jsx(Be,{value:String(_),children:k},_))})]})]}),y.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.prerequisites")}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:y.map((k,_)=>s.jsx("li",{className:"text-muted-foreground",children:k},_))})]}),N.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.configuration")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o("marketplace:install.configurationDescription")})]}),N.map(k=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:k.key,className:"text-sm",children:[k.name,k.optional?" (optional)":""]}),s.jsx(_r,{id:k.key,type:"text",placeholder:k.placeholder,value:d[k.key]||"",onChange:_=>u(j=>({...j,[k.key]:_.target.value}))})]},k.key))]}),p&&s.jsx("div",{className:"text-sm text-red-500 bg-red-500/10 border border-red-500/20 rounded p-2",children:p})]}),s.jsx(id,{children:g?s.jsxs(s.Fragment,{children:[s.jsx(ae,{variant:"outline",onClick:r,children:o("marketplace:install.done")}),s.jsx(ae,{style:e.type==="mcp"?{display:"none"}:void 0,onClick:()=>b(e.type==="mcp"?"mcp":"modes"),children:e.type==="mcp"?o("marketplace:install.goToMcp"):o("marketplace:install.goToModes")})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{variant:"outline",onClick:r,children:o("common:answers.cancel")}),s.jsx(ae,{onClick:w,children:o("marketplace:install.button")})]})})]})}):null},g0=({item:e,filters:t,setFilters:r,installed:n})=>{const{t:o}=oe(),{cwd:a}=Ge(),[i,c]=h.useState(!1),[l,d]=h.useState(0),[u,p]=h.useState(!1),[m,g]=h.useState("project"),[f,x]=h.useState(null);h.useEffect(()=>{const k=_=>{const j=_.data;j.type==="marketplaceRemoveResult"&&j.slug===e.id&&(j.success?A.postMessage({type:"fetchMarketplaceData"}):x(j.error||o("marketplace:items.unknownError")))};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[e.id,o]);const v=h.useMemo(()=>({mode:o("marketplace:filters.type.mode"),mcp:o("marketplace:filters.type.mcpServer")})[e.type]??"N/A",[e.type,o]),N=!!n.global,y=!!n.project,w=N||y,b=()=>{Yt.capture(Ts.MARKETPLACE_INSTALL_BUTTON_CLICKED,{itemId:e.id,itemType:e.type,itemName:e.name}),d(k=>k+1),c(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border border-vscode-panel-border rounded-sm p-3 bg-vscode-editor-background",children:[s.jsxs("div",{className:"flex gap-2 items-start justify-between",children:[s.jsx("div",{className:"flex gap-2 items-start",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground mt-0 mb-1 leading-none",children:e.type==="mcp"&&e.url&&Pf(e.url)?s.jsx(ae,{variant:"link",className:"p-0 h-auto text-lg font-semibold text-vscode-foreground hover:underline",onClick:()=>A.postMessage({type:"openExternal",url:e.url}),children:e.name}):e.name}),s.jsx(lU,{item:e,typeLabel:v})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[w?s.jsx(de,{content:o(y?"marketplace:items.card.removeProjectTooltip":"marketplace:items.card.removeGlobalTooltip"),children:s.jsx(ae,{size:"sm",variant:"secondary",className:"text-xs h-5 py-0 px-2",onClick:()=>{g(y?"project":"global"),p(!0)},children:o("marketplace:items.card.remove")})}):s.jsx(ae,{size:"sm",variant:"primary",className:"text-xs h-5 py-0 px-2",onClick:b,children:o("marketplace:items.card.install")}),f&&s.jsx("div",{className:"text-vscode-errorForeground text-sm mt-2",children:o("marketplace:items.removeFailed",{error:f})})]})]}),s.jsx("p",{className:"my-2 text-vscode-foreground",children:e.description}),(w||e.tags&&e.tags.length>0)&&s.jsxs("div",{className:"relative flex flex-wrap gap-1 my-2",children:[w&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-sm h-5 flex items-center bg-green-600/20 text-green-400 border border-green-600/30 shrink-0",children:o("marketplace:items.card.installed")}),e.tags&&e.tags.length>0&&e.tags.map(k=>s.jsx(de,{content:t.tags.includes(k)?o("marketplace:filters.tags.clear",{count:k}):o("marketplace:filters.tags.clickToFilter"),children:s.jsx(ae,{size:"sm",variant:"secondary",className:ee("rounded-sm capitalize text-xs px-2 h-5",{"border-solid border-primary text-primary":t.tags.includes(k)}),onClick:()=>{const _=t.tags.includes(k)?t.tags.filter(j=>j!==k):[...t.tags,k];r({tags:_})},children:k})},k))]})]}),s.jsx(iU,{item:e,isOpen:i,onClose:()=>c(!1),hasWorkspace:!!a},`install-modal-${e.id}-${l}`),s.jsx(Hr,{open:u,onOpenChange:p,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:e.type==="mode"?o("marketplace:removeConfirm.mode.title"):o("marketplace:removeConfirm.mcp.title")}),s.jsx(Xr,{children:e.type==="mode"?s.jsxs(s.Fragment,{children:[o("marketplace:removeConfirm.mode.message",{modeName:e.name}),s.jsx("div",{className:"mt-2 text-sm",children:o("marketplace:removeConfirm.mode.rulesWarning")})]}):o("marketplace:removeConfirm.mcp.message",{mcpName:e.name})})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{children:o("marketplace:removeConfirm.cancel")}),s.jsx(Sr,{onClick:()=>{x(null),A.postMessage({type:"removeInstalledMarketplaceItem",mpItem:e,mpInstallOptions:{target:m}}),p(!1)},children:o("marketplace:removeConfirm.confirm")})]})]})})]})},lU=({item:e,typeLabel:t})=>{const{t:r}=oe(),n=()=>{e.authorUrl&&Pf(e.authorUrl)&&A.postMessage({type:"openExternal",url:e.authorUrl})};return e.author?s.jsxs("p",{className:"text-sm text-vscode-descriptionForeground my-0",children:[t," ",e.authorUrl&&Pf(e.authorUrl)?s.jsx(ae,{variant:"link",className:"p-0 h-auto text-sm text-vscode-textLink hover:underline",onClick:n,children:r("marketplace:items.card.by",{author:e.author})}):r("marketplace:items.card.by",{author:e.author})]}):null},cU=()=>s.jsx("div",{className:"text-xs text-vscode-descriptionForeground p-3",children:s.jsx(je,{i18nKey:"marketplace:footer.issueText",children:s.jsx(Fe,{href:"https://github.com/Kilo-Org/kilocode/issues/new?template=marketplace.yml",style:{display:"inline",fontSize:"inherit"},children:"Open a GitHub issue"})})});function x0({stateManager:e,allTags:t,filteredTags:r,filterByType:n,headerMessage:o}){const[a,i]=_S(e),{t:c}=oe(),{marketplaceInstalledMetadata:l,cloudUserInfo:d}=Ge(),[u,p]=h.useState(!1),[m,g]=h.useState(""),f=a.displayItems||[],x=a.displayOrganizationMcps||[],v=n?f.filter(w=>w.type===n):f,N=n==="mcp"?x:[],y=v.length===0&&N.length===0;return s.jsxs(s.Fragment,{children:[o&&s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:o.translationKey,components:{1:s.jsx("a",{className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground underline cursor-pointer bg-transparent border-none p-0 font-inherit",onClick:o.onLinkClick})}})})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"relative",children:s.jsx(_r,{type:"text",placeholder:c(n==="mcp"?"marketplace:filters.search.placeholderMcp":n==="mode"?"marketplace:filters.search.placeholderMode":"marketplace:filters.search.placeholder"),value:a.filters.search,onChange:w=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{search:w.target.value}}})})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsxs(Dt,{value:a.filters.installed,onValueChange:w=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{installed:w}}}),children:[s.jsx(Lt,{className:"flex-1 h-7",children:s.jsx(Ft,{})}),s.jsxs(Bt,{children:[s.jsx(Be,{value:"all",children:c("marketplace:filters.installed.all")}),s.jsx(Be,{value:"installed",children:c("marketplace:filters.installed.installed")}),s.jsx(Be,{value:"not_installed",children:c("marketplace:filters.installed.notInstalled")})]})]}),t.length>0&&s.jsx("div",{className:"flex-1",children:s.jsxs(En,{open:u,onOpenChange:w=>p(w),children:[s.jsx(ao,{asChild:!0,children:s.jsxs(ae,{variant:"combobox",role:"combobox","aria-expanded":u,className:"w-full justify-between h-7",children:[s.jsx("span",{className:"truncate",children:a.filters.tags.length>0?a.filters.tags.map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(", "):c("marketplace:filters.tags.label")}),s.jsx(X1,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Mn,{className:"w-[var(--radix-popover-trigger-width)] p-0",onClick:w=>w.stopPropagation(),children:s.jsxs(Wi,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fc,{className:"h-9 pr-8",placeholder:c("marketplace:filters.tags.placeholder"),value:m,onValueChange:g}),m&&s.jsx(ae,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>g(""),children:s.jsx(xn,{className:"h-4 w-4"})})]}),s.jsxs($i,{className:"max-h-[200px] overflow-y-auto bg-vscode-dropdown-background divide-y divide-vscode-panel-border",children:[s.jsx(Lc,{className:"p-2 text-sm text-vscode-descriptionForeground",children:c("marketplace:filters.tags.noResults")}),s.jsx(Hi,{children:r.map(w=>s.jsxs(zo,{value:w,onSelect:()=>{const b=a.filters.tags.includes(w);i.transition({type:"UPDATE_FILTERS",payload:{filters:{tags:b?a.filters.tags.filter(k=>k!==w):[...a.filters.tags,w]}}})},"data-selected":a.filters.tags.includes(w),className:"grid grid-cols-[1rem_1fr] gap-2 cursor-pointer text-sm capitalize",onMouseDown:b=>{b.stopPropagation(),b.preventDefault()},children:[a.filters.tags.includes(w)?s.jsx("span",{className:"codicon codicon-check"}):s.jsx("span",{}),w]},w))})]})]})})]})})]}),a.filters.tags.length>0&&s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"codicon codicon-tag mr-1"}),c("marketplace:filters.tags.selected")]}),s.jsxs(ae,{className:"shadow-none font-normal flex items-center gap-1 h-auto py-0.5 px-1.5 text-xs",size:"sm",variant:"secondary",onClick:w=>{w.stopPropagation(),i.transition({type:"UPDATE_FILTERS",payload:{filters:{tags:[]}}})},children:[s.jsx("span",{className:"codicon codicon-close"}),c("marketplace:filters.tags.clear")]})]})]}),a.isFetching&&y&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-vscode-descriptionForeground animate-fade-in",children:[s.jsx("div",{className:"animate-spin mb-4",children:s.jsx("span",{className:"codicon codicon-sync text-3xl"})}),s.jsx("p",{children:c("marketplace:items.refresh.refreshing")}),s.jsx("p",{className:"text-sm mt-2 animate-pulse",children:c("marketplace:items.refresh.mayTakeMoment")})]}),!a.isFetching&&y&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-vscode-descriptionForeground animate-fade-in",children:[s.jsx("span",{className:"codicon codicon-inbox text-4xl mb-4 opacity-70"}),s.jsx("p",{className:"font-medium",children:c("marketplace:items.empty.noItems")}),s.jsx("p",{className:"text-sm mt-2",children:c("marketplace:items.empty.adjustFilters")}),s.jsxs(ae,{onClick:()=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{search:"",type:"",tags:[],installed:"all"}}}),className:"mt-4 bg-vscode-button-secondaryBackground text-vscode-button-secondaryForeground hover:bg-vscode-button-secondaryHoverBackground transition-colors",children:[s.jsx("span",{className:"codicon codicon-clear-all mr-2"}),c("marketplace:items.empty.clearAllFilters")]})]}),!a.isFetching&&!y&&s.jsxs("div",{className:"pb-3",children:[N.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[s.jsx("span",{className:"codicon codicon-organization text-lg"}),s.jsx("h3",{className:"text-sm font-semibold text-vscode-foreground",children:c("marketplace:sections.organizationMcps",{organization:d==null?void 0:d.organizationName})}),s.jsx("div",{className:"flex-1 h-px bg-vscode-input-border"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:N.map(w=>{var b,k;return s.jsx(g0,{item:w,filters:a.filters,setFilters:_=>i.transition({type:"UPDATE_FILTERS",payload:{filters:_}}),installed:{project:(b=l==null?void 0:l.project)==null?void 0:b[w.id],global:(k=l==null?void 0:l.global)==null?void 0:k[w.id]}},`org-${w.id}`)})})]}),v.length>0&&s.jsxs("div",{children:[N.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[s.jsx("span",{className:"codicon codicon-globe text-lg"}),s.jsx("h3",{className:"text-sm font-semibold text-vscode-foreground",children:c("marketplace:sections.marketplace")}),s.jsx("div",{className:"flex-1 h-px bg-vscode-input-border"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:v.map(w=>{var b,k;return s.jsx(g0,{item:w,filters:a.filters,setFilters:_=>i.transition({type:"UPDATE_FILTERS",payload:{filters:_}}),installed:{project:(b=l==null?void 0:l.project)==null?void 0:b[w.id],global:(k=l==null?void 0:l.global)==null?void 0:k[w.id]}},w.id)})})]})]}),s.jsx(cU,{})]})}function NS({stateManager:e,onDone:t,targetTab:r,hideHeader:n=!1}){const{t:o}=oe(),[a,i]=_S(e),[c,l]=h.useState(!1),d=h.useContext(_T),[u,p]=h.useState((d==null?void 0:d.organizationSettingsVersion)??-1);h.useEffect(()=>{const v=(d==null?void 0:d.organizationSettingsVersion)??-1;v!==u&&A.postMessage({type:"fetchMarketplaceData"}),p(v)},[d==null?void 0:d.organizationSettingsVersion,u]),h.useEffect(()=>{a.allItems.length>0&&!c&&l(!0)},[a.allItems,c]),h.useEffect(()=>{r&&(r==="mcp"||r==="mode")&&i.transition({type:"SET_ACTIVE_TAB",payload:{tab:r}})},[r,i]),h.useEffect(()=>{!c&&a.allItems.length===0&&A.postMessage({type:"fetchMarketplaceData"});const v=i.onStateChange(y=>{!c&&(y.allItems.length>0||y.displayItems!==void 0)&&l(!0)}),N=y=>{const w=y.data;w.type==="webviewVisible"&&w.visible};return window.addEventListener("message",N),()=>{window.removeEventListener("message",N),v()}},[i,c,a.allItems.length]);const m=h.useMemo(()=>Array.from(new Set(a.allItems.flatMap(v=>v.tags||[]))).sort(),[a.allItems]),g=h.useMemo(()=>m,[m]),f=h.useMemo(()=>({translationKey:"kilocode:marketplace.modes.description",onLinkClick:()=>{A.postMessage({type:"switchTab",tab:"modes"})}}),[]),x=h.useMemo(()=>({translationKey:"kilocode:marketplace.mcp.description",onLinkClick:()=>{A.postMessage({type:"switchTab",tab:"mcp"})}}),[]);return s.jsx(Vi,{delayDuration:300,children:s.jsxs(Xo,{className:ee(n?"relative":"fixed"),children:[s.jsxs(ol,{style:{display:n?"none":"flex"},className:"flex flex-col sticky top-0 z-10 px-3 py-2 bg-vscode-sideBar-background",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h3",{className:"font-bold m-0",children:o("marketplace:title")}),s.jsx("div",{className:"flex gap-2 items-center",children:s.jsx(ae,{variant:"primary",onClick:()=>{t==null||t()},children:o("marketplace:done")})})]}),s.jsx("div",{className:"w-full mt-2",children:s.jsxs("div",{className:"flex relative py-1",children:[s.jsx("div",{className:"absolute w-full h-[2px] -bottom-[2px] bg-vscode-input-border",children:s.jsx("div",{className:ee("absolute w-1/2 h-[2px] bottom-0 bg-vscode-button-background transition-all duration-300 ease-in-out",{"left-0":a.activeTab==="mcp","left-1/2":a.activeTab==="mode"})})}),s.jsx("button",{className:"flex items-center justify-center gap-2 flex-1 text-sm font-medium rounded-sm transition-colors duration-300 relative z-10 text-vscode-foreground",onClick:()=>i.transition({type:"SET_ACTIVE_TAB",payload:{tab:"mcp"}}),children:"MCP"}),s.jsx("button",{className:"flex items-center justify-center gap-2 flex-1 text-sm font-medium rounded-sm transition-colors duration-300 relative z-10 text-vscode-foreground",onClick:()=>i.transition({type:"SET_ACTIVE_TAB",payload:{tab:"mode"}}),children:"Modes"})]})})]}),s.jsxs(Jo,{className:"p-3 pt-2",children:[a.activeTab==="mcp"&&s.jsx(x0,{stateManager:e,allTags:m,filteredTags:g,filterByType:"mcp",headerMessage:x}),a.activeTab==="mode"&&s.jsx(x0,{stateManager:e,allTags:m,filteredTags:g,filterByType:"mode",headerMessage:f})]})]})})}const v0=()=>{const[e,t]=h.useState("marketplace"),r=h.useMemo(()=>new Pg,[]),{t:n}=oe(),o=a=>{t(a)};return s.jsxs("div",{style:{top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column"},children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lg,{className:"w-4"}),s.jsx("div",{children:n("kilocode:settings.sections.mcp")})]})}),s.jsx($t,{children:s.jsxs("div",{style:{flex:1,overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",gap:"1px",padding:"0 20px 0 20px",borderBottom:"1px solid var(--vscode-panel-border)"},children:[s.jsx(b0,{isActive:e==="marketplace",onClick:()=>o("marketplace"),children:"Marketplace"}),s.jsx(b0,{isActive:e==="installed",onClick:()=>o("installed"),children:"Installed"})]}),s.jsxs("div",{style:{width:"100%"},children:[e==="marketplace"&&s.jsx(NS,{hideHeader:!0,targetTab:"mcp",stateManager:r}),e==="installed"&&s.jsx(jS,{hideHeader:!0,onDone:()=>{}})]})]})})]})},dU=Hs.button`
	background: none;
	border: none;
	border-bottom: 2px solid ${e=>e.isActive?"var(--vscode-foreground)":"transparent"};
	color: ${e=>e.isActive?"var(--vscode-foreground)":"var(--vscode-descriptionForeground)"};
	padding: 8px 16px;
	cursor: pointer;
	font-size: 13px;
	margin-bottom: -1px;
	font-family: inherit;

	&:hover {
		color: var(--vscode-foreground);
	}
`,b0=({children:e,isActive:t,onClick:r})=>s.jsx(dU,{isActive:t,onClick:r,children:e});function uU(e){const[t,r]=h.useState({}),{t:n}=oe();return h.useEffect(()=>{A.postMessage({type:"getKeybindings",commandIds:e});const a=i=>{const c=i.data;c.type==="keybindingsResponse"&&r(c.keybindings||{})};return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[e]),h.useMemo(()=>{const a={},i=n("kilocode:ghost.settings.keybindingNotFound");for(const c of e)a[c]=t[c]||i;return a},[t,e,n])}const pU=({ghostServiceSettings:e,onGhostServiceSettingsChange:t,className:r,...n})=>{const{t:o}=oe(),{kiloCodeWrapperProperties:a}=Ge(),{enableAutoTrigger:i,enableQuickInlineTaskKeybinding:c,enableSmartInlineTaskKeybinding:l,enableChatAutocomplete:d,provider:u,model:p}=e||{},m=uU(["kilo-code.addToContextAndFocus","kilo-code.ghost.generateSuggestions"]),[g,f]=h.useState(300),[x,v]=h.useState(Date.now());h.useEffect(()=>{const I=setInterval(()=>{v(Date.now())},3e4);return()=>clearInterval(I)},[]);const N=e==null?void 0:e.snoozeUntil,y=N?x<N:!1,w=h.useCallback(I=>{t("enableAutoTrigger",I.target.checked)},[t]),b=h.useCallback(I=>{t("enableQuickInlineTaskKeybinding",I.target.checked)},[t]),k=h.useCallback(I=>{t("enableSmartInlineTaskKeybinding",I.target.checked)},[t]),_=h.useCallback(I=>{t("enableChatAutocomplete",I.target.checked)},[t]),j=I=>{A.postMessage({type:"openGlobalKeybindings",text:I})},T=h.useCallback(()=>{A.postMessage({type:"snoozeAutocomplete",value:g})},[g]),S=h.useCallback(()=>{A.postMessage({type:"snoozeAutocomplete",value:0})},[]);return s.jsxs("div",{className:ee("flex flex-col",r),...n,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ef,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.title")})]})}),s.jsx($t,{className:"flex flex-col gap-5",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(MI,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.settings.triggers")})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:i||!1,onChange:w,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableAutoTrigger.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"kilocode:ghost.settings.enableAutoTrigger.description"})}),i&&s.jsxs("div",{className:"flex flex-col gap-2 mt-2 ml-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Aj,{className:"w-4"}),s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.snooze.label")})]}),y?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-vscode-descriptionForeground text-sm",children:o("kilocode:ghost.settings.snooze.currentlySnoozed")}),s.jsx(xt,{appearance:"secondary",onClick:S,children:o("kilocode:ghost.settings.snooze.unsnooze")})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($s,{value:g.toString(),onChange:I=>f(Number(I.target.value)),children:[QP,s.jsx(yt,{value:"300",children:o("kilocode:ghost.settings.snooze.duration.5min")}),s.jsx(yt,{value:"900",children:o("kilocode:ghost.settings.snooze.duration.15min")}),s.jsx(yt,{value:"1800",children:o("kilocode:ghost.settings.snooze.duration.30min")}),s.jsx(yt,{value:"3600",children:o("kilocode:ghost.settings.snooze.duration.1hour")})]}),s.jsx(xt,{appearance:"secondary",onClick:T,children:o("kilocode:ghost.settings.snooze.button")})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:o("kilocode:ghost.settings.snooze.description")})]})]}),!(a!=null&&a.kiloCodeWrapped)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:c||!1,onChange:b,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableQuickInlineTaskKeybinding.label",{keybinding:m["kilo-code.addToContextAndFocus"]})})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"kilocode:ghost.settings.enableQuickInlineTaskKeybinding.description",components:{DocsLink:s.jsx("a",{href:"#",onClick:()=>j("kilo-code.addToContextAndFocus"),className:"text-[var(--vscode-list-highlightForeground)] hover:underline cursor-pointer"})}})})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:l||!1,onChange:k,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableSmartInlineTaskKeybinding.label",{keybinding:m["kilo-code.ghost.generateSuggestions"]})})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"kilocode:ghost.settings.enableSmartInlineTaskKeybinding.description",values:{keybinding:m["kilo-code.ghost.generateSuggestions"]},components:{DocsLink:s.jsx("a",{href:"#",onClick:()=>j("kilo-code.ghost.generateSuggestions"),className:"text-[var(--vscode-list-highlightForeground)] hover:underline cursor-pointer"})}})})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:d||!1,onChange:_,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableChatAutocomplete.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(je,{i18nKey:"kilocode:ghost.settings.enableChatAutocomplete.description"})})]}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(ef,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.settings.model")})]})}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsxs("div",{className:"text-sm",children:[u&&p?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-vscode-descriptionForeground",children:[s.jsxs("span",{className:"font-medium",children:[o("kilocode:ghost.settings.provider"),":"]})," ",u]}),s.jsxs("div",{className:"text-vscode-descriptionForeground",children:[s.jsxs("span",{className:"font-medium",children:[o("kilocode:ghost.settings.model"),":"]})," ",p]})]}):s.jsx("div",{className:"text-vscode-errorForeground",children:o("kilocode:ghost.settings.noModelConfigured")}),Ig]})})]})})]})},Ym=({command:e,onDelete:t,onClick:r})=>{const{t:n}=oe(),o=e.source==="built-in",a=()=>{e.filePath?A.postMessage({type:"openFile",text:e.filePath}):A.postMessage({type:"openCommandFile",text:e.name,values:{source:e.source}})},i=()=>{t(e)};return s.jsxs("div",{className:"px-4 py-2 text-sm flex items-center group hover:bg-vscode-list-hoverBackground",children:[s.jsx("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>r==null?void 0:r(e),children:s.jsxs("div",{children:[s.jsx("span",{className:"truncate text-vscode-foreground",children:e.name}),e.description&&s.jsx("div",{className:"text-xs text-vscode-descriptionForeground truncate mt-0.5",children:e.description})]})}),!o&&s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[s.jsx(de,{content:n("chat:slashCommands.editCommand"),children:s.jsx(ae,{variant:"ghost",size:"icon",tabIndex:-1,onClick:a,className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(o_,{className:"w-4 h-4"})})}),s.jsx(de,{content:n("chat:slashCommands.deleteCommand"),children:s.jsx(ae,{variant:"ghost",size:"icon",tabIndex:-1,onClick:i,className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100 hover:text-red-400",children:s.jsx(Ii,{className:"w-4 h-4"})})})]})]})},mU=()=>{const{t:e}=oe(),{commands:t,cwd:r}=Ge(),[n,o]=h.useState(!1),[a,i]=h.useState(null),[c,l]=h.useState(""),[d,u]=h.useState(""),p=!!r;h.useEffect(()=>{m()},[]);const m=()=>{A.postMessage({type:"requestCommands"})},g=k=>{i(k),o(!0)},f=()=>{a&&(A.postMessage({type:"deleteCommand",text:a.name,values:{source:a.source}}),o(!1),i(null),setTimeout(m,100))},x=()=>{o(!1),i(null)},v=(k,_)=>{if(!_.trim())return;const j=_.trim().endsWith(".md")?_.trim():`${_.trim()}.md`;A.postMessage({type:"createCommand",text:j,values:{source:k}}),k==="global"?l(""):u(""),setTimeout(m,500)},N=k=>{console.log(`Command clicked: ${k.name} (${k.source})`)},y=(t==null?void 0:t.filter(k=>k.source==="built-in"))||[],w=(t==null?void 0:t.filter(k=>k.source==="global"))||[],b=(t==null?void 0:t.filter(k=>k.source==="project"))||[];return s.jsxs("div",{children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(MR,{className:"w-4"}),s.jsx("div",{children:e("settings:sections.slashCommands")})]})}),s.jsxs($t,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:"settings:slashCommands.description",components:{DocsLink:s.jsx("a",{href:It("features/slash-commands"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:underline",children:"Docs"})}})})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(Oc,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.globalCommands")})]}),s.jsxs("div",{className:"border border-vscode-panel-border rounded-md",children:[w.map(k=>s.jsx(Ym,{command:k,onDelete:g,onClick:N},`global-${k.name}`)),s.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground border-t border-vscode-panel-border",children:[s.jsx("input",{type:"text",value:c,onChange:k=>l(k.target.value),placeholder:e("chat:slashCommands.newGlobalCommandPlaceholder"),className:"flex-1 bg-vscode-input-background text-vscode-input-foreground placeholder-vscode-input-placeholderForeground border border-vscode-input-border rounded px-2 py-1 text-sm focus:outline-none focus:border-vscode-focusBorder",onKeyDown:k=>{k.key==="Enter"&&v("global",c)}}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>v("global",c),disabled:!c.trim(),className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(Vx,{className:"w-4 h-4"})})]})]})]}),p&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(AI,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.workspaceCommands")})]}),s.jsxs("div",{className:"border border-vscode-panel-border rounded-md",children:[b.map(k=>s.jsx(Ym,{command:k,onDelete:g,onClick:N},`project-${k.name}`)),s.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground border-t border-vscode-panel-border",children:[s.jsx("input",{type:"text",value:d,onChange:k=>u(k.target.value),placeholder:e("chat:slashCommands.newWorkspaceCommandPlaceholder"),className:"flex-1 bg-vscode-input-background text-vscode-input-foreground placeholder-vscode-input-placeholderForeground border border-vscode-input-border rounded px-2 py-1 text-sm focus:outline-none focus:border-vscode-focusBorder",onKeyDown:k=>{k.key==="Enter"&&v("project",d)}}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>v("project",d),disabled:!d.trim(),className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(Vx,{className:"w-4 h-4"})})]})]})]}),y.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(s_,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.builtInCommands")})]}),s.jsx("div",{className:"border border-vscode-panel-border rounded-md",children:y.map(k=>s.jsx(Ym,{command:k,onDelete:g,onClick:N},`built-in-${k.name}`))})]})]}),s.jsx(Hr,{open:n,onOpenChange:o,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:e("chat:slashCommands.deleteDialog.title")}),s.jsx(Xr,{children:e("chat:slashCommands.deleteDialog.description",{name:a==null?void 0:a.name})})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{onClick:x,children:e("chat:slashCommands.deleteDialog.cancel")}),s.jsx(Sr,{onClick:f,children:e("chat:slashCommands.deleteDialog.confirm")})]})]})})]})},hU=({reasoningBlockCollapsed:e,enterBehavior:t,setCachedStateField:r,...n})=>{const{t:o}=oe(),a=h.useMemo(()=>navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl",[]),i=l=>{r("reasoningBlockCollapsed",l),Yt.capture("ui_settings_collapse_thinking_changed",{enabled:l})},c=l=>{const d=l?"newline":"send";r("enterBehavior",d),Yt.capture("ui_settings_enter_behavior_changed",{behavior:d})};return s.jsxs("div",{...n,children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(YA,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.ui")})]})}),s.jsx($t,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:e,onChange:l=>i(l.target.checked),"data-testid":"collapse-thinking-checkbox",children:s.jsx("span",{className:"font-medium",children:o("settings:ui.collapseThinking.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:o("settings:ui.collapseThinking.description")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ze,{checked:t==="newline",onChange:l=>c(l.target.checked),"data-testid":"enter-behavior-checkbox",children:s.jsx("span",{className:"font-medium",children:o("settings:ui.requireCtrlEnterToSend.label",{primaryMod:a})})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:o("settings:ui.requireCtrlEnterToSend.description",{primaryMod:a})})]})]})})]})},fU=({className:e=""})=>{const{t}=oe();return s.jsxs("a",{className:`flex items-center gap-1 bg-vscode-editor-background border border-vscode-panel-border rounded-md p-1 my-1 mb-2 text-[var(--vscode-activityWarningBadge-background)] cursor-pointer hover:[filter:brightness(1.1)] ${e}`,href:jr("/organizations/new"),onClick:()=>{Yt.capture(Ts.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"modes-view"})},children:[s.jsx("div",{className:"flex items-center px-2 py-0.5 rounded-full text-xs font-bold",children:s.jsx("span",{className:"codicon codicon-sparkle text-xs"})}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-bold",children:"NEW:"})," ",t("kilocode:modes.shareModesNewBanner").replace("New: ","")]})]})},gU=({open:e,onOpenChange:t,modeToDelete:r,onConfirm:n})=>{const{t:o}=oe();return s.jsx(Hr,{open:e,onOpenChange:t,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:o("prompts:deleteMode.title")}),s.jsx(Xr,{children:r&&s.jsxs(s.Fragment,{children:[o("prompts:deleteMode.message",{modeName:r.name}),r.rulesFolderPath&&s.jsx("div",{className:"mt-2",children:o("prompts:deleteMode.rulesFolder",{folderPath:r.rulesFolderPath})})]})})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{children:o("prompts:deleteMode.cancel")}),s.jsx(Sr,{onClick:n,children:o("prompts:deleteMode.confirm")})]})]})})};function xU(){const{t:e}=oe();return s.jsx("div",{className:"mb-4 p-3 border border-vscode-inputValidation-infoBorder rounded",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"codicon codicon-organization mt-0.5"}),s.jsxs("div",{className:"text-sm ",children:[s.jsx("div",{className:"font-semibold mb-1",children:e("prompts:organizationMode.title")}),s.jsx("div",{children:e("prompts:organizationMode.description")})]})]})})}const Fl=Object.keys(dv).filter(e=>!dv[e].alwaysAvailable);function ia(e){return Array.isArray(e)?e[0]:e}const vU=()=>{var vn,ls,nr,bn,rn,ks,js,Vs,As,nn;const{t:e}=oe(),{customModePrompts:t,listApiConfigMeta:r,currentApiConfigName:n,mode:o,customInstructions:a,setCustomInstructions:i,customModes:c}=Ge(),[l,d]=h.useState(o),u=oo(c),[p,m]=h.useState(!1),[g,f]=h.useState(""),[x,v]=h.useState(""),[N,y]=h.useState(!1),[w,b]=h.useState(!1),[k,_]=h.useState(!1),[j,T]=h.useState(!1),[S,I]=h.useState(!1),[E,M]=h.useState(!1),[R,C]=h.useState(!1),[q,B]=h.useState("project"),[U,te]=h.useState({}),[Q,O]=h.useState(!1),[F,W]=h.useState(null),[re,H]=h.useState(!1),[Z,Y]=h.useState(""),G=h.useRef(null),[ie,D]=h.useState(!1),[me,xe]=h.useState(""),we=h.useRef(null),[Pe,Ce]=h.useState({}),L=(u||[]).map(z=>Pe[z.slug]?{...z,name:Pe[z.slug]}:z),Se=h.useCallback((z,ge)=>{const Oe={...t==null?void 0:t[z],...ge};Oe.roleDefinition===Ox(z)&&delete Oe.roleDefinition,Oe.description===Dx(z)&&delete Oe.description,Oe.whenToUse===Fx(z)&&delete Oe.whenToUse,A.postMessage({type:"updatePrompt",promptMode:z,customPrompt:Oe})},[t]),X=h.useCallback((z,ge)=>{const fe=ge.source||"global";A.postMessage({type:"updateCustomMode",slug:z,modeConfig:{...ge,source:fe}})},[]),$e=h.useCallback((z,ge)=>NT(z,ge),[]),ut=h.useCallback(z=>{A.postMessage({type:"mode",text:z})},[]),V=h.useCallback(z=>{z.slug!==l&&(d(z.slug),ut(z.slug),y(!1))},[l,ut]),ke=h.useRef(V),Te=h.useRef(c),ft=h.useRef(ut);h.useEffect(()=>{ke.current=V},[V]),h.useEffect(()=>{Te.current=c},[c]),h.useEffect(()=>{ft.current=ut},[ut]),h.useEffect(()=>{d(o)},[o]);const pt=h.useCallback(z=>{H(z),z||setTimeout(()=>Y(""),100)},[]);tl(re,()=>H(!1));const Ct=h.useCallback(()=>{var z;Y(""),(z=G.current)==null||z.focus()},[]);h.useEffect(()=>{if(ie){const z=setTimeout(()=>{var ge;return(ge=we.current)==null?void 0:ge.focus()},0);return()=>clearTimeout(z)}},[ie]);const Es=h.useCallback(()=>{const z=$e(l,c);z&&(D(!0),xe(z.name))},[l,c,$e]),Me=h.useCallback(()=>{D(!1),xe("")},[]),Je=h.useCallback(()=>{const z=$e(l,c),ge=me.trim();if(!z||!ge){D(!1);return}u.some(Oe=>Oe.name.toLowerCase()===ge.toLowerCase()&&Oe.slug!==z.slug)||(X(l,{...z,name:ge,source:z.source||"global"}),Ce(Oe=>({...Oe,[l]:ge})),D(!1))},[l,c,me,u,X,$e]),_e=h.useCallback(()=>{const z=ge=>ge.slug===l;return(c==null?void 0:c.find(z))||u.find(z)},[l,c,u]),Ze=h.useMemo(()=>{var z;return((z=_e())==null?void 0:z.source)==="organization"},[_e]),_t=h.useCallback(z=>{A.postMessage({type:"checkRulesDirectory",slug:z})},[]);h.useEffect(()=>{const z=_e();z!=null&&z.slug&&U[z.slug]===void 0&&_t(z.slug)},[_e,_t,U]);const[Zt,qe]=h.useState(""),[es,as]=h.useState(""),[it,Nt]=h.useState(""),[ns,is]=h.useState(""),[rt,Kt]=h.useState(""),[os,se]=h.useState(""),[Le,et]=h.useState(Fl),[tt,Qe]=h.useState("global"),[ht,wt]=h.useState(""),[Ht,Ot]=h.useState(""),[ts,lt]=h.useState(""),[gs,ct]=h.useState(""),[rr,hr]=h.useState(""),Ms=h.useCallback(()=>{qe(""),as(""),Nt(""),et(Fl),is(""),Kt(""),se(""),Qe("global"),wt(""),Ot(""),lt(""),ct(""),hr("")},[]);h.useEffect(()=>{k&&Ms()},[k,Ms]),h.useEffect(()=>{R&&B("project")},[R]);const Bs=h.useCallback((z,ge=0)=>{const fe=z.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");return ge===0?fe:`${fe}-${ge}`},[]),zs=h.useCallback(z=>{qe(z),as(Bs(z))},[Bs]),fr=h.useCallback(()=>{wt(""),Ot(""),lt(""),ct(""),hr("");const z=tt,ge={slug:es,name:Zt,description:it.trim()||void 0,roleDefinition:ns.trim(),whenToUse:rt.trim()||void 0,customInstructions:os.trim()||void 0,groups:Le,source:z},fe=ST.safeParse(ge);if(!fe.success){fe.error.errors.forEach(Oe=>{const nt=Oe.path[0],kt=Oe.message;switch(nt){case"name":wt(kt);break;case"slug":Ot(kt);break;case"description":lt(kt);break;case"roleDefinition":ct(kt);break;case"groups":hr(kt);break}});return}X(es,ge),d(es),ut(es),_(!1),Ms()},[Zt,es,it,ns,rt,os,Le,tt,X]),gr=h.useCallback((z,ge)=>u.some(fe=>fe.slug===ge||fe.name===z),[u]),Pr=h.useCallback(()=>{const z="New Custom Mode";let ge=0,fe=z,Oe=Bs(fe);for(;gr(fe,Oe);)ge++,fe=`${z} ${ge+1}`,Oe=Bs(fe);qe(fe),as(Oe),_(!0)},[Bs,gr]),Er=h.useCallback((z,ge,fe)=>Oe=>{var _s;if(!ge)return;const kt=(((_s=Oe==null?void 0:Oe.detail)==null?void 0:_s.target)||Oe.target).checked,cs=(fe==null?void 0:fe.groups)||[];let Mt;if(kt?Mt=[...cs,z]:Mt=cs.filter(Gs=>ia(Gs)!==z),fe){const Gs=fe.source||"global";X(fe.slug,{...fe,groups:Mt,source:Gs})}},[X]);h.useEffect(()=>{const z=()=>{w&&b(!1)};return document.addEventListener("click",z),()=>document.removeEventListener("click",z)},[w]);const sn=h.useRef(F);h.useEffect(()=>{sn.current=F},[F]),h.useEffect(()=>{const z=ge=>{var Oe;const fe=ge.data;if(fe.type==="systemPrompt")fe.text&&(f(fe.text),v(`System Prompt (${fe.mode} mode)`),m(!0));else if(fe.type==="exportModeResult")I(!1),fe.success||console.error("Failed to export mode:",fe.error);else if(fe.type==="importModeResult")if(M(!1),C(!1),fe.success){const{slug:nt}=fe;if(nt){const cs=oo(Te.current).find(Mt=>Mt.slug===nt);cs?ke.current(cs):(d(yh),(Oe=ft.current)==null||Oe.call(ft,yh))}}else fe.error!=="cancelled"&&console.error("Failed to import mode:",fe.error);else if(fe.type==="checkRulesDirectoryResult")te(nt=>({...nt,[fe.slug]:fe.hasContent}));else if(fe.type==="deleteCustomModeCheck"){const nt=sn.current;fe.slug&&nt&&nt.slug===fe.slug&&(W({...nt,rulesFolderPath:fe.rulesFolderPath}),O(!0))}};return window.addEventListener("message",z),()=>window.removeEventListener("message",z)},[_t,ut]);const xr=(z,ge)=>{const Oe={...t==null?void 0:t[z]};delete Oe[ge],A.postMessage({type:"updatePrompt",promptMode:z,customPrompt:Oe})};return s.jsxs("div",{children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fg,{className:"w-4"}),s.jsx("div",{children:e("prompts:title")})]})}),s.jsxs($t,{children:[s.jsxs("div",{children:[s.jsxs("div",{onClick:z=>z.stopPropagation(),className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:e("prompts:modes.title")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx(de,{content:e("prompts:modes.editModesConfig"),children:s.jsx(ae,{variant:"ghost",size:"icon",className:"flex",onClick:z=>{z.preventDefault(),z.stopPropagation(),b(ge=>!ge)},onBlur:()=>{setTimeout(()=>b(!1),200)},children:s.jsx("span",{className:"codicon codicon-json"})})}),w&&s.jsxs("div",{onClick:z=>z.stopPropagation(),onMouseDown:z=>z.stopPropagation(),className:"absolute top-full right-0 w-[200px] mt-1 bg-vscode-editor-background border border-vscode-input-border rounded shadow-md z-[1000]",children:[s.jsx("div",{className:"p-2 cursor-pointer text-vscode-foreground text-sm",onMouseDown:z=>{z.preventDefault(),A.postMessage({type:"openCustomModesSettings"}),b(!1)},onClick:z=>z.preventDefault(),children:e("prompts:modes.editGlobalModes")}),s.jsx("div",{className:"p-2 cursor-pointer text-vscode-foreground text-sm border-t border-vscode-input-border",onMouseDown:z=>{z.preventDefault(),A.postMessage({type:"openFile",text:"./.kilocodemodes",values:{create:!0,content:JSON.stringify({customModes:[]},null,2)}}),b(!1)},onClick:z=>z.preventDefault(),children:e("prompts:modes.editProjectModes")})]})]}),s.jsx(de,{content:e("chat:modeSelector.marketplace"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{window.postMessage({type:"action",action:"marketplaceButtonClicked",values:{marketplaceTab:"mode"}},"*")},children:s.jsx("span",{className:"codicon codicon-extensions"})})}),s.jsx(de,{content:e("prompts:modes.importMode"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>C(!0),disabled:E,title:e("prompts:modes.importMode"),"data-testid":"import-mode-toolbar-button",children:s.jsx(Dg,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground mb-6",children:[s.jsx(fU,{}),s.jsxs(je,{i18nKey:"prompts:modes.createModeHelpText",children:[s.jsx(Fe,{href:It("basic-usage/using-modes"),style:{display:"inline"},"aria-label":"Learn about using modes"}),s.jsx(Fe,{href:It("features/custom-modes"),style:{display:"inline"},"aria-label":"Learn about customizing modes"})]})]}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[Ze&&s.jsx(xU,{})," ",ie?s.jsxs(s.Fragment,{children:[s.jsx(ce,{ref:we,value:me,onInput:z=>{xe(z.target.value)},className:"grow",placeholder:e("prompts:createModeDialog.name.placeholder")}),s.jsx(de,{content:e("settings:common.save"),children:s.jsx(ae,{variant:"ghost",size:"icon",disabled:!me.trim(),onClick:Je,"data-testid":"save-mode-rename-button",children:s.jsx("span",{className:"codicon codicon-check"})})}),s.jsx(de,{content:e("settings:common.cancel"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:Me,"data-testid":"cancel-mode-rename-button",children:s.jsx("span",{className:"codicon codicon-close"})})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(En,{open:re,onOpenChange:pt,children:[s.jsx(ao,{asChild:!0,children:s.jsxs(ae,{variant:"combobox",role:"combobox","aria-expanded":re,className:"justify-between grow","data-testid":"mode-select-trigger",children:[s.jsx("div",{className:"truncate",children:Pe[l]??((vn=_e())==null?void 0:vn.name)??e("prompts:modes.selectMode")}),s.jsx(Vo,{className:"opacity-50"})]})}),s.jsx(Mn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Wi,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fc,{ref:G,value:Z,onValueChange:Y,placeholder:e("prompts:modes.selectMode"),className:"h-9 mr-4","data-testid":"mode-search-input"}),Z.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:s.jsx(xn,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer",onClick:Ct})})]}),s.jsxs($i,{children:[s.jsx(Lc,{children:Z&&s.jsx("div",{className:"py-2 px-1 text-sm",children:e("prompts:modes.noMatchFound")})}),s.jsx(Hi,{children:L.filter(z=>Z?z.name.toLowerCase().includes(Z.toLowerCase()):!0).map(z=>s.jsx(zo,{value:`${z.name} ${z.slug}`,onSelect:()=>{V(z),H(!1)},"data-testid":`mode-option-${z.slug}`,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:2,minWidth:0},children:z.name}),s.jsx("span",{className:"text-foreground",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:"rtl",textAlign:"right",flex:1,minWidth:0,marginLeft:"0.5em"},children:z.slug})]})},z.slug))})]})]})})]}),s.jsx(de,{content:e("prompts:modes.createNewMode"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:Pr,"data-testid":"add-mode-button",children:s.jsx("span",{className:"codicon codicon-add"})})}),s.jsx(de,{content:e("settings:providers.renameProfile"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:Es,"data-testid":"rename-mode-button",disabled:!$e(l,c),children:s.jsx("span",{className:"codicon codicon-edit"})})}),s.jsx(de,{content:e("prompts:createModeDialog.deleteMode"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=$e(l,c);z&&(W({slug:z.slug,name:z.name,source:z.source||"global"}),A.postMessage({type:"deleteCustomMode",slug:z.slug,checkOnly:!0}))},"data-testid":"delete-mode-button",disabled:!$e(l,c),children:s.jsx("span",{className:"codicon codicon-trash"})})}),s.jsx(de,{content:e("prompts:exportMode.title"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z!=null&&z.slug&&!S&&(I(!0),A.postMessage({type:"exportMode",slug:z.slug}))},disabled:S,title:e("prompts:exportMode.title"),"data-testid":"export-mode-toolbar-button",children:s.jsx(a_,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:apiConfiguration.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:apiConfiguration.select")}),s.jsx("div",{className:"mb-2",children:s.jsxs(Dt,{value:n,onValueChange:z=>{A.postMessage({type:"loadApiConfiguration",text:z})},children:[s.jsx(Lt,{className:"w-full",children:s.jsx(Ft,{placeholder:e("settings:common.select")})}),s.jsx(Bt,{children:(r||[]).map(z=>s.jsx(Be,{value:z.name,children:z.name},z.id))})]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:roleDefinition.title")}),!$e(l,c)&&s.jsx(de,{content:e("prompts:roleDefinition.resetToDefault"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z!=null&&z.slug&&xr(z.slug,"roleDefinition")},"data-testid":"role-definition-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:roleDefinition.description")}),s.jsx(jn,{resize:"vertical",value:(()=>{const z=$e(l,c),ge=t==null?void 0:t[l];return(z==null?void 0:z.roleDefinition)??(ge==null?void 0:ge.roleDefinition)??Ox(l)})(),onChange:z=>{var Oe,nt;const ge=((nt=(Oe=z==null?void 0:z.detail)==null?void 0:Oe.target)==null?void 0:nt.value)??z.target.value,fe=$e(l,c);fe?X(l,{...fe,roleDefinition:ge.trim()||"",source:fe.source||"global"}):Se(l,{roleDefinition:ge.trim()||void 0})},className:"w-full",rows:5,"data-testid":`${((ls=_e())==null?void 0:ls.slug)||"code"}-prompt-textarea`})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:description.title")}),!$e(l,c)&&s.jsx(de,{content:e("prompts:description.resetToDefault"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z!=null&&z.slug&&xr(z.slug,"description")},"data-testid":"description-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:description.description")}),s.jsx(ce,{value:(()=>{const z=$e(l,c),ge=t==null?void 0:t[l];return(z==null?void 0:z.description)??(ge==null?void 0:ge.description)??Dx(l)})(),onChange:z=>{var Oe,nt;const ge=((nt=(Oe=z==null?void 0:z.detail)==null?void 0:Oe.target)==null?void 0:nt.value)??z.target.value,fe=$e(l,c);fe?X(l,{...fe,description:ge.trim()||void 0,source:fe.source||"global"}):Se(l,{description:ge.trim()||void 0})},className:"w-full","data-testid":`${((nr=_e())==null?void 0:nr.slug)||"code"}-description-textfield`})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:whenToUse.title")}),!$e(l,c)&&s.jsx(de,{content:e("prompts:whenToUse.resetToDefault"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z!=null&&z.slug&&xr(z.slug,"whenToUse")},"data-testid":"when-to-use-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:whenToUse.description")}),s.jsx(jn,{resize:"vertical",value:(()=>{const z=$e(l,c),ge=t==null?void 0:t[l];return(z==null?void 0:z.whenToUse)??(ge==null?void 0:ge.whenToUse)??Fx(l)})(),onChange:z=>{var Oe,nt;const ge=((nt=(Oe=z==null?void 0:z.detail)==null?void 0:Oe.target)==null?void 0:nt.value)??z.target.value,fe=$e(l,c);fe?X(l,{...fe,whenToUse:ge.trim()||void 0,source:fe.source||"global"}):Se(l,{whenToUse:ge.trim()||void 0})},className:"w-full",rows:4,"data-testid":`${((bn=_e())==null?void 0:bn.slug)||"code"}-when-to-use-textarea`})]}),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:tools.title")}),$e(l,c)&&s.jsx(de,{content:e(N?"prompts:tools.doneEditing":"prompts:tools.editTools"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>y(!N),children:s.jsx("span",{className:`codicon codicon-${N?"check":"edit"}`})})})]}),!$e(l,c)&&s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:tools.builtInModesText")}),N&&$e(l,c)?s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-2",children:Fl.map(z=>{var kt,cs;const ge=_e(),fe=$e(l,c),Oe=fe,nt=fe?(kt=Oe==null?void 0:Oe.groups)==null?void 0:kt.some(Mt=>ia(Mt)===z):(cs=ge==null?void 0:ge.groups)==null?void 0:cs.some(Mt=>ia(Mt)===z);return s.jsxs(ze,{checked:nt,onChange:Er(z,!!fe,Oe),disabled:!fe,children:[e(`prompts:tools.toolNames.${z}`),z==="edit"&&s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:[e("prompts:tools.allowedFiles")," ",(()=>{var Gs;const Mt=_e(),_s=(Gs=Mt==null?void 0:Mt.groups)==null?void 0:Gs.find(Mr=>{var on;return Array.isArray(Mr)&&Mr[0]==="edit"&&((on=Mr[1])==null?void 0:on.fileRegex)});return Array.isArray(_s)?_s[1].description||`/${_s[1].fileRegex}/`:e("prompts:allFiles")})()]})]},z)})}):s.jsx("div",{className:"text-sm text-vscode-foreground mb-2 leading-relaxed",children:(()=>{const z=_e(),ge=(z==null?void 0:z.groups)||[];return ge.length===0?e("prompts:tools.noTools"):ge.map(fe=>{var kt;const Oe=ia(fe),nt=e(`prompts:tools.toolNames.${Oe}`);if(Array.isArray(fe)&&((kt=fe[1])!=null&&kt.fileRegex)){const cs=fe[1].description||`/${fe[1].fileRegex}/`;return`${nt} (${cs})`}return nt}).join(", ")})()})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:customInstructions.title")}),!$e(l,c)&&s.jsx(de,{content:e("prompts:customInstructions.resetToDefault"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z!=null&&z.slug&&xr(z.slug,"customInstructions")},"data-testid":"custom-instructions-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:customInstructions.description",{modeName:((rn=_e())==null?void 0:rn.name)||"Code"})}),s.jsx(jn,{resize:"vertical",value:(()=>{const z=$e(l,c),ge=t==null?void 0:t[l];return(z==null?void 0:z.customInstructions)??(ge==null?void 0:ge.customInstructions)??TT(l,c)})(),onChange:z=>{var Oe,nt;const ge=((nt=(Oe=z==null?void 0:z.detail)==null?void 0:Oe.target)==null?void 0:nt.value)??z.target.value,fe=$e(l,c);if(fe)X(l,{...fe,customInstructions:ge??void 0,source:fe.source||"global"});else{const kt=t==null?void 0:t[l];Se(l,{...kt,customInstructions:ge.trim()||void 0})}},rows:10,className:"w-full","data-testid":`${((ks=_e())==null?void 0:ks.slug)||"code"}-custom-instructions-textarea`}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1.5",children:s.jsx(je,{i18nKey:"prompts:customInstructions.loadFromFile",values:{mode:((js=_e())==null?void 0:js.name)||"Code",slug:((Vs=_e())==null?void 0:Vs.slug)||"code"},components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>{const z=_e();z&&A.postMessage({type:"openFile",text:`./.roo/rules-${z.slug}/rules.md`,values:{create:!0,content:""}})}}),0:s.jsx(Fe,{href:It("features/custom-instructions#global-rules-directory"),style:{display:"inline"},"aria-label":"Learn about global custom instructions for modes"})}})})]}),s.jsxs("div",{className:"pb-4 border-b border-vscode-input-border",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(ae,{variant:"primary",onClick:()=>{const z=_e();z&&A.postMessage({type:"getSystemPrompt",mode:z.slug})},"data-testid":"preview-prompt-button",children:e("prompts:systemPrompt.preview")}),s.jsx(de,{content:e("prompts:systemPrompt.copy"),children:s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{const z=_e();z&&A.postMessage({type:"copySystemPrompt",mode:z.slug})},"data-testid":"copy-prompt-button",children:s.jsx("span",{className:"codicon codicon-copy"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>T(!j),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":j,children:[s.jsx("span",{className:`codicon codicon-${j?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{children:e("prompts:advanced.title")})]}),j&&s.jsx("div",{className:"mt-2 ml-5 space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-vscode-foreground mb-2",children:"Override System Prompt"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:s.jsx(je,{i18nKey:"prompts:advancedSystemPrompt.description",values:{slug:((As=_e())==null?void 0:As.slug)||"code"},components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>{const z=_e();z&&A.postMessage({type:"openFile",text:`./.kilocode/system-prompt-${z.slug}`,values:{create:!0,content:""}})}}),1:s.jsx(Fe,{href:It("features/footgun-prompting"),style:{display:"inline"},"aria-label":"Read important information about overriding system prompts"}),2:s.jsx("strong",{})}})})]})})]})]}),s.jsxs("div",{className:"pb-5",children:[s.jsx("h3",{className:"text-vscode-foreground mb-3",children:e("prompts:globalCustomInstructions.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:s.jsx(je,{i18nKey:"prompts:globalCustomInstructions.description",children:s.jsx(Fe,{href:It("features/custom-instructions#setting-up-global-rules"),style:{display:"inline"},"aria-label":"Learn more about global custom instructions"})})}),s.jsx(jn,{resize:"vertical",value:a||"",onChange:z=>{var fe,Oe;const ge=((Oe=(fe=z==null?void 0:z.detail)==null?void 0:fe.target)==null?void 0:Oe.value)??z.target.value;i(ge??void 0),A.postMessage({type:"customInstructions",text:ge??void 0})},rows:4,className:"w-full","data-testid":"global-custom-instructions-textarea"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1.5",children:s.jsx(je,{i18nKey:"prompts:globalCustomInstructions.loadFromFile",components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>A.postMessage({type:"openFile",text:"./.kilocode/rules/rules.md",values:{create:!0,content:""}})}),0:s.jsx(Fe,{href:It("features/custom-instructions#setting-up-global-rules"),style:{display:"inline"},"aria-label":"Learn about setting up global custom instructions"})}})})]})]}),k&&s.jsx("div",{className:"fixed inset-0 flex justify-end bg-black/50 z-[1000]",children:s.jsxs("div",{className:"w-[calc(100vw-100px)] h-full bg-vscode-editor-background shadow-md flex flex-col relative",children:[s.jsxs("div",{className:"flex-1 p-5 overflow-y-auto min-h-0",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>_(!1),className:"absolute top-5 right-5",children:s.jsx("span",{className:"codicon codicon-close"})}),s.jsx("h2",{className:"mb-4",children:e("prompts:createModeDialog.title")}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.name.label")}),s.jsx(_r,{type:"text",value:Zt,onChange:z=>{zs(z.target.value)},className:"w-full"}),ht&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:ht})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.slug.label")}),s.jsx(_r,{type:"text",value:es,onChange:z=>{as(z.target.value)},className:"w-full"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:e("prompts:createModeDialog.slug.description")}),Ht&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:Ht})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.saveLocation.label")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.saveLocation.description")}),s.jsxs(pc,{value:tt,onChange:z=>{var fe;const ge=((fe=z==null?void 0:z.detail)==null?void 0:fe.target)||z.target;Qe(ge.value)},children:[s.jsxs(wi,{value:"global",children:[e("prompts:createModeDialog.saveLocation.global.label"),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:e("prompts:createModeDialog.saveLocation.global.description")})]}),s.jsxs(wi,{value:"project",children:[e("prompts:createModeDialog.saveLocation.project.label"),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:e("prompts:createModeDialog.saveLocation.project.description")})]})]})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:e("prompts:createModeDialog.roleDefinition.label")}),s.jsx("div",{style:{fontSize:"13px",color:"var(--vscode-descriptionForeground)",marginBottom:"8px"},children:e("prompts:createModeDialog.roleDefinition.description")}),s.jsx(jn,{resize:"vertical",value:ns,onChange:z=>{is(z.target.value)},rows:4,className:"w-full"}),gs&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:gs})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.description.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.description.description")}),s.jsx(ce,{value:it,onChange:z=>{Nt(z.target.value)},className:"w-full"}),ts&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:ts})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.whenToUse.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.whenToUse.description")}),s.jsx(jn,{resize:"vertical",value:rt,onChange:z=>{Kt(z.target.value)},rows:3,className:"w-full"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.tools.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.tools.description")}),s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-2",children:Fl.map(z=>s.jsx(ze,{checked:Le.some(ge=>ia(ge)===z),onChange:ge=>{var nt;const Oe=(((nt=ge==null?void 0:ge.detail)==null?void 0:nt.target)||ge.target).checked;et(Oe?[...Le,z]:Le.filter(kt=>ia(kt)!==z))},children:e(`prompts:tools.toolNames.${z}`)},z))}),rr&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:rr})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.customInstructions.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.customInstructions.description")}),s.jsx(jn,{resize:"vertical",value:os,onChange:z=>{se(z.target.value)},rows:4,className:"w-full"})]})]}),s.jsxs("div",{className:"flex justify-end p-3 px-5 gap-2 border-t border-vscode-editor-lineHighlightBorder bg-vscode-editor-background",children:[s.jsx(ae,{variant:"secondary",onClick:()=>_(!1),children:e("prompts:createModeDialog.buttons.cancel")}),s.jsx(ae,{variant:"primary",onClick:fr,children:e("prompts:createModeDialog.buttons.create")})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 flex justify-end bg-black/50 z-[1000]",children:s.jsxs("div",{className:"w-[calc(100vw-100px)] h-full bg-vscode-editor-background shadow-md flex flex-col relative",children:[s.jsxs("div",{className:"flex-1 p-5 overflow-y-auto min-h-0",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"absolute top-5 right-5",children:s.jsx("span",{className:"codicon codicon-close"})}),s.jsx("h2",{className:"mb-4",children:x||e("prompts:systemPrompt.title",{modeName:((nn=_e())==null?void 0:nn.name)||"Code"})}),s.jsx("pre",{className:"p-2 whitespace-pre-wrap break-words font-mono text-vscode-editor-font-size text-vscode-editor-foreground bg-vscode-editor-background border border-vscode-editor-lineHighlightBorder rounded overflow-y-auto",children:g})]}),s.jsx("div",{className:"flex justify-end p-3 px-5 border-t border-vscode-editor-lineHighlightBorder bg-vscode-editor-background",children:s.jsx(ae,{variant:"secondary",onClick:()=>m(!1),children:e("prompts:createModeDialog.close")})})]})}),R&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[1000]",children:s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-editor-lineHighlightBorder rounded-lg shadow-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("prompts:modes.importMode")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground mb-4",children:e("prompts:importMode.selectLevel")}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importLevel",value:"project",className:"mt-1",checked:q==="project",onChange:()=>B("project")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e("prompts:importMode.project.label")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:e("prompts:importMode.project.description")})]})]}),s.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importLevel",value:"global",className:"mt-1",checked:q==="global",onChange:()=>B("global")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e("prompts:importMode.global.label")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:e("prompts:importMode.global.description")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ae,{variant:"secondary",onClick:()=>C(!1),children:e("prompts:createModeDialog.buttons.cancel")}),s.jsx(ae,{variant:"primary",onClick:()=>{E||(M(!0),A.postMessage({type:"importMode",source:q}))},disabled:E,children:e(E?"prompts:importMode.importing":"prompts:importMode.import")})]})]})}),s.jsx(gU,{open:Q,onOpenChange:O,modeToDelete:F,onConfirm:()=>{F&&(A.postMessage({type:"deleteCustomMode",slug:F.slug}),O(!1),W(null))}})]})},bU="flex flex-1 overflow-hidden [&.narrow_.tab-label]:hidden",yU="w-48 data-[compact=true]:w-12 flex-shrink-0 flex flex-col overflow-y-auto overflow-x-hidden border-r border-vscode-sideBar-background",y0="whitespace-nowrap overflow-hidden min-w-0 h-12 px-4 py-3 box-border flex items-center border-l-2 border-transparent text-vscode-foreground opacity-70 hover:bg-vscode-list-hoverBackground data-[compact=true]:w-12 data-[compact=true]:p-4 cursor-pointer",wU="opacity-100 border-vscode-focusBorder bg-vscode-list-activeSelectionBackground hover:bg-vscode-list-activeSelectionBackground cursor-default",Ll=["providers","autoApprove","slashCommands","browser","checkpoints","ghost","display","notifications","contextManagement","terminal","modes","mcp","prompts","ui","experimental","language","mcp","about"],kU=h.forwardRef((e,t)=>{const{onDone:r,targetSection:n,editingProfile:o}=e,{t:a}=oe(),i=Ge(),{currentApiConfigName:c,listApiConfigMeta:l,uriScheme:d,settingsImportedAt:u}=i,[p,m]=h.useState(!1),[g,f]=h.useState(!1),[x,v]=h.useState(void 0),[N,y]=h.useState(n&&Ll.includes(n)?n:"providers"),[w,b]=h.useState(c||"default"),k=h.useRef(Object.fromEntries(Ll.map(ue=>[ue,0]))),_=h.useRef(null),j=h.useRef(c),T=h.useRef(),[S,I]=h.useState(()=>i);h.useEffect(()=>{HF()},[p]);const{alwaysAllowReadOnly:E,alwaysAllowReadOnlyOutsideWorkspace:M,allowedCommands:R,deniedCommands:C,allowedMaxRequests:q,allowedMaxCost:B,language:U,alwaysAllowBrowser:te,alwaysAllowExecute:Q,alwaysAllowMcp:O,alwaysAllowModeSwitch:F,alwaysAllowSubtasks:W,alwaysAllowWrite:re,alwaysAllowWriteOutsideWorkspace:H,alwaysAllowWriteProtected:Z,alwaysApproveResubmit:Y,autoCondenseContext:G,autoCondenseContextPercent:ie,browserToolEnabled:D,browserViewportSize:me,enableCheckpoints:xe,checkpointTimeout:we,diffEnabled:Pe,experiments:Ce,morphApiKey:L,fastApplyModel:Se,fastApplyApiProvider:X,fuzzyMatchThreshold:$e,maxOpenTabsContext:ut,maxWorkspaceFiles:V,mcpEnabled:ke,requestDelaySeconds:Te,remoteBrowserHost:ft,screenshotQuality:pt,soundEnabled:Ct,ttsEnabled:Es,ttsSpeed:Me,soundVolume:Je,telemetrySetting:_e,terminalOutputLineLimit:Ze,terminalOutputCharacterLimit:_t,terminalShellIntegrationTimeout:Zt,terminalShellIntegrationDisabled:qe,terminalCommandDelay:es,terminalPowershellCounter:as,terminalZshClearEolMark:it,terminalZshOhMy:Nt,terminalZshP10k:ns,terminalZdotdir:is,writeDelayMs:rt,showRooIgnoredFiles:Kt,remoteBrowserEnabled:os,maxReadFileLine:se,showAutoApproveMenu:Le,yoloMode:et,showTaskTimeline:tt,sendMessageOnEnter:Qe,showTimestamps:ht,hideCostBelowThreshold:wt,maxImageFileSize:Ht,maxTotalImageSize:Ot,terminalCompressProgressBar:ts,maxConcurrentFileReads:lt,allowVeryLargeReads:gs,terminalCommandApiConfigId:ct,condensingApiConfigId:rr,customCondensingPrompt:hr,yoloGatekeeperApiConfigId:Ms,customSupportPrompts:Bs,profileThresholds:zs,systemNotificationsEnabled:fr,alwaysAllowFollowupQuestions:gr,alwaysAllowUpdateTodoList:Pr,followupAutoApproveTimeoutMs:Er,ghostServiceSettings:sn,autoPurgeEnabled:xr,autoPurgeDefaultRetentionDays:vn,autoPurgeFavoritedTaskRetentionDays:ls,autoPurgeCompletedTaskRetentionDays:nr,autoPurgeIncompleteTaskRetentionDays:bn,autoPurgeLastRunTimestamp:rn,includeDiagnosticMessages:ks,maxDiagnosticMessages:js,includeTaskHistoryInEnhance:Vs,imageGenerationProvider:As,openRouterImageApiKey:nn,kiloCodeImageApiKey:z,openRouterImageGenerationSelectedModel:ge,reasoningBlockCollapsed:fe,enterBehavior:Oe,includeCurrentTime:nt,includeCurrentCost:kt,maxGitStatusFiles:cs}=S,Mt=h.useMemo(()=>S.apiConfiguration??{},[S.apiConfiguration]);h.useEffect(()=>{j.current!==c&&(I(ue=>({...ue,...i})),j.current=c,f(!1),o||b(c||"default"))},[c,i,o]),h.useEffect(()=>{o&&(console.log("[SettingsView] Setting editing profile from prop:",o),b(o),_s.current=!0,A.postMessage({type:"getProfileConfigurationForEditing",text:o}))},[o]);const _s=h.useRef(!1);h.useEffect(()=>{const ue=De=>{const ot=De.data;ot.type==="profileConfigurationForEditing"&&ot.text===w&&(I(ss=>({...ss,apiConfiguration:ot.apiConfiguration})),f(!1),_s.current=!1)};return window.addEventListener("message",ue),()=>window.removeEventListener("message",ue)},[w]);const{kilocodeToken:Gs,openRouterApiKey:Mr,glamaApiKey:on,requestyApiKey:go}=i.apiConfiguration??{};h.useEffect(()=>{I(ue=>({...ue,apiConfiguration:{...ue.apiConfiguration,kilocodeToken:Gs,openRouterApiKey:Mr,glamaApiKey:on,requestyApiKey:go}}))},[Gs,Mr,on,go]),h.useEffect(()=>{if(!g&&!_s.current)if(w!==c){const{apiConfiguration:ue,...De}=i;I(ot=>({...ot,...De}))}else I(i)},[i,g,w,c]),h.useEffect(()=>{u&&(I(ue=>({...ue,...i})),f(!1))},[u,i]);const $=h.useCallback((ue,De)=>{I(ot=>gj(ot[ue],De)?ot:(f(!0),{...ot,[ue]:De}))},[]),be=h.useCallback((ue,De)=>{I(ot=>{const ss=ot.ghostServiceSettings||{};return ss[ue]===De?ot:(f(!0),{...ot,ghostServiceSettings:{...ss,[ue]:De}})})},[]),Ie=h.useCallback((ue,De,ot=!0)=>{I(ss=>{var Ex,Mx;if(((Ex=ss.apiConfiguration)==null?void 0:Ex[ue])===De)return ss;const ln=(Mx=ss.apiConfiguration)==null?void 0:Mx[ue];return!ot&&(ln===void 0||ln===""||ln===null)&&De!==void 0&&De!==""&&De!==null||f(!0),{...ss,apiConfiguration:{...ss.apiConfiguration,[ue]:De}}})},[]),Ae=h.useCallback((ue,De)=>{I(ot=>{var ss;return((ss=ot.experiments)==null?void 0:ss[ue])===De?ot:(f(!0),{...ot,experiments:{...ot.experiments,[ue]:De}})})},[]),K=h.useCallback(ue=>{I(De=>De.telemetrySetting===ue?De:(f(!0),{...De,telemetrySetting:ue}))},[]),J=h.useCallback(ue=>{I(De=>(De.imageGenerationProvider!==ue&&f(!0),{...De,imageGenerationProvider:ue}))},[]),ve=h.useCallback(ue=>{I(De=>(De.openRouterImageApiKey!==ue&&f(!0),{...De,openRouterImageApiKey:ue}))},[]),he=h.useCallback(ue=>{I(De=>(f(!0),{...De,kiloCodeImageApiKey:ue}))},[]),Ve=h.useCallback(ue=>{I(De=>(De.openRouterImageGenerationSelectedModel!==ue&&f(!0),{...De,openRouterImageGenerationSelectedModel:ue}))},[]),Ue=h.useCallback(ue=>{I(De=>{const ot=JSON.stringify(De.customSupportPrompts),ss=JSON.stringify(ue);return ot===ss?De:(f(!0),{...De,customSupportPrompts:ue})})},[]),dt=!x,Vt=()=>{if(dt){if(A.postMessage({type:"updateSettings",updatedSettings:{language:U,alwaysAllowReadOnly:E??void 0,alwaysAllowReadOnlyOutsideWorkspace:M??void 0,alwaysAllowWrite:re??void 0,alwaysAllowWriteOutsideWorkspace:H??void 0,alwaysAllowWriteProtected:Z??void 0,alwaysAllowExecute:Q??void 0,alwaysAllowBrowser:te??void 0,alwaysAllowMcp:O,alwaysAllowModeSwitch:F,allowedCommands:R??[],deniedCommands:C??[],allowedMaxRequests:q??null,allowedMaxCost:B??null,autoCondenseContext:G,autoCondenseContextPercent:ie,browserToolEnabled:D??!0,soundEnabled:Ct??!0,soundVolume:Je??.5,ttsEnabled:Es,ttsSpeed:Me,diffEnabled:Pe??!0,enableCheckpoints:xe??!1,checkpointTimeout:we??kh,browserViewportSize:me??"900x600",remoteBrowserHost:os?ft:void 0,remoteBrowserEnabled:os??!1,fuzzyMatchThreshold:$e??1,writeDelayMs:rt,screenshotQuality:pt??75,terminalOutputLineLimit:Ze??500,terminalOutputCharacterLimit:_t??5e4,terminalShellIntegrationTimeout:Zt??3e4,terminalShellIntegrationDisabled:qe,terminalCommandDelay:es,terminalPowershellCounter:as,terminalZshClearEolMark:it,terminalZshOhMy:Nt,terminalZshP10k:ns,terminalZdotdir:is,terminalCompressProgressBar:ts,mcpEnabled:ke,alwaysApproveResubmit:Y??!1,requestDelaySeconds:Te??5,maxOpenTabsContext:Math.min(Math.max(0,ut??20),500),maxWorkspaceFiles:Math.min(Math.max(0,V??200),500),showRooIgnoredFiles:Kt??!0,maxReadFileLine:se??-1,maxImageFileSize:Ht??5,maxTotalImageSize:Ot??20,maxConcurrentFileReads:S.maxConcurrentFileReads??5,includeDiagnosticMessages:ks!==void 0?ks:!0,maxDiagnosticMessages:js??50,alwaysAllowSubtasks:W,alwaysAllowUpdateTodoList:Pr,alwaysAllowFollowupQuestions:gr??!1,followupAutoApproveTimeoutMs:Er,condensingApiConfigId:rr||"",includeTaskHistoryInEnhance:Vs??!0,reasoningBlockCollapsed:fe??!0,enterBehavior:Oe??"send",includeCurrentTime:nt??!0,includeCurrentCost:kt??!0,maxGitStatusFiles:cs??0,profileThresholds:zs,imageGenerationProvider:As,openRouterImageApiKey:nn,openRouterImageGenerationSelectedModel:ge,experiments:Ce,customSupportPrompts:Bs}}),A.postMessage({type:"ttsEnabled",bool:Es}),A.postMessage({type:"ttsSpeed",value:Me}),A.postMessage({type:"terminalCommandApiConfigId",text:ct||""}),A.postMessage({type:"showAutoApproveMenu",bool:Le}),A.postMessage({type:"yoloMode",bool:et}),A.postMessage({type:"allowVeryLargeReads",bool:gs}),A.postMessage({type:"currentApiConfigName",text:c}),A.postMessage({type:"showTaskTimeline",bool:tt}),A.postMessage({type:"sendMessageOnEnter",bool:Qe}),A.postMessage({type:"showTimestamps",bool:ht}),A.postMessage({type:"hideCostBelowThreshold",value:wt}),A.postMessage({type:"updateCondensingPrompt",text:hr||""}),A.postMessage({type:"yoloGatekeeperApiConfigId",text:Ms||""}),A.postMessage({type:"setReasoningBlockCollapsed",bool:fe??!0}),A.postMessage({type:"upsertApiConfiguration",text:w,apiConfiguration:Mt}),A.postMessage({type:"telemetrySetting",text:_e}),A.postMessage({type:"systemNotificationsEnabled",bool:fr}),A.postMessage({type:"ghostServiceSettings",values:sn}),A.postMessage({type:"morphApiKey",text:L}),A.postMessage({type:"fastApplyModel",text:Se}),A.postMessage({type:"fastApplyApiProvider",text:X}),A.postMessage({type:"kiloCodeImageApiKey",text:z}),A.postMessage({type:"autoPurgeEnabled",bool:xr}),A.postMessage({type:"autoPurgeDefaultRetentionDays",value:vn}),A.postMessage({type:"autoPurgeFavoritedTaskRetentionDays",value:ls??void 0}),A.postMessage({type:"autoPurgeCompletedTaskRetentionDays",value:nr}),A.postMessage({type:"autoPurgeIncompleteTaskRetentionDays",value:bn}),w!==c){const{apiConfiguration:ue,...De}=i;I(ot=>({...ot,...De}))}else I(ue=>({...ue,...i}));f(!1)}},Gt=h.useCallback(ue=>{g?(T.current=ue,m(!0)):ue()},[g]);h.useImperativeHandle(t,()=>({checkUnsaveChanges:Gt}),[Gt]);const an=h.useCallback(ue=>{var De;ue&&(I(i),f(!1),(De=T.current)==null||De.call(T))},[I,f,i]),Sd=h.useRef();h.useEffect(()=>{Sd.current=performance.now()},[]),h.useEffect(()=>{Sd.current&&performance.now()-Sd.current<100&&g&&(console.info("Overwriting unsaved changes in less than 100ms"),an(!0))},[g,an]);const Tx=h.useCallback(ue=>{_.current&&(k.current[N]=_.current.scrollTop),y(ue)},[N]);h.useLayoutEffect(()=>{_.current&&(_.current.scrollTop=k.current[N]??0)},[N]);const Ix=h.useRef(Object.fromEntries(Ll.map(ue=>[ue,null]))),[si,CS]=h.useState(!1),Td=h.useRef(null);h.useEffect(()=>{if(!Td.current)return;const ue=new ResizeObserver(De=>{for(const ot of De)CS(ot.contentRect.width<500)});return ue.observe(Td.current),()=>{ue==null||ue.disconnect()}},[]);const OS=h.useMemo(()=>[{id:"providers",icon:gR},{id:"modes",icon:i_},{id:"autoApprove",icon:Cg},{id:"browser",icon:n_},{id:"checkpoints",icon:Mj},{id:"display",icon:e_},{id:"ghost",icon:ef},{id:"notifications",icon:G1},{id:"contextManagement",icon:Og},{id:"terminal",icon:$f},{id:"prompts",icon:Fg},{id:"experimental",icon:J1},{id:"language",icon:Oc},{id:"mcp",icon:Lg},{id:"about",icon:od}],[]);h.useEffect(()=>{n&&Ll.includes(n)&&y(n)},[n]),h.useEffect(()=>{const ue=De=>{var ss;const ot=De.data;if(ot.type==="action"&&ot.action==="settingsButtonClicked"&&((ss=ot.values)!=null&&ss.editingProfile)){const ln=ot.values.editingProfile;console.log("[SettingsView] Restoring editing profile:",ln),b(ln),_s.current=!0,A.postMessage({type:"getProfileConfigurationForEditing",text:ln})}};return window.addEventListener("message",ue),()=>window.removeEventListener("message",ue)},[]);const pl=h.useCallback(()=>{const ue=Ix.current[N];ue&&ue.scrollIntoView({behavior:"auto",block:"nearest"})},[N]);return h.useEffect(()=>{pl()},[N,pl]),h.useLayoutEffect(()=>{const ue=De=>{const ot=De.data;ot.type==="action"&&ot.action==="didBecomeVisible"&&pl()};return window.addEventListener("message",ue),()=>{window.removeEventListener("message",ue)}},[pl]),s.jsxs(Xo,{children:[s.jsxs(ol,{className:"flex justify-between items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("h3",{className:"text-vscode-foreground m-0",children:a("settings:header.title")})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(de,{content:dt?a(g?"settings:header.saveButtonTooltip":"settings:header.nothingChangedTooltip"):x,children:s.jsx(ae,{variant:dt?"primary":"secondary",className:dt?"":"!border-vscode-errorForeground",onClick:Vt,disabled:!g||!dt,"data-testid":"save-button",children:a("settings:common.save")})}),s.jsx(de,{content:a("settings:header.doneButtonTooltip"),children:s.jsx(ae,{variant:"secondary",onClick:()=>Gt(r),children:a("settings:common.done")})})]})]}),s.jsxs("div",{ref:Td,className:ee(bU,si&&"narrow"),children:[s.jsx(qF,{value:N,onValueChange:ue=>Tx(ue),className:ee(yU),"data-compact":si,"data-testid":"settings-tab-list",children:OS.map(({id:ue,icon:De})=>{const ot=ue===N,ss=()=>Tx(ue),ln=s.jsx(UF,{ref:Px=>Ix.current[ue]=Px,value:ue,isSelected:ot,className:ee(ot?`${y0} ${wU}`:y0,"cursor-pointer focus:ring-0"),"data-testid":`tab-${ue}`,"data-compact":si,children:s.jsxs("div",{className:ee("flex items-center gap-2",si&&"justify-center"),children:[s.jsx(De,{className:"w-4 h-4"}),s.jsx("span",{className:"tab-label",children:a(ue==="mcp"?"kilocode:settings.sections.mcp":ue==="ghost"?"kilocode:ghost.title":`settings:sections.${ue}`)})]})});return si?s.jsx(Vi,{delayDuration:300,children:s.jsxs(zc,{children:[s.jsx(qc,{asChild:!0,onClick:ss,children:He.cloneElement(ln)}),s.jsx(Uc,{side:"right",className:"text-base",children:s.jsx("p",{className:"m-0",children:a(ue==="mcp"?"kilocode:settings.sections.mcp":ue==="ghost"?"kilocode:ghost.title":`settings:sections.${ue}`)})})]})},ue):He.cloneElement(ln,{key:ue})})}),s.jsxs(Jo,{ref:_,className:"p-0 flex-1 overflow-auto",children:[N==="providers"&&s.jsxs("div",{children:[s.jsx(ws,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l_,{className:"w-4"}),s.jsx("div",{children:a("settings:sections.providers")})]})}),s.jsxs($t,{children:[s.jsx(GF,{currentApiConfigName:w,activeApiConfigName:c,listApiConfigMeta:l,onSelectConfig:ue=>{Gt(()=>{b(ue),_s.current=!0,A.postMessage({type:"getProfileConfigurationForEditing",text:ue})})},onActivateConfig:ue=>{A.postMessage({type:"loadApiConfiguration",text:ue})},onDeleteConfig:ue=>{const De=ue===w;if(A.postMessage({type:"deleteApiConfiguration",text:ue}),De&&l&&l.length>1){const ot=l.find(ss=>ss.name!==ue);ot&&b(ot.name)}},onRenameConfig:(ue,De)=>{A.postMessage({type:"renameApiConfiguration",values:{oldName:ue,newName:De},apiConfiguration:Mt}),ue===w&&b(De),ue===c&&(j.current=De)},onUpsertConfig:(ue,De)=>{A.postMessage({type:"upsertApiConfiguration",text:ue,apiConfiguration:{...Mt,profileType:De||"chat"}}),b(ue)}}),s.jsx(fS,{uriScheme:d,apiConfiguration:Mt,setApiConfigurationField:Ie,errorMessage:x,setErrorMessage:v,currentApiConfigName:w})]})]}),N==="autoApprove"&&s.jsx(gq,{showAutoApproveMenu:Le,yoloMode:et,yoloGatekeeperApiConfigId:Ms,alwaysAllowReadOnly:E,alwaysAllowReadOnlyOutsideWorkspace:M,alwaysAllowWrite:re,alwaysAllowWriteOutsideWorkspace:H,alwaysAllowWriteProtected:Z,alwaysAllowBrowser:te,alwaysApproveResubmit:Y,requestDelaySeconds:Te,alwaysAllowMcp:O,alwaysAllowModeSwitch:F,alwaysAllowSubtasks:W,alwaysAllowExecute:Q,alwaysAllowFollowupQuestions:gr,alwaysAllowUpdateTodoList:Pr,followupAutoApproveTimeoutMs:Er,allowedCommands:R,allowedMaxRequests:q??void 0,allowedMaxCost:B??void 0,deniedCommands:C,setCachedStateField:$}),N==="slashCommands"&&s.jsx(mU,{}),N==="browser"&&s.jsx(xq,{browserToolEnabled:D,browserViewportSize:me,screenshotQuality:pt,remoteBrowserHost:ft,remoteBrowserEnabled:os,setCachedStateField:$}),N==="checkpoints"&&s.jsx(vq,{enableCheckpoints:xe,checkpointTimeout:we,setCachedStateField:$,autoPurgeEnabled:xr,autoPurgeDefaultRetentionDays:vn,autoPurgeFavoritedTaskRetentionDays:ls,autoPurgeCompletedTaskRetentionDays:nr,autoPurgeIncompleteTaskRetentionDays:bn,autoPurgeLastRunTimestamp:rn,onManualPurge:()=>{A.postMessage({type:"manualPurge"})}}),N==="display"&&s.jsx(Bq,{reasoningBlockCollapsed:fe??!0,showTaskTimeline:tt,sendMessageOnEnter:Qe,showTimestamps:S.showTimestamps,hideCostBelowThreshold:wt,setCachedStateField:$}),N==="ghost"&&s.jsx(pU,{ghostServiceSettings:sn,onGhostServiceSettingsChange:be}),N==="notifications"&&s.jsx(zq,{ttsEnabled:Es,ttsSpeed:Me,soundEnabled:Ct,soundVolume:Je,systemNotificationsEnabled:fr,areSettingsCommitted:!g,setCachedStateField:$}),N==="contextManagement"&&s.jsx(qq,{autoCondenseContext:G,autoCondenseContextPercent:ie,listApiConfigMeta:l??[],maxOpenTabsContext:ut,maxWorkspaceFiles:V??200,showRooIgnoredFiles:Kt,maxReadFileLine:se,maxImageFileSize:Ht,maxTotalImageSize:Ot,maxConcurrentFileReads:lt,allowVeryLargeReads:gs,profileThresholds:zs,includeDiagnosticMessages:ks,maxDiagnosticMessages:js,writeDelayMs:rt,includeCurrentTime:nt,includeCurrentCost:kt,maxGitStatusFiles:cs,setCachedStateField:$}),N==="terminal"&&s.jsx(Kq,{terminalOutputLineLimit:Ze,terminalOutputCharacterLimit:_t,terminalShellIntegrationTimeout:Zt,terminalShellIntegrationDisabled:qe,terminalCommandDelay:es,terminalPowershellCounter:as,terminalZshClearEolMark:it,terminalZshOhMy:Nt,terminalZshP10k:ns,terminalZdotdir:is,terminalCompressProgressBar:ts,terminalCommandApiConfigId:ct,setCachedStateField:$}),N==="modes"&&s.jsx(vU,{}),N==="mcp"&&s.jsx(v0,{}),N==="prompts"&&s.jsx(Zq,{customSupportPrompts:Bs||{},setCustomSupportPrompts:Ue,includeTaskHistoryInEnhance:Vs,setIncludeTaskHistoryInEnhance:ue=>$("includeTaskHistoryInEnhance",ue)}),N==="ui"&&s.jsx(hU,{reasoningBlockCollapsed:fe??!0,enterBehavior:Oe??"send",setCachedStateField:$}),N==="experimental"&&s.jsx(Hq,{setExperimentEnabled:Ae,experiments:Ce,setCachedStateField:$,morphApiKey:L,fastApplyModel:Se,fastApplyApiProvider:X,apiConfiguration:Mt,setApiConfigurationField:Ie,imageGenerationProvider:As,openRouterImageApiKey:nn,kiloCodeImageApiKey:z,openRouterImageGenerationSelectedModel:ge,setImageGenerationProvider:J,setOpenRouterImageApiKey:ve,setKiloCodeImageApiKey:he,setImageGenerationSelectedModel:Ve,currentProfileKilocodeToken:Mt.kilocodeToken}),N==="language"&&s.jsx(Gq,{language:U||"en",setCachedStateField:$}),N==="mcp"&&s.jsx(v0,{}),N==="about"&&s.jsx(Qq,{telemetrySetting:_e,setTelemetrySetting:K})]})]}),s.jsx(Hr,{open:p,onOpenChange:m,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{children:[s.jsx(el,{className:"w-5 h-5 text-yellow-500"}),a("settings:unsavedChangesDialog.title")]}),s.jsx(Xr,{children:a("settings:unsavedChangesDialog.description")})]}),s.jsxs(Qr,{children:[s.jsx(Jr,{onClick:()=>an(!1),children:a("settings:unsavedChangesDialog.cancelButton")}),s.jsx(Sr,{onClick:()=>an(!0),children:a("settings:unsavedChangesDialog.discardButton")})]})]})})]})}),jU=h.memo(kU),_U=Hs.button`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
	cursor: pointer;

	/* Theme-specific styles */
	body.vscode-dark & {
		background: #f6f6f7;
		color: #1b1b1b;

		&:hover,
		&:focus {
			background-color: #e0e0e0;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			background-color: #d3d3d3;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		background: #1b1b1b;
		color: #f6f6f7;

		&:hover,
		&:focus {
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			transform: scale(0.98);
		}
	}
`,dl=({onClick:e,children:t})=>s.jsx(_U,{onClick:e,className:"flex flex-col gap-1 text-center",children:t}),NU=Hs.a`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

	/* Theme-specific styles */
	body.vscode-dark & {
		background: #f6f6f7;
		color: #1b1b1b;

		&:hover,
		&:focus {
			background-color: #e0e0e0;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			background-color: #d3d3d3;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		background: #1b1b1b;
		color: #f6f6f7;

		&:hover,
		&:focus {
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			transform: scale(0.98);
		}
	}
`,SU=({href:e,onClick:t,children:r})=>s.jsx(NU,{href:e,onClick:t,className:"flex flex-col gap-1 text-center",children:r}),TU=Hs.button`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	cursor: pointer;

	/* Theme-specific styles */
	body.vscode-dark & {
		border: 1px solid #9f9ea1;
		background: #8e9196;
		color: #fff;

		&:hover {
			background-color: #7a7e83;
		}

		&:active {
			background-color: #6a6e73;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		border: 1px solid #9f9ea1;
		background: #fff;
		color: #8e9196;

		&:active {
			transform: scale(0.98);
		}
	}
`,SS=({onClick:e,children:t})=>s.jsx(TU,{onClick:e,className:"flex flex-col gap-1 text-center",children:t});function ul({width:e=100,height:t=100}){return s.jsx("svg",{id:"Kilo_Code_Branding",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 50 50",className:"mb-4 mt-4",width:e,height:t,children:s.jsx("path",{fill:"var(--vscode-descriptionForeground)",d:"M0,0v50h50V0H0ZM46.2962963,46.2962963H3.7037037V3.7037037h42.5925926v42.5925926ZM30.5555522,35.9548042h4.6296296v3.7037037h-5.8201058l-2.5132275-2.5132275v-5.8201058h3.7037037v4.6296296ZM38.8888855,35.9548042h-3.7037037v-4.6296296h-4.6296296v-3.7037037h5.8201058l2.5132275,2.5132275v5.8201058ZM23.1481481,30.5557103h-3.7037037v-3.7037037h3.7037037v3.7037037ZM11.1111111,26.8520066h3.7037037v8.3333333h8.3333333v3.7037037h-9.5238095l-2.5132275-2.5132275v-9.5238095ZM38.8888855,19.4444444v3.7037037h-12.037037v-3.7037037h4.1390959v-4.6296296h-4.1390959v-3.7037037h5.3295721l2.5132275,2.5132275v5.8201058h4.1942374ZM14.8148148,15.2777778h4.6296296l3.7037037,3.7037037v4.1666667h-3.7037037v-4.1666667h-4.6296296v4.1666667h-3.7037037v-12.037037h3.7037037v4.1666667ZM23.1481481,15.2777778h-3.7037037v-4.1666667h3.7037037v4.1666667Z"})})}var la={},Xm,w0;function IU(){return w0||(w0=1,Xm=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Xm}var Jm={},Dn={},k0;function Zo(){if(k0)return Dn;k0=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Dn.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Dn.getSymbolTotalCodewords=function(n){return t[n]},Dn.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Dn.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},Dn.isKanjiModeEnabled=function(){return typeof e<"u"},Dn.toSJIS=function(n){return e(n)},Dn}var Zm={},j0;function Nx(){return j0||(j0=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(Zm)),Zm}var eh,_0;function PU(){if(_0)return eh;_0=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)===1},put:function(t,r){for(let n=0;n<r;n++)this.putBit((t>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},eh=e,eh}var th,N0;function EU(){if(N0)return th;N0=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,r,n,o){const a=t*this.size+r;this.data[a]=n,o&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,r){return this.data[t*this.size+r]},e.prototype.xor=function(t,r,n){this.data[t*this.size+r]^=n},e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},th=e,th}var sh={},S0;function MU(){return S0||(S0=1,(function(e){const t=Zo().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,a=t(n),i=a===145?26:Math.ceil((a-13)/(2*o-2))*2,c=[a-7];for(let l=1;l<o-1;l++)c[l]=c[l-1]-i;return c.push(6),c.reverse()},e.getPositions=function(n){const o=[],a=e.getRowColCoords(n),i=a.length;for(let c=0;c<i;c++)for(let l=0;l<i;l++)c===0&&l===0||c===0&&l===i-1||c===i-1&&l===0||o.push([a[c],a[l]]);return o}})(sh)),sh}var rh={},T0;function AU(){if(T0)return rh;T0=1;const e=Zo().getSymbolSize,t=7;return rh.getPositions=function(n){const o=e(n);return[[0,0],[o-t,0],[0,o-t]]},rh}var nh={},I0;function RU(){return I0||(I0=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const a=o.size;let i=0,c=0,l=0,d=null,u=null;for(let p=0;p<a;p++){c=l=0,d=u=null;for(let m=0;m<a;m++){let g=o.get(p,m);g===d?c++:(c>=5&&(i+=t.N1+(c-5)),d=g,c=1),g=o.get(m,p),g===u?l++:(l>=5&&(i+=t.N1+(l-5)),u=g,l=1)}c>=5&&(i+=t.N1+(c-5)),l>=5&&(i+=t.N1+(l-5))}return i},e.getPenaltyN2=function(o){const a=o.size;let i=0;for(let c=0;c<a-1;c++)for(let l=0;l<a-1;l++){const d=o.get(c,l)+o.get(c,l+1)+o.get(c+1,l)+o.get(c+1,l+1);(d===4||d===0)&&i++}return i*t.N2},e.getPenaltyN3=function(o){const a=o.size;let i=0,c=0,l=0;for(let d=0;d<a;d++){c=l=0;for(let u=0;u<a;u++)c=c<<1&2047|o.get(d,u),u>=10&&(c===1488||c===93)&&i++,l=l<<1&2047|o.get(u,d),u>=10&&(l===1488||l===93)&&i++}return i*t.N3},e.getPenaltyN4=function(o){let a=0;const i=o.data.length;for(let l=0;l<i;l++)a+=o.data[l];return Math.abs(Math.ceil(a*100/i/5)-10)*t.N4};function r(n,o,a){switch(n){case e.Patterns.PATTERN000:return(o+a)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(o+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return o*a%2+o*a%3===0;case e.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case e.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(o,a){const i=a.size;for(let c=0;c<i;c++)for(let l=0;l<i;l++)a.isReserved(l,c)||a.xor(l,c,r(o,l,c))},e.getBestMask=function(o,a){const i=Object.keys(e.Patterns).length;let c=0,l=1/0;for(let d=0;d<i;d++){a(d),e.applyMask(d,o);const u=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(d,o),u<l&&(l=u,c=d)}return c}})(nh)),nh}var Bl={},P0;function TS(){if(P0)return Bl;P0=1;const e=Nx(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Bl.getBlocksCount=function(o,a){switch(a){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},Bl.getTotalCodewordsCount=function(o,a){switch(a){case e.L:return r[(o-1)*4+0];case e.M:return r[(o-1)*4+1];case e.Q:return r[(o-1)*4+2];case e.H:return r[(o-1)*4+3];default:return}},Bl}var oh={},di={},E0;function CU(){if(E0)return di;E0=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let o=0;o<255;o++)e[o]=n,t[n]=o,n<<=1,n&256&&(n^=285);for(let o=255;o<512;o++)e[o]=e[o-255]})(),di.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},di.exp=function(n){return e[n]},di.mul=function(n,o){return n===0||o===0?0:e[t[n]+t[o]]},di}var M0;function OU(){return M0||(M0=1,(function(e){const t=CU();e.mul=function(n,o){const a=new Uint8Array(n.length+o.length-1);for(let i=0;i<n.length;i++)for(let c=0;c<o.length;c++)a[i+c]^=t.mul(n[i],o[c]);return a},e.mod=function(n,o){let a=new Uint8Array(n);for(;a.length-o.length>=0;){const i=a[0];for(let l=0;l<o.length;l++)a[l]^=t.mul(o[l],i);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let a=0;a<n;a++)o=e.mul(o,new Uint8Array([1,t.exp(a)]));return o}})(oh)),oh}var ah,A0;function DU(){if(A0)return ah;A0=1;const e=OU();function t(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(n.length+this.degree);o.set(n);const a=e.mod(o,this.genPoly),i=this.degree-a.length;if(i>0){const c=new Uint8Array(this.degree);return c.set(a,i),c}return a},ah=t,ah}var ih={},lh={},ch={},R0;function IS(){return R0||(R0=1,ch.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),ch}var un={},C0;function PS(){if(C0)return un;C0=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;un.KANJI=new RegExp(r,"g"),un.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),un.BYTE=new RegExp(n,"g"),un.NUMERIC=new RegExp(e,"g"),un.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+r+"$"),a=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return un.testKanji=function(l){return o.test(l)},un.testNumeric=function(l){return a.test(l)},un.testAlphanumeric=function(l){return i.test(l)},un}var O0;function ea(){return O0||(O0=1,(function(e){const t=IS(),r=PS();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,i){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?a.ccBits[0]:i<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(a,i){if(e.isValid(a))return a;try{return n(a)}catch{return i}}})(lh)),lh}var D0;function FU(){return D0||(D0=1,(function(e){const t=Zo(),r=TS(),n=Nx(),o=ea(),a=IS(),i=7973,c=t.getBCHDigit(i);function l(m,g,f){for(let x=1;x<=40;x++)if(g<=e.getCapacity(x,f,m))return x}function d(m,g){return o.getCharCountIndicator(m,g)+4}function u(m,g){let f=0;return m.forEach(function(x){const v=d(x.mode,g);f+=v+x.getBitsLength()}),f}function p(m,g){for(let f=1;f<=40;f++)if(u(m,f)<=e.getCapacity(f,g,o.MIXED))return f}e.from=function(g,f){return a.isValid(g)?parseInt(g,10):f},e.getCapacity=function(g,f,x){if(!a.isValid(g))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=o.BYTE);const v=t.getSymbolTotalCodewords(g),N=r.getTotalCodewordsCount(g,f),y=(v-N)*8;if(x===o.MIXED)return y;const w=y-d(x,g);switch(x){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(g,f){let x;const v=n.from(f,n.M);if(Array.isArray(g)){if(g.length>1)return p(g,v);if(g.length===0)return 1;x=g[0]}else x=g;return l(x.mode,x.getLength(),v)},e.getEncodedBits=function(g){if(!a.isValid(g)||g<7)throw new Error("Invalid QR Code version");let f=g<<12;for(;t.getBCHDigit(f)-c>=0;)f^=i<<t.getBCHDigit(f)-c;return g<<12|f}})(ih)),ih}var dh={},F0;function LU(){if(F0)return dh;F0=1;const e=Zo(),t=1335,r=21522,n=e.getBCHDigit(t);return dh.getEncodedBits=function(a,i){const c=a.bit<<3|i;let l=c<<10;for(;e.getBCHDigit(l)-n>=0;)l^=t<<e.getBCHDigit(l)-n;return(c<<10|l)^r},dh}var uh={},ph,L0;function BU(){if(L0)return ph;L0=1;const e=ea();function t(r){this.mode=e.NUMERIC,this.data=r.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let o,a,i;for(o=0;o+3<=this.data.length;o+=3)a=this.data.substr(o,3),i=parseInt(a,10),n.put(i,10);const c=this.data.length-o;c>0&&(a=this.data.substr(o),i=parseInt(a,10),n.put(i,c*3+1))},ph=t,ph}var mh,B0;function zU(){if(B0)return mh;B0=1;const e=ea(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=e.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let a;for(a=0;a+2<=this.data.length;a+=2){let i=t.indexOf(this.data[a])*45;i+=t.indexOf(this.data[a+1]),o.put(i,11)}this.data.length%2&&o.put(t.indexOf(this.data[a]),6)},mh=r,mh}var hh,z0;function qU(){if(z0)return hh;z0=1;const e=ea();function t(r){this.mode=e.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){for(let n=0,o=this.data.length;n<o;n++)r.put(this.data[n],8)},hh=t,hh}var fh,q0;function UU(){if(q0)return fh;q0=1;const e=ea(),t=Zo();function r(n){this.mode=e.KANJI,this.data=n}return r.getBitsLength=function(o){return o*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let o;for(o=0;o<this.data.length;o++){let a=t.toSJIS(this.data[o]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},fh=r,fh}var gh={exports:{}},U0;function KU(){return U0||(U0=1,(function(e){var t={single_source_shortest_paths:function(r,n,o){var a={},i={};i[n]=0;var c=t.PriorityQueue.make();c.push(n,0);for(var l,d,u,p,m,g,f,x,v;!c.empty();){l=c.pop(),d=l.value,p=l.cost,m=r[d]||{};for(u in m)m.hasOwnProperty(u)&&(g=m[u],f=p+g,x=i[u],v=typeof i[u]>"u",(v||x>f)&&(i[u]=f,c.push(u,f),a[u]=d))}if(typeof o<"u"&&typeof i[o]>"u"){var N=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(N)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],a=n;a;)o.push(a),r[a],a=r[a];return o.reverse(),o},find_path:function(r,n,o){var a=t.single_source_shortest_paths(r,n,o);return t.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,o={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(gh)),gh.exports}var K0;function WU(){return K0||(K0=1,(function(e){const t=ea(),r=BU(),n=zU(),o=qU(),a=UU(),i=PS(),c=Zo(),l=KU();function d(N){return unescape(encodeURIComponent(N)).length}function u(N,y,w){const b=[];let k;for(;(k=N.exec(w))!==null;)b.push({data:k[0],index:k.index,mode:y,length:k[0].length});return b}function p(N){const y=u(i.NUMERIC,t.NUMERIC,N),w=u(i.ALPHANUMERIC,t.ALPHANUMERIC,N);let b,k;return c.isKanjiModeEnabled()?(b=u(i.BYTE,t.BYTE,N),k=u(i.KANJI,t.KANJI,N)):(b=u(i.BYTE_KANJI,t.BYTE,N),k=[]),y.concat(w,b,k).sort(function(j,T){return j.index-T.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function m(N,y){switch(y){case t.NUMERIC:return r.getBitsLength(N);case t.ALPHANUMERIC:return n.getBitsLength(N);case t.KANJI:return a.getBitsLength(N);case t.BYTE:return o.getBitsLength(N)}}function g(N){return N.reduce(function(y,w){const b=y.length-1>=0?y[y.length-1]:null;return b&&b.mode===w.mode?(y[y.length-1].data+=w.data,y):(y.push(w),y)},[])}function f(N){const y=[];for(let w=0;w<N.length;w++){const b=N[w];switch(b.mode){case t.NUMERIC:y.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:y.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:y.push([b,{data:b.data,mode:t.BYTE,length:d(b.data)}]);break;case t.BYTE:y.push([{data:b.data,mode:t.BYTE,length:d(b.data)}])}}return y}function x(N,y){const w={},b={start:{}};let k=["start"];for(let _=0;_<N.length;_++){const j=N[_],T=[];for(let S=0;S<j.length;S++){const I=j[S],E=""+_+S;T.push(E),w[E]={node:I,lastCount:0},b[E]={};for(let M=0;M<k.length;M++){const R=k[M];w[R]&&w[R].node.mode===I.mode?(b[R][E]=m(w[R].lastCount+I.length,I.mode)-m(w[R].lastCount,I.mode),w[R].lastCount+=I.length):(w[R]&&(w[R].lastCount=I.length),b[R][E]=m(I.length,I.mode)+4+t.getCharCountIndicator(I.mode,y))}}k=T}for(let _=0;_<k.length;_++)b[k[_]].end=0;return{map:b,table:w}}function v(N,y){let w;const b=t.getBestModeForData(N);if(w=t.from(y,b),w!==t.BYTE&&w.bit<b.bit)throw new Error('"'+N+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(b));switch(w===t.KANJI&&!c.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new r(N);case t.ALPHANUMERIC:return new n(N);case t.KANJI:return new a(N);case t.BYTE:return new o(N)}}e.fromArray=function(y){return y.reduce(function(w,b){return typeof b=="string"?w.push(v(b,null)):b.data&&w.push(v(b.data,b.mode)),w},[])},e.fromString=function(y,w){const b=p(y,c.isKanjiModeEnabled()),k=f(b),_=x(k,w),j=l.find_path(_.map,"start","end"),T=[];for(let S=1;S<j.length-1;S++)T.push(_.table[j[S]].node);return e.fromArray(g(T))},e.rawSplit=function(y){return e.fromArray(p(y,c.isKanjiModeEnabled()))}})(uh)),uh}var W0;function $U(){if(W0)return Jm;W0=1;const e=Zo(),t=Nx(),r=PU(),n=EU(),o=MU(),a=AU(),i=RU(),c=TS(),l=DU(),d=FU(),u=LU(),p=ea(),m=WU();function g(_,j){const T=_.size,S=a.getPositions(j);for(let I=0;I<S.length;I++){const E=S[I][0],M=S[I][1];for(let R=-1;R<=7;R++)if(!(E+R<=-1||T<=E+R))for(let C=-1;C<=7;C++)M+C<=-1||T<=M+C||(R>=0&&R<=6&&(C===0||C===6)||C>=0&&C<=6&&(R===0||R===6)||R>=2&&R<=4&&C>=2&&C<=4?_.set(E+R,M+C,!0,!0):_.set(E+R,M+C,!1,!0))}}function f(_){const j=_.size;for(let T=8;T<j-8;T++){const S=T%2===0;_.set(T,6,S,!0),_.set(6,T,S,!0)}}function x(_,j){const T=o.getPositions(j);for(let S=0;S<T.length;S++){const I=T[S][0],E=T[S][1];for(let M=-2;M<=2;M++)for(let R=-2;R<=2;R++)M===-2||M===2||R===-2||R===2||M===0&&R===0?_.set(I+M,E+R,!0,!0):_.set(I+M,E+R,!1,!0)}}function v(_,j){const T=_.size,S=d.getEncodedBits(j);let I,E,M;for(let R=0;R<18;R++)I=Math.floor(R/3),E=R%3+T-8-3,M=(S>>R&1)===1,_.set(I,E,M,!0),_.set(E,I,M,!0)}function N(_,j,T){const S=_.size,I=u.getEncodedBits(j,T);let E,M;for(E=0;E<15;E++)M=(I>>E&1)===1,E<6?_.set(E,8,M,!0):E<8?_.set(E+1,8,M,!0):_.set(S-15+E,8,M,!0),E<8?_.set(8,S-E-1,M,!0):E<9?_.set(8,15-E-1+1,M,!0):_.set(8,15-E-1,M,!0);_.set(S-8,8,1,!0)}function y(_,j){const T=_.size;let S=-1,I=T-1,E=7,M=0;for(let R=T-1;R>0;R-=2)for(R===6&&R--;;){for(let C=0;C<2;C++)if(!_.isReserved(I,R-C)){let q=!1;M<j.length&&(q=(j[M]>>>E&1)===1),_.set(I,R-C,q),E--,E===-1&&(M++,E=7)}if(I+=S,I<0||T<=I){I-=S,S=-S;break}}}function w(_,j,T){const S=new r;T.forEach(function(C){S.put(C.mode.bit,4),S.put(C.getLength(),p.getCharCountIndicator(C.mode,_)),C.write(S)});const I=e.getSymbolTotalCodewords(_),E=c.getTotalCodewordsCount(_,j),M=(I-E)*8;for(S.getLengthInBits()+4<=M&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const R=(M-S.getLengthInBits())/8;for(let C=0;C<R;C++)S.put(C%2?17:236,8);return b(S,_,j)}function b(_,j,T){const S=e.getSymbolTotalCodewords(j),I=c.getTotalCodewordsCount(j,T),E=S-I,M=c.getBlocksCount(j,T),R=S%M,C=M-R,q=Math.floor(S/M),B=Math.floor(E/M),U=B+1,te=q-B,Q=new l(te);let O=0;const F=new Array(M),W=new Array(M);let re=0;const H=new Uint8Array(_.buffer);for(let D=0;D<M;D++){const me=D<C?B:U;F[D]=H.slice(O,O+me),W[D]=Q.encode(F[D]),O+=me,re=Math.max(re,me)}const Z=new Uint8Array(S);let Y=0,G,ie;for(G=0;G<re;G++)for(ie=0;ie<M;ie++)G<F[ie].length&&(Z[Y++]=F[ie][G]);for(G=0;G<te;G++)for(ie=0;ie<M;ie++)Z[Y++]=W[ie][G];return Z}function k(_,j,T,S){let I;if(Array.isArray(_))I=m.fromArray(_);else if(typeof _=="string"){let q=j;if(!q){const B=m.rawSplit(_);q=d.getBestVersionForData(B,T)}I=m.fromString(_,q||40)}else throw new Error("Invalid data");const E=d.getBestVersionForData(I,T);if(!E)throw new Error("The amount of data is too big to be stored in a QR Code");if(!j)j=E;else if(j<E)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+E+`.
`);const M=w(j,T,I),R=e.getSymbolSize(j),C=new n(R);return g(C,j),f(C),x(C,j),N(C,T,0),j>=7&&v(C,j),y(C,M),isNaN(S)&&(S=i.getBestMask(C,N.bind(null,C,T))),i.applyMask(S,C),N(C,T,S),{modules:C,version:j,errorCorrectionLevel:T,maskPattern:S,segments:I}}return Jm.create=function(j,T){if(typeof j>"u"||j==="")throw new Error("No input text");let S=t.M,I,E;return typeof T<"u"&&(S=t.from(T.errorCorrectionLevel,t.M),I=d.from(T.version),E=i.from(T.maskPattern),T.toSJISFunc&&e.setToSJISFunction(T.toSJISFunc)),k(j,I,S,E)},Jm}var xh={},vh={},$0;function ES(){return $0||($0=1,(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:a,scale:a?4:i,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){const a=e.getScale(n,o);return Math.floor((n+o.margin*2)*a)},e.qrToImageData=function(n,o,a){const i=o.modules.size,c=o.modules.data,l=e.getScale(i,a),d=Math.floor((i+a.margin*2)*l),u=a.margin*l,p=[a.color.light,a.color.dark];for(let m=0;m<d;m++)for(let g=0;g<d;g++){let f=(m*d+g)*4,x=a.color.light;if(m>=u&&g>=u&&m<d-u&&g<d-u){const v=Math.floor((m-u)/l),N=Math.floor((g-u)/l);x=p[c[v*i+N]?1:0]}n[f++]=x.r,n[f++]=x.g,n[f++]=x.b,n[f]=x.a}}})(vh)),vh}var H0;function HU(){return H0||(H0=1,(function(e){const t=ES();function r(o,a,i){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=i,a.width=i,a.style.height=i+"px",a.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,i,c){let l=c,d=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(d=n()),l=t.getOptions(l);const u=t.getImageWidth(a.modules.size,l),p=d.getContext("2d"),m=p.createImageData(u,u);return t.qrToImageData(m.data,a,l),r(p,d,u),p.putImageData(m,0,0),d},e.renderToDataURL=function(a,i,c){let l=c;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const d=e.render(a,i,l),u=l.type||"image/png",p=l.rendererOpts||{};return d.toDataURL(u,p.quality)}})(xh)),xh}var bh={},V0;function VU(){if(V0)return bh;V0=1;const e=ES();function t(o,a){const i=o.a/255,c=a+'="'+o.hex+'"';return i<1?c+" "+a+'-opacity="'+i.toFixed(2).slice(1)+'"':c}function r(o,a,i){let c=o+a;return typeof i<"u"&&(c+=" "+i),c}function n(o,a,i){let c="",l=0,d=!1,u=0;for(let p=0;p<o.length;p++){const m=Math.floor(p%a),g=Math.floor(p/a);!m&&!d&&(d=!0),o[p]?(u++,p>0&&m>0&&o[p-1]||(c+=d?r("M",m+i,.5+g+i):r("m",l,0),l=0,d=!1),m+1<a&&o[p+1]||(c+=r("h",u),u=0)):l++}return c}return bh.render=function(a,i,c){const l=e.getOptions(i),d=a.modules.size,u=a.modules.data,p=d+l.margin*2,m=l.color.light.a?"<path "+t(l.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",g="<path "+t(l.color.dark,"stroke")+' d="'+n(u,d,l.margin)+'"/>',f='viewBox="0 0 '+p+" "+p+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+f+' shape-rendering="crispEdges">'+m+g+`</svg>
`;return typeof c=="function"&&c(null,v),v},bh}var G0;function GU(){if(G0)return la;G0=1;const e=IU(),t=$U(),r=HU(),n=VU();function o(a,i,c,l,d){const u=[].slice.call(arguments,1),p=u.length,m=typeof u[p-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(p<2)throw new Error("Too few arguments provided");p===2?(d=c,c=i,i=l=void 0):p===3&&(i.getContext&&typeof d>"u"?(d=l,l=void 0):(d=l,l=c,c=i,i=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(c=i,i=l=void 0):p===2&&!i.getContext&&(l=c,c=i,i=void 0),new Promise(function(g,f){try{const x=t.create(c,l);g(a(x,i,l))}catch(x){f(x)}})}try{const g=t.create(c,l);d(null,a(g,i,l))}catch(g){d(g)}}return la.create=t.create,la.toCanvas=o.bind(null,r.render),la.toDataURL=o.bind(null,r.renderToDataURL),la.toString=o.bind(null,function(a,i,c){return n.render(a,c)}),la}var QU=GU();const YU=Zr(QU),zl={width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}};function XU(e){var t,r;return{width:(e==null?void 0:e.width)??zl.width,margin:(e==null?void 0:e.margin)??zl.margin,color:{dark:((t=e==null?void 0:e.color)==null?void 0:t.dark)??zl.color.dark,light:((r=e==null?void 0:e.color)==null?void 0:r.light)??zl.color.light}}}async function JU(e,t){return YU.toDataURL(e,XU(t))}const ZU=()=>{const{t:e}=oe();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(ul,{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin text-xl"}),s.jsx("span",{className:"text-vscode-foreground",children:e("kilocode:deviceAuth.initiating")})]})]})},eK=({userEmail:e})=>{const{t}=oe();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(ul,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:t("kilocode:deviceAuth.success")}),e&&s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:t("kilocode:deviceAuth.authenticatedAs",{email:e})})]})},tK=({error:e,onRetry:t})=>{const{t:r}=oe();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(ul,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:r("kilocode:deviceAuth.error")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:e||r("kilocode:deviceAuth.unknownError")}),s.jsx(dl,{onClick:t,children:r("kilocode:deviceAuth.retry")})]})},sK=({onRetry:e})=>{const{t}=oe();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(ul,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:t("kilocode:deviceAuth.cancelled")}),s.jsx(dl,{onClick:e,children:t("kilocode:deviceAuth.tryAgain")})]})},rK=({code:e,verificationUrl:t,qrCodeDataUrl:r,timeRemaining:n,formatTime:o,onOpenBrowser:a,onCancel:i})=>{const{t:c}=oe(),l=()=>{navigator.clipboard.writeText(t)};return s.jsxs("div",{className:"flex flex-col gap-2 bg-vscode-sideBar-background rounded",children:[s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground text-center",children:c("kilocode:deviceAuth.title")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:c("kilocode:deviceAuth.step1")}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-vscode-input-background border border-vscode-input-border rounded",children:[s.jsx("span",{className:"flex-1 text-sm font-mono text-vscode-foreground truncate",children:t}),s.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-vscode-toolbar-hoverBackground rounded",title:c("kilocode:deviceAuth.copyUrl"),children:s.jsx("span",{className:"codicon codicon-copy text-vscode-foreground"})})]}),s.jsx(dl,{onClick:a,children:c("kilocode:deviceAuth.openBrowser")})]}),r&&s.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:c("kilocode:deviceAuth.scanQr")}),s.jsx("img",{src:r,alt:"QR Code",className:"w-40 h-40 border border-vscode-widget-border rounded"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:c("kilocode:deviceAuth.step2")}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"px-6 py-3 bg-vscode-input-background border-2 border-vscode-focusBorder rounded-lg",children:s.jsx("span",{className:"text-2xl font-mono font-bold text-vscode-foreground tracking-wider",children:e})})}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"codicon codicon-clock text-vscode-descriptionForeground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:c("kilocode:deviceAuth.timeRemaining",{time:o(n)})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin text-vscode-descriptionForeground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:c("kilocode:deviceAuth.waiting")})]})]}),s.jsx("div",{className:"w-full flex flex-col",children:s.jsx(SS,{onClick:i,children:c("kilocode:deviceAuth.cancel")})})]})},MS=({code:e,verificationUrl:t,timeRemaining:r,status:n,error:o,userEmail:a,onCancel:i,onRetry:c})=>{const[l,d]=h.useState("");h.useEffect(()=>{t&&JU(t,{width:200,margin:2}).then(d).catch(f=>{console.error("Failed to generate QR code:",f)})},[t]);const u=f=>{if(f===void 0)return"--:--";const x=Math.floor(f/60),v=f%60;return`${x}:${v.toString().padStart(2,"0")}`},p=()=>{t&&A.postMessage({type:"openExternal",url:t})},m=()=>{A.postMessage({type:"cancelDeviceAuth"}),i==null||i()},g=()=>{c==null||c()};return n==="initiating"?s.jsx(ZU,{}):n==="success"?s.jsx(eK,{userEmail:a}):n==="error"?s.jsx(tK,{error:o,onRetry:g}):n==="cancelled"?s.jsx(sK,{onRetry:g}):n==="pending"&&e&&t?s.jsx(rK,{code:e,verificationUrl:t,qrCodeDataUrl:l,timeRemaining:r,formatTime:u,onOpenBrowser:p,onCancel:m}):null},AS=({onManualConfigClick:e,onLoginClick:t,className:r=""})=>{const{t:n}=oe(),[o,a]=h.useState("idle"),[i,c]=h.useState(),[l,d]=h.useState(),[u,p]=h.useState(),[m,g]=h.useState(),[f,x]=h.useState(),[v,N]=h.useState();h.useEffect(()=>{const k=_=>{const j=_.data;switch(j.type){case"deviceAuthStarted":a("pending"),c(j.deviceAuthCode),d(j.deviceAuthVerificationUrl),p(j.deviceAuthExpiresIn),g(j.deviceAuthExpiresIn),x(void 0);break;case"deviceAuthPolling":g(j.deviceAuthTimeRemaining);break;case"deviceAuthComplete":a("success"),N(j.deviceAuthUserEmail),A.postMessage({type:"deviceAuthCompleteWithProfile",text:"",values:{token:j.deviceAuthToken,userEmail:j.deviceAuthUserEmail}}),setTimeout(()=>{A.postMessage({type:"switchTab",tab:"chat"})},2e3);break;case"deviceAuthFailed":a("error"),x(j.deviceAuthError);break;case"deviceAuthCancelled":a("idle"),c(void 0),d(void 0),p(void 0),g(void 0),x(void 0);break}};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[]);const y=()=>{t?t():(a("initiating"),A.postMessage({type:"startDeviceAuth"}))},w=()=>{a("idle"),c(void 0),d(void 0),p(void 0),g(void 0),x(void 0)},b=()=>{a("idle"),x(void 0),setTimeout(()=>y(),100)};return o!=="idle"?s.jsx("div",{className:`flex flex-col items-center ${r}`,children:s.jsx(MS,{code:i,verificationUrl:l,expiresIn:u,timeRemaining:m,status:o,error:f,userEmail:v,onCancel:w,onRetry:b})}):s.jsxs("div",{className:`flex flex-col items-center ${r}`,children:[s.jsx(ul,{}),s.jsx("h2",{className:"m-0 p-0 mb-4",children:n("kilocode:welcome.greeting")}),s.jsx("p",{className:"text-center mb-2",children:n("kilocode:welcome.introText1")}),s.jsx("p",{className:"text-center mb-2",children:n("kilocode:welcome.introText2")}),s.jsx("p",{className:"text-center mb-5",children:n("kilocode:welcome.introText3")}),s.jsxs("div",{className:"w-full flex flex-col gap-5",children:[s.jsx(dl,{onClick:y,children:n("kilocode:welcome.ctaButton")}),!!e&&s.jsx(SS,{onClick:()=>e&&e(),children:n("kilocode:welcome.manualModeButton")})]})]})},nK={AC:{urlScheme:"appcode",name:"AppCode"},IC:{urlScheme:"idea",name:"IntelliJ IDEA"},IU:{urlScheme:"idea",name:"IntelliJ IDEA"},AS:{urlScheme:"android",name:"Android Studio"},AI:{urlScheme:"android",name:"Android Studio"},WS:{urlScheme:"webstorm",name:"WebStorm"},PS:{urlScheme:"phpstorm",name:"PhpStorm"},PY:{urlScheme:"pycharm",name:"PyCharm Professional"},PC:{urlScheme:"pycharm",name:"PyCharm Community"},GO:{urlScheme:"goland",name:"GoLand"},CL:{urlScheme:"clion",name:"CLion"},RD:{urlScheme:"rider",name:"Rider"},RM:{urlScheme:"rubymine",name:"RubyMine"},DB:{urlScheme:"datagrip",name:"DataGrip"},DS:{urlScheme:"dataspell",name:"DataSpell"},JB:{urlScheme:"jetbrains",name:"JetBrains"}},oK=e=>{var t;return((t=nK[e])==null?void 0:t.urlScheme)||"jetbrains"},aK=(e="vscode",t)=>!(t!=null&&t.kiloCodeWrapped)||!t.kiloCodeWrapper||!t.kiloCodeWrapperCode?e:`${oK(t.kiloCodeWrapperCode)}`;function iK(e="vscode",t="Desktop",r){const n=t==="Web"?"web":aK(e,r);return jr(`/sign-in-to-editor?source=${n}`)}const lK=()=>{const{apiConfiguration:e,currentApiConfigName:t,setApiConfiguration:r,uriScheme:n,uiKind:o,kiloCodeWrapperProperties:a}=Ge(),[i,c]=h.useState(),[l,d]=h.useState(!1),{t:u}=oe(),p=h.useRef(null);h.useEffect(()=>{const f=x=>{if(x.data.type==="state"&&p.current){const N=p.current;p.current=null,A.postMessage({type:"loadApiConfiguration",text:N})}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[]);const m=h.useCallback(()=>{const f=e?QF(e):void 0;if(f){c(f);return}c(void 0),p.current=t,A.postMessage({type:"upsertApiConfiguration",text:t,apiConfiguration:e})},[e,t]),g=!(e!=null&&e.apiProvider)||(e==null?void 0:e.apiProvider)==="kilocode"&&!(e!=null&&e.kilocodeToken);return s.jsx(Xo,{children:s.jsx(Jo,{className:"flex flex-col gap-5",children:l?s.jsxs(s.Fragment,{children:[s.jsx(fS,{fromWelcomeView:!0,apiConfiguration:e||{},uriScheme:n,setApiConfigurationField:(f,x)=>r({[f]:x}),errorMessage:i,setErrorMessage:c,hideKiloCodeButton:!0}),g?s.jsx(SU,{href:iK(n,o,a),children:u("kilocode:settings.provider.login")}):s.jsx(dl,{onClick:m,children:u("welcome:start")})]}):s.jsx("div",{className:"bg-vscode-sideBar-background p-4",children:s.jsx(AS,{onManualConfigClick:()=>d(!0)})})})})};var ui={},xi={exports:{}},cK=xi.exports,Q0;function dK(){return Q0||(Q0=1,(function(e,t){(function(r,n){n(t)})(cK,(function(r){var n=function(){return n=Object.assign||function(a){for(var i,c=1,l=arguments.length;c<l;c++)for(var d in i=arguments[c])Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d]);return a},n.apply(this,arguments)},o=(function(){function a(i,c,l){var d=this;this.endVal=c,this.options=l,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){d.startTime||(d.startTime=u);var p=u-d.startTime;d.remaining=d.duration-p,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(p,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(p,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(p/d.duration);var m=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=m?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),p<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(u){var p,m,g,f,x=u<0?"-":"";p=Math.abs(u).toFixed(d.options.decimalPlaces);var v=(p+="").split(".");if(m=v[0],g=v.length>1?d.options.decimal+v[1]:"",d.options.useGrouping){f="";for(var N=3,y=0,w=0,b=m.length;w<b;++w)d.options.useIndianSeparators&&w===4&&(N=2,y=1),w!==0&&y%N==0&&(f=d.options.separator+f),y++,f=m[b-w-1]+f;m=f}return d.options.numerals&&d.options.numerals.length&&(m=m.replace(/[0-9]/g,(function(k){return d.options.numerals[+k]})),g=g.replace(/[0-9]/g,(function(k){return d.options.numerals[+k]}))),x+d.options.prefix+m+g+d.options.suffix},this.easeOutExpo=function(u,p,m,g){return m*(1-Math.pow(2,-10*u/g))*1024/1023+p},this.options=n(n({},this.defaults),l),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof i=="string"?document.getElementById(i):i,c=c??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(c),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,i):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return d.handleScroll(d)})),window.onscroll=function(){window.onScrollFns.forEach((function(u){return u()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(i){if(i&&window&&!i.once){var c=window.innerHeight+window.scrollY,l=i.el.getBoundingClientRect(),d=l.top+window.pageYOffset,u=l.top+l.height+window.pageYOffset;u<c&&u>window.scrollY&&i.paused?(i.paused=!1,setTimeout((function(){return i.start()}),i.options.scrollSpyDelay),i.options.scrollSpyOnce&&(i.once=!0)):(window.scrollY>u||d>c)&&!i.paused&&i.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var i=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>i;var c=i-this.startVal;if(Math.abs(c)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=i;var l=this.countDown?1:-1;this.endVal=i+l*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=i,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(i){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),i&&(this.options.onCompleteCallback=i),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(i){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(i),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(i){var c;if(this.el){var l=this.formattingFn(i);!((c=this.options.plugin)===null||c===void 0)&&c.render?this.options.plugin.render(this.el,l):this.el.tagName==="INPUT"?this.el.value=l:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=l:this.el.innerHTML=l}},a.prototype.ensureNumber=function(i){return typeof i=="number"&&!isNaN(i)},a.prototype.validateValue=function(i){var c=Number(i);return this.ensureNumber(c)?c:(this.error="[CountUp] invalid start or end value: ".concat(i),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(i){var c=function(p){return p.replace(/([.,' ])/g,"\\$1")},l=c(this.options.separator),d=c(this.options.decimal),u=i.replace(new RegExp(l,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(u)},a})();r.CountUp=o}))})(xi,xi.exports)),xi.exports}var Y0;function uK(){if(Y0)return ui;Y0=1,Object.defineProperty(ui,"__esModule",{value:!0});var e=BS(),t=dK();function r(T,S){var I=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(I!=null){var E,M,R,C,q=[],B=!0,U=!1;try{if(R=(I=I.call(T)).next,S!==0)for(;!(B=(E=R.call(I)).done)&&(q.push(E.value),q.length!==S);B=!0);}catch(te){U=!0,M=te}finally{try{if(!B&&I.return!=null&&(C=I.return(),Object(C)!==C))return}finally{if(U)throw M}}return q}}function n(T,S){var I=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);S&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),I.push.apply(I,E)}return I}function o(T){for(var S=1;S<arguments.length;S++){var I=arguments[S]!=null?arguments[S]:{};S%2?n(Object(I),!0).forEach(function(E){c(T,E,I[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(I)):n(Object(I)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(I,E))})}return T}function a(T,S){if(typeof T!="object"||!T)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var E=I.call(T,S);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}function i(T){var S=a(T,"string");return typeof S=="symbol"?S:String(S)}function c(T,S,I){return S=i(S),S in T?Object.defineProperty(T,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):T[S]=I,T}function l(){return l=Object.assign?Object.assign.bind():function(T){for(var S=1;S<arguments.length;S++){var I=arguments[S];for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&(T[E]=I[E])}return T},l.apply(this,arguments)}function d(T,S){if(T==null)return{};var I={},E=Object.keys(T),M,R;for(R=0;R<E.length;R++)M=E[R],!(S.indexOf(M)>=0)&&(I[M]=T[M]);return I}function u(T,S){if(T==null)return{};var I=d(T,S),E,M;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);for(M=0;M<R.length;M++)E=R[M],!(S.indexOf(E)>=0)&&Object.prototype.propertyIsEnumerable.call(T,E)&&(I[E]=T[E])}return I}function p(T,S){return m(T)||r(T,S)||g(T,S)||x()}function m(T){if(Array.isArray(T))return T}function g(T,S){if(T){if(typeof T=="string")return f(T,S);var I=Object.prototype.toString.call(T).slice(8,-1);if(I==="Object"&&T.constructor&&(I=T.constructor.name),I==="Map"||I==="Set")return Array.from(T);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return f(T,S)}}function f(T,S){(S==null||S>T.length)&&(S=T.length);for(var I=0,E=new Array(S);I<S;I++)E[I]=T[I];return E}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function N(T){var S=e.useRef(T);return v(function(){S.current=T}),e.useCallback(function(){for(var I=arguments.length,E=new Array(I),M=0;M<I;M++)E[M]=arguments[M];return S.current.apply(void 0,E)},[])}var y=function(S,I){var E=I.decimal,M=I.decimals,R=I.duration,C=I.easingFn,q=I.end,B=I.formattingFn,U=I.numerals,te=I.prefix,Q=I.separator,O=I.start,F=I.suffix,W=I.useEasing,re=I.useGrouping,H=I.useIndianSeparators,Z=I.enableScrollSpy,Y=I.scrollSpyDelay,G=I.scrollSpyOnce,ie=I.plugin;return new t.CountUp(S,q,{startVal:O,duration:R,decimal:E,decimalPlaces:M,easingFn:C,formattingFn:B,numerals:U,separator:Q,prefix:te,suffix:F,plugin:ie,useEasing:W,useIndianSeparators:H,useGrouping:re,enableScrollSpy:Z,scrollSpyDelay:Y,scrollSpyOnce:G})},w=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],b={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},k=function(S){var I=Object.fromEntries(Object.entries(S).filter(function(Pe){var Ce=p(Pe,2),L=Ce[1];return L!==void 0})),E=e.useMemo(function(){return o(o({},b),I)},[S]),M=E.ref,R=E.startOnMount,C=E.enableReinitialize,q=E.delay,B=E.onEnd,U=E.onStart,te=E.onPauseResume,Q=E.onReset,O=E.onUpdate,F=u(E,w),W=e.useRef(),re=e.useRef(),H=e.useRef(!1),Z=N(function(){return y(typeof M=="string"?M:M.current,F)}),Y=N(function(Pe){var Ce=W.current;if(Ce&&!Pe)return Ce;var L=Z();return W.current=L,L}),G=N(function(){var Pe=function(){return Y(!0).start(function(){B==null||B({pauseResume:ie,reset:D,start:xe,update:me})})};q&&q>0?re.current=setTimeout(Pe,q*1e3):Pe(),U==null||U({pauseResume:ie,reset:D,update:me})}),ie=N(function(){Y().pauseResume(),te==null||te({reset:D,start:xe,update:me})}),D=N(function(){Y().el&&(re.current&&clearTimeout(re.current),Y().reset(),Q==null||Q({pauseResume:ie,start:xe,update:me}))}),me=N(function(Pe){Y().update(Pe),O==null||O({pauseResume:ie,reset:D,start:xe})}),xe=N(function(){D(),G()}),we=N(function(Pe){R&&(Pe&&D(),G())});return e.useEffect(function(){H.current?C&&we(!0):(H.current=!0,we())},[C,H,we,q,S.start,S.suffix,S.prefix,S.duration,S.separator,S.decimals,S.decimal,S.formattingFn]),e.useEffect(function(){return function(){D()}},[D]),{start:xe,pauseResume:ie,reset:D,update:me,getCountUp:Y}},_=["className","redraw","containerProps","children","style"],j=function(S){var I=S.className,E=S.redraw,M=S.containerProps,R=S.children,C=S.style,q=u(S,_),B=e.useRef(null),U=e.useRef(!1),te=k(o(o({},q),{},{ref:B,startOnMount:typeof R!="function"||S.delay===0,enableReinitialize:!1})),Q=te.start,O=te.reset,F=te.update,W=te.pauseResume,re=te.getCountUp,H=N(function(){Q()}),Z=N(function(ie){S.preserveValue||O(),F(ie)}),Y=N(function(){if(typeof S.children=="function"&&!(B.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}re()});e.useEffect(function(){Y()},[Y]),e.useEffect(function(){U.current&&Z(S.end)},[S.end,Z]);var G=E&&S;return e.useEffect(function(){E&&U.current&&H()},[H,E,G]),e.useEffect(function(){!E&&U.current&&H()},[H,E,S.start,S.suffix,S.prefix,S.duration,S.separator,S.decimals,S.decimal,S.className,S.formattingFn]),e.useEffect(function(){U.current=!0},[]),typeof R=="function"?R({countUpRef:B,start:Q,reset:O,update:F,pauseResume:W,getCountUp:re}):e.createElement("span",l({className:I,ref:B,style:C},M),typeof S.start<"u"?re().formattingFn(S.start):"")};return ui.default=j,ui.useCountUp=k,ui}var pK=uK();const mK=Zr(pK),hK=({onDone:e})=>{var w,b,k;const{apiConfiguration:t,currentApiConfigName:r,uriScheme:n,uiKind:o}=Ge(),{t:a}=oe(),[i,c]=He.useState(null),[l,d]=He.useState(null),[u,p]=He.useState(!0),[m,g]=He.useState(!0),f=t==null?void 0:t.kilocodeOrganizationId;h.useEffect(()=>{A.postMessage({type:"fetchProfileDataRequest"}),A.postMessage({type:"fetchBalanceDataRequest"})},[t==null?void 0:t.kilocodeToken,f]),h.useEffect(()=>{const _=j=>{var S;const T=j.data;if(T.type==="profileDataResponse"){const I=T.payload;I.success?c(I.data):(console.error("Error fetching profile data:",I.error),c(null)),g(!1)}else if(T.type==="balanceDataResponse"){const I=T.payload;I.success?d(((S=I.data)==null?void 0:S.balance)||0):(console.error("Error fetching balance data:",I.error),d(null)),p(!1)}else T.type==="updateProfileData"&&(A.postMessage({type:"fetchProfileDataRequest"}),A.postMessage({type:"fetchBalanceDataRequest"}))};return window.addEventListener("message",_),()=>{window.removeEventListener("message",_)}},[i]);const x=i==null?void 0:i.user;function v(){console.info("Logging out...",t),A.postMessage({type:"upsertApiConfiguration",text:r,apiConfiguration:{...t,kilocodeToken:"",kilocodeOrganizationId:void 0}})}const N=[{credits:20,popular:!1},{credits:50,popular:!0},{credits:100,popular:!1},{credits:200,popular:!1}],y=_=>()=>{A.postMessage({type:"shopBuyCredits",values:{credits:_,uriScheme:n,uiKind:o}})};return m?s.jsx(s.Fragment,{}):s.jsxs(Xo,{children:[s.jsxs(ol,{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:a("kilocode:profile.title")}),s.jsx(ae,{onClick:e,children:a("settings:common.done")})]}),s.jsx(Jo,{children:s.jsx("div",{className:"h-full flex flex-col",children:s.jsx("div",{className:"flex-1",children:x?s.jsxs("div",{className:"flex flex-col pr-3 h-full",children:[s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsxs("div",{className:"flex items-center mb-6 flex-wrap gap-y-4",children:[x.image?s.jsx("img",{src:x.image,alt:"Profile",className:"size-16 rounded-full mr-4"}):s.jsx("div",{className:"size-16 rounded-full bg-[var(--vscode-button-background)] flex items-center justify-center text-2xl text-[var(--vscode-button-foreground)] mr-4",children:((w=x.name)==null?void 0:w[0])||((b=x.email)==null?void 0:b[0])||"?"}),s.jsxs("div",{className:"flex flex-col flex-1",children:[x.name&&s.jsx("h2",{className:"text-[var(--vscode-foreground)] m-0 mb-1 text-lg font-medium",children:x.name}),x.email&&s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)]",children:x.email})]})]}),s.jsx(Hg,{className:"mb-6"})]}),s.jsxs("div",{className:"w-full flex gap-2 flex-col min-[225px]:flex-row",children:[s.jsx("div",{className:"w-full min-[225px]:w-1/2",children:s.jsx(vt,{href:jr("/profile"),appearance:"primary",className:"w-full",children:a("kilocode:profile.dashboard")})}),s.jsx(xt,{appearance:"secondary",onClick:v,className:"w-full min-[225px]:w-1/2",children:a("kilocode:profile.logOut")})]}),s.jsx("div",{className:"w-full mt-2",children:f?s.jsx(vt,{href:jr(`/organizations/${f}/usage-details`),appearance:"secondary",className:"w-full",children:a("kilocode:profile.detailedUsage")}):(((k=i.organizations)==null?void 0:k.length)??0)===0&&s.jsx(vt,{onClick:()=>{Yt.capture(Ts.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"usage-details"})},href:jr("/organizations/new"),appearance:"primary",className:"w-full",children:a("kilocode:profile.createOrganization")})}),s.jsx(IT,{className:"w-full my-6"}),s.jsxs("div",{className:"w-full flex flex-col items-center",children:[s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)] mb-3",children:a("kilocode:profile.currentBalance")}),s.jsx("div",{className:"text-4xl font-bold text-[var(--vscode-foreground)] mb-6 flex items-center gap-2",children:u?s.jsx("div",{className:"text-[var(--vscode-descriptionForeground)]",children:a("kilocode:profile.loading")}):l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"$"}),s.jsx(mK,{end:l,duration:.66,decimals:2}),s.jsx(xt,{appearance:"icon",className:"mt-1",onClick:()=>{p(!0),A.postMessage({type:"fetchBalanceDataRequest"})},children:s.jsx("span",{className:"codicon codicon-refresh"})})]})}),!f&&s.jsxs("div",{className:"w-full mt-8",children:[s.jsx("div",{className:"text-lg font-semibold text-[var(--vscode-foreground)] mb-4 text-center",children:a("kilocode:profile.shop.title")}),s.jsx("div",{className:"grid grid-cols-1 min-[300px]:grid-cols-2 gap-3 mb-6",children:N.map(_=>s.jsxs("div",{className:`relative border rounded-lg p-4 bg-[var(--vscode-editor-background)] transition-all hover:shadow-md ${_.popular?"border-[var(--vscode-button-background)] ring-1 ring-[var(--vscode-button-background)]":"border-[var(--vscode-input-border)]"}`,children:[_.popular&&s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-[var(--vscode-button-background)] text-[var(--vscode-button-foreground)] text-xs px-2 py-1 rounded-full font-medium",children:a("kilocode:profile.shop.popular")})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-[var(--vscode-foreground)] mb-1",children:["$",_.credits]}),s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)] mb-2",children:a("kilocode:profile.shop.credits")}),s.jsx(xt,{appearance:_.popular?"primary":"secondary",className:"w-full",onClick:y(_.credits),children:a("kilocode:profile.shop.action")})]})]},_.credits))}),s.jsx("div",{className:"text-center",children:s.jsx(vt,{href:jr("/profile"),appearance:"secondary",className:"text-sm",children:a("kilocode:profile.shop.viewAll")})})]})]})]}):s.jsx("div",{className:"flex flex-col items-center pr-3",children:s.jsx(AS,{className:"w-full"})})})})})]})},fK=({returnTo:e="chat",profileName:t})=>{const[r,n]=h.useState("idle"),[o,a]=h.useState(),[i,c]=h.useState(),[l,d]=h.useState(),[u,p]=h.useState(),[m,g]=h.useState(),[f,x]=h.useState();h.useEffect(()=>{const y=w=>{const b=w.data;switch(b.type){case"deviceAuthStarted":n("pending"),a(b.deviceAuthCode),c(b.deviceAuthVerificationUrl),d(b.deviceAuthExpiresIn),p(b.deviceAuthExpiresIn),g(void 0);break;case"deviceAuthPolling":p(b.deviceAuthTimeRemaining);break;case"deviceAuthComplete":console.log("[AuthView] Device auth complete received",{profileName:t,token:b.deviceAuthToken?"present":"missing",userEmail:b.deviceAuthUserEmail}),n("success"),x(b.deviceAuthUserEmail),console.log("[AuthView] Sending deviceAuthCompleteWithProfile to profile:",t||"current"),A.postMessage({type:"deviceAuthCompleteWithProfile",text:t||"",values:{token:b.deviceAuthToken,userEmail:b.deviceAuthUserEmail}}),setTimeout(()=>{A.postMessage({type:"switchTab",tab:e,values:t?{editingProfile:t}:void 0})},2e3);break;case"deviceAuthFailed":n("error"),g(b.deviceAuthError);break;case"deviceAuthCancelled":A.postMessage({type:"switchTab",tab:e,values:t?{editingProfile:t}:void 0});break}};return window.addEventListener("message",y),()=>window.removeEventListener("message",y)},[e,t]),h.useEffect(()=>{n("initiating"),A.postMessage({type:"startDeviceAuth"})},[]);const v=()=>{},N=()=>{n("idle"),g(void 0),setTimeout(()=>{n("initiating"),A.postMessage({type:"startDeviceAuth"})},100)};return s.jsx(Xo,{children:s.jsx(Jo,{className:"flex flex-col items-center justify-center min-h-screen p-6",children:s.jsx(MS,{code:o,verificationUrl:i,expiresIn:l,timeRemaining:u,status:r,error:m,userEmail:f,onCancel:v,onRetry:N})})})},gK=({isOpen:e,onClose:t,requestId:r,promptText:n,onSubmit:o,onCancel:a})=>{const{t:i}=oe(),[c,l]=h.useState(""),{copy:d}=$_(),[u,p]=h.useState(!1);h.useEffect(()=>{e&&(l(""),p(!1))},[e]);const m=()=>{d(n),p(!0),setTimeout(()=>{p(!1)},2e3)},g=x=>{x.preventDefault(),c.trim()&&(o(r,c),t())},f=()=>{a(r),t()};return s.jsx(Go,{open:e,onOpenChange:x=>!x&&f(),children:s.jsxs(Qo,{className:"sm:max-w-[600px] overflow-y-auto max-h-[80vh]",children:[s.jsxs(Ya,{children:[s.jsx(Xa,{children:i("humanRelay:dialogTitle")}),s.jsx(Wg,{children:i("humanRelay:dialogDescription")})]}),s.jsxs("div",{className:"grid gap-6 py-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wx,{className:"min-h-[200px] font-mono text-sm p-4 pr-12 whitespace-pre-wrap",value:n,readOnly:!0}),s.jsx(ae,{variant:"ghost",size:"icon",className:"absolute top-2 right-2",onClick:m,children:u?s.jsx(Nr,{className:"h-4 w-4"}):s.jsx(Uf,{className:"h-4 w-4"})})]}),u&&s.jsx("div",{className:"text-sm text-emerald-500 font-medium",children:i("humanRelay:copiedToClipboard")}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-medium",children:i("humanRelay:aiResponse.label")}),s.jsx(Wx,{placeholder:i("humanRelay:aiResponse.placeholder"),value:c,onChange:x=>l(x.target.value),className:"min-h-[150px]"})]})]}),s.jsxs(id,{children:[s.jsxs(ae,{variant:"outline",onClick:f,className:"gap-1",children:[s.jsx(xn,{className:"h-4 w-4"}),i("humanRelay:actions.cancel")]}),s.jsxs(ae,{onClick:g,disabled:!c.trim(),className:"gap-1",children:[s.jsx(Nr,{className:"h-4 w-4"}),i("humanRelay:actions.submit")]})]})]})})};function xK(e,t){const r=Math.max(0,Math.min(1,t));return((...n)=>{if(Math.random()<r)return e(...n)})}class vK{constructor(){jt(this,"intervalId",null);jt(this,"intervalMs",600*1e3);jt(this,"sampledTelemetryCapture",xK(Yt.capture.bind(Yt),.01))}start(){this.intervalId||(this.reportMemoryUsage(),this.intervalId=window.setInterval(()=>{this.reportMemoryUsage()},this.intervalMs))}stop(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)}reportMemoryUsage(){const t=performance.memory,r={heapUsedMb:this.bytesToMegabytes((t==null?void 0:t.usedJSHeapSize)||0),heapTotalMb:this.bytesToMegabytes((t==null?void 0:t.totalJSHeapSize)||0)};this.sampledTelemetryCapture(Ts.WEBVIEW_MEMORY_USAGE,r)}bytesToMegabytes(t){return Math.round(t/1024/1024*100)/100}}const bK=({open:e,onOpenChange:t,onConfirm:r,type:n,hasCheckpoint:o})=>{const{t:a}=oe(),i=n==="edit",c=a(i?"common:confirmation.editMessage":"common:confirmation.deleteMessage"),l=a(i?"common:confirmation.editQuestionWithCheckpoint":"common:confirmation.deleteQuestionWithCheckpoint"),d=()=>{r(!0),t(!1)},u=()=>{r(!1),t(!1)};return s.jsx(Hr,{open:e,onOpenChange:t,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{className:"text-lg",children:c}),s.jsx(Xr,{className:"text-base",children:l})]}),s.jsxs(Qr,{className:"flex-col gap-2",children:[s.jsx(Jr,{className:"bg-vscode-button-secondaryBackground hover:bg-vscode-button-secondaryHoverBackground text-vscode-button-secondaryForeground border-vscode-button-border",children:a("common:answers.cancel")}),s.jsx(Sr,{onClick:u,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:a(i?"common:confirmation.editOnly":"common:confirmation.deleteOnly")}),o&&s.jsx(Sr,{onClick:d,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:a("common:confirmation.restoreToCheckpoint")})]})]})})},RS=({open:e,onOpenChange:t,onConfirm:r,type:n})=>{const{t:o}=oe(),a=n==="edit",i=o(a?"common:confirmation.editMessage":"common:confirmation.deleteMessage"),c=o(a?"common:confirmation.editWarning":"common:confirmation.deleteWarning");return s.jsx(Hr,{open:e,onOpenChange:t,children:s.jsxs(Vr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{className:"text-lg",children:i}),s.jsx(Xr,{className:"text-base",children:c})]}),s.jsxs(Qr,{className:"flex-col gap-2",children:[s.jsx(Jr,{className:"bg-vscode-button-secondaryBackground hover:bg-vscode-button-secondaryHoverBackground text-vscode-button-secondaryForeground border-vscode-button-border",children:o("common:answers.cancel")}),s.jsx(Sr,{onClick:r,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:o("common:confirmation.proceed")})]})]})})},yK=e=>s.jsx(RS,{...e,type:"edit"}),wK=e=>s.jsx(RS,{...e,type:"delete"}),X0=90,kK=50;let J0=!1;function jK(){J0||(J0=!0,Yt.capture(Ts.MEMORY_WARNING_SHOWN))}const _K=()=>{const{t:e}=oe(),[t,r]=h.useState(!0),[n,o]=h.useState(i0());return h.useEffect(()=>{const a=setInterval(()=>{const i=i0();i<kK&&r(!0),i>=X0&&jK(),o(i)},1e4);return()=>clearInterval(a)},[]),t&&n>=X0&&s.jsx("div",{className:"fixed z-[9999] left-2 top-2 right-2",children:s.jsxs("div",{className:"flex items-center gap-3 p-4 text-lg rounded shadow-lg border",style:{backgroundColor:"var(--vscode-inputValidation-errorBackground, rgba(255, 0, 0, 0.1))",borderColor:"var(--vscode-inputValidation-errorBorder, #ff0000)",color:"var(--vscode-errorForeground, #ff0000)"},children:[s.jsx("span",{className:"codicon codicon-warning"}),s.jsx("span",{className:"flex-1 font-semibold",children:e("kilocode:memoryWarning.message",{percentage:n})}),s.jsx("button",{className:"codicon codicon-close cursor-pointer",onClick:()=>r(!1)})]})})},NK=He.memo(wK),SK=He.memo(yK),Z0=He.memo(bK),TK=He.memo(gK),IK={chatButtonClicked:"chat",settingsButtonClicked:"settings",historyButtonClicked:"history",profileButtonClicked:"profile",marketplaceButtonClicked:"marketplace",promptsButtonClicked:"settings",mcpButtonClicked:"mcp"},PK={promptsButtonClicked:"modes"},EK=()=>{const{didHydrateState:e,showWelcome:t,shouldShowAnnouncement:r,telemetrySetting:n,telemetryKey:o,machineId:a,renderContext:i,mdmCompliant:c,apiConfiguration:l}=Ge(),d=h.useMemo(()=>new Pg,[]),[u,p]=h.useState(!1),[m,g]=h.useState("chat"),[f,x]=h.useState("chat"),[v,N]=h.useState(void 0),[y,w]=h.useState(void 0),[b,k]=h.useState({isOpen:!1,requestId:"",promptText:""}),[_,j]=h.useState({isOpen:!1,messageTs:0,hasCheckpoint:!1}),[T,S]=h.useState({isOpen:!1,messageTs:0,text:"",hasCheckpoint:!1,images:[]}),I=h.useRef(null),E=h.useRef(null),M=h.useCallback(Q=>{var O;if(c===!1&&Q!=="cloud"){A.postMessage({type:"showMdmAuthRequiredNotification"});return}C(void 0),B(void 0),Q==="auth"?g(Q):(O=I.current)!=null&&O.checkUnsaveChanges?I.current.checkUnsaveChanges(()=>g(Q)):g(Q)},[c]),[R,C]=h.useState(void 0),[q,B]=h.useState(void 0),U=h.useCallback(Q=>{var F,W,re,H,Z,Y,G,ie;const O=Q.data;if(O.type==="action"&&O.action){if(O.action==="focusChatInput"){m!=="chat"&&M("chat"),(F=E.current)==null||F.focusInput();return}if(O.action==="switchTab"&&O.tab){const D=O.tab;if(D==="auth"){if((W=O.values)!=null&&W.returnTo){const xe=O.values.returnTo;x(xe)}if((re=O.values)!=null&&re.profileName){const xe=O.values.profileName;N(xe),w(xe)}}M(D);const me=(H=O.values)==null?void 0:H.section;C(me),B(void 0)}else{const D=IK[O.action],me=((Z=O.values)==null?void 0:Z.section)??PK[O.action],xe=(Y=O.values)==null?void 0:Y.marketplaceTab,we=(G=O.values)==null?void 0:G.editingProfile;D&&(M(D),C(me),B(xe),D==="settings"&&we&&setTimeout(()=>{window.postMessage({type:"action",action:"settingsButtonClicked",values:{editingProfile:we}},"*")},100))}}if(O.type==="showHumanRelayDialog"&&O.requestId&&O.promptText){const{requestId:D,promptText:me}=O;k({isOpen:!0,requestId:D,promptText:me})}O.type==="showDeleteMessageDialog"&&O.messageTs&&j({isOpen:!0,messageTs:O.messageTs,hasCheckpoint:O.hasCheckpoint||!1}),O.type==="showEditMessageDialog"&&O.messageTs&&O.text&&S({isOpen:!0,messageTs:O.messageTs,text:O.text,hasCheckpoint:O.hasCheckpoint||!1,images:O.images||[]}),O.type==="acceptInput"&&((ie=E.current)==null||ie.acceptInput())},[m,M]);tr("message",U),h.useEffect(()=>{r&&m==="chat"&&(p(!0),A.postMessage({type:"didShowAnnouncement"}))},[r,m]);const te=hS((l==null?void 0:l.kilocodeToken)??"",a??"");return h.useEffect(()=>{if(e){Yt.updateTelemetryState(n,o,te);const Q=new vK;return Q.start(),()=>Q.stop()}},[n,o,te,e]),h.useEffect(()=>A.postMessage({type:"webviewDidLaunch"}),[]),h.useEffect(()=>{eE(),tE(),console.debug("App initialized with source map support")},[]),DC(h.useCallback(()=>{i==="editor"&&A.postMessage({type:"focusPanelRequest"})},[i])),h.useEffect(()=>{m==="marketplace"&&Yt.capture(Ts.MARKETPLACE_TAB_VIEWED)},[m]),e?t?s.jsx(lK,{}):s.jsxs(s.Fragment,{children:[s.jsx(_K,{}),m==="mcp"&&s.jsx(jS,{onDone:()=>M("chat")}),m==="history"&&s.jsx($F,{onDone:()=>M("chat")}),m==="settings"&&s.jsx(jU,{ref:I,onDone:()=>M("chat"),targetSection:R,editingProfile:y}),m==="profile"&&s.jsx(hK,{onDone:()=>M("chat")}),m==="auth"&&s.jsx(fK,{returnTo:f,profileName:v}),m==="marketplace"&&s.jsx(NS,{stateManager:d,onDone:()=>M("chat"),targetTab:"mode"}),s.jsx(BF,{ref:E,isHidden:m!=="chat",showAnnouncement:u,hideAnnouncement:()=>p(!1)}),s.jsx(TK,{isOpen:b.isOpen,requestId:b.requestId,promptText:b.promptText,onClose:()=>k(Q=>({...Q,isOpen:!1})),onSubmit:(Q,O)=>A.postMessage({type:"humanRelayResponse",requestId:Q,text:O}),onCancel:Q=>A.postMessage({type:"humanRelayCancel",requestId:Q})}),_.hasCheckpoint?s.jsx(Z0,{open:_.isOpen,type:"delete",hasCheckpoint:_.hasCheckpoint,onOpenChange:Q=>j(O=>({...O,isOpen:Q})),onConfirm:Q=>{A.postMessage({type:"deleteMessageConfirm",messageTs:_.messageTs,restoreCheckpoint:Q}),j(O=>({...O,isOpen:!1}))}}):s.jsx(NK,{open:_.isOpen,onOpenChange:Q=>j(O=>({...O,isOpen:Q})),onConfirm:()=>{A.postMessage({type:"deleteMessageConfirm",messageTs:_.messageTs}),j(Q=>({...Q,isOpen:!1}))}}),T.hasCheckpoint?s.jsx(Z0,{open:T.isOpen,type:"edit",hasCheckpoint:T.hasCheckpoint,onOpenChange:Q=>S(O=>({...O,isOpen:Q})),onConfirm:Q=>{A.postMessage({type:"editMessageConfirm",messageTs:T.messageTs,text:T.text,restoreCheckpoint:Q}),S(O=>({...O,isOpen:!1}))}}):s.jsx(SK,{open:T.isOpen,onOpenChange:Q=>S(O=>({...O,isOpen:Q})),onConfirm:()=>{A.postMessage({type:"editMessageConfirm",messageTs:T.messageTs,text:T.text,images:T.images}),S(Q=>({...Q,isOpen:!1}))}}),!["chat","settings","history"].includes(m)&&s.jsx("div",{className:"fixed inset-0 top-auto",children:s.jsx(ix,{})})]}):null},MK=new hP,AK=()=>s.jsx(pI,{children:s.jsx(PT,{children:s.jsx(ET,{children:s.jsx(vP,{client:MK,children:s.jsx(Vi,{delayDuration:mI,children:s.jsx(EK,{})})})})})});fj().catch(e=>console.error("Failed to initialize Shiki highlighter:",e));zS.createRoot(document.getElementById("root")).render(s.jsx(h.StrictMode,{children:s.jsx(AK,{})}));
//# sourceMappingURL=index.js.map
