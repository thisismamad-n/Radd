{
  "version": 3,
  "file": "chunk-CdxzjLEs.js",
  "sources": [
    "../../../../webview-ui/src/utils/vscode.ts"
  ],
  "sourcesContent": [
    "import type { WebviewApi } from \"vscode-webview\"\r\n\r\nimport { MaybeTypedWebviewMessage as WebviewMessage } from \"@roo/WebviewMessage\" // kilocode_change - using MaybeTypedWebviewMessage\r\n\r\n/**\r\n * A utility wrapper around the acquireVsCodeApi() function, which enables\r\n * message passing and state management between the webview and extension\r\n * contexts.\r\n *\r\n * This utility also enables webview code to be run in a web browser-based\r\n * dev server by using native web browser features that mock the functionality\r\n * enabled by acquireVsCodeApi.\r\n */\r\nclass VSCodeAPIWrapper {\r\n\tprivate readonly vsCodeApi: WebviewApi<unknown> | undefined\r\n\r\n\tconstructor() {\r\n\t\t// Check if the acquireVsCodeApi function exists in the current development\r\n\t\t// context (i.e. VS Code development window or web browser)\r\n\t\tif (typeof acquireVsCodeApi === \"function\") {\r\n\t\t\tthis.vsCodeApi = acquireVsCodeApi()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Post a message (i.e. send arbitrary data) to the owner of the webview.\r\n\t *\r\n\t * @remarks When running webview code inside a web browser, postMessage will instead\r\n\t * log the given message to the console.\r\n\t *\r\n\t * @param message Arbitrary data (must be JSON serializable) to send to the extension context.\r\n\t */\r\n\tpublic postMessage(message: WebviewMessage) {\r\n\t\tif (this.vsCodeApi) {\r\n\t\t\tthis.vsCodeApi.postMessage(message)\r\n\t\t} else {\r\n\t\t\tconsole.log(message)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get the persistent state stored for this webview.\r\n\t *\r\n\t * @remarks When running webview source code inside a web browser, getState will retrieve state\r\n\t * from local storage (https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).\r\n\t *\r\n\t * @return The current state or `undefined` if no state has been set.\r\n\t */\r\n\tpublic getState(): unknown | undefined {\r\n\t\tif (this.vsCodeApi) {\r\n\t\t\treturn this.vsCodeApi.getState()\r\n\t\t} else {\r\n\t\t\tconst state = localStorage.getItem(\"vscodeState\")\r\n\t\t\treturn state ? JSON.parse(state) : undefined\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set the persistent state stored for this webview.\r\n\t *\r\n\t * @remarks When running webview source code inside a web browser, setState will set the given\r\n\t * state using local storage (https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).\r\n\t *\r\n\t * @param newState New persisted state. This must be a JSON serializable object. Can be retrieved\r\n\t * using {@link getState}.\r\n\t *\r\n\t * @return The new state.\r\n\t */\r\n\tpublic setState<T extends unknown | undefined>(newState: T): T {\r\n\t\tif (this.vsCodeApi) {\r\n\t\t\treturn this.vsCodeApi.setState(newState)\r\n\t\t} else {\r\n\t\t\tlocalStorage.setItem(\"vscodeState\", JSON.stringify(newState))\r\n\t\t\treturn newState\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Exports class singleton to prevent multiple invocations of acquireVsCodeApi.\r\nexport const vscode = new VSCodeAPIWrapper()\r\n\r\n// kilocode_change start\r\n// Make vscode available globally - this allows the playwright tests\r\n// to post messages directly so we can setup provider credentials\r\n// without having to go through the Settings UI in every test.\r\nif (typeof window !== \"undefined\") {\r\n\t;(window as unknown as { vscode: VSCodeAPIWrapper }).vscode = vscode\r\n}\r\n// kilocode_change end\r\n"
  ],
  "names": [
    "VSCodeAPIWrapper",
    "__publicField",
    "message",
    "state",
    "newState",
    "vscode"
  ],
  "mappings": "oKAaA,MAAMA,CAAiB,CAGtB,aAAc,CAFGC,EAAA,kBAKZ,OAAO,kBAAqB,aAC/B,KAAK,UAAY,iBAAiB,EACnC,CAWM,YAAYC,EAAyB,CACvC,KAAK,UACH,KAAA,UAAU,YAAYA,CAAO,EAElC,QAAQ,IAAIA,CAAO,CACpB,CAWM,UAAgC,CACtC,GAAI,KAAK,UACD,OAAA,KAAK,UAAU,SAAS,EACzB,CACA,MAAAC,EAAQ,aAAa,QAAQ,aAAa,EAChD,OAAOA,EAAQ,KAAK,MAAMA,CAAK,EAAI,MAAA,CACpC,CAcM,SAAwCC,EAAgB,CAC9D,OAAI,KAAK,UACD,KAAK,UAAU,SAASA,CAAQ,GAEvC,aAAa,QAAQ,cAAe,KAAK,UAAUA,CAAQ,CAAC,EACrDA,EACR,CAEF,CAGa,MAAAC,EAAS,IAAIL,EAMtB,OAAO,OAAW,MACnB,OAAmD,OAASK",
  "sourceRoot": ""
}